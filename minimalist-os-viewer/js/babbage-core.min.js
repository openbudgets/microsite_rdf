!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3"),require("c3"),require("jQuery")):"function"==typeof define&&define.amd?define(["d3","c3","jQuery"],e):"object"==typeof exports?exports.Babbage=e(require("d3"),require("c3"),require("jQuery")):t.Babbage=e(t.d3,t.c3,t.jQuery)}(this,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(2);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function h(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function p(t,e){var n=null==t?0:t.length;return!!n&&C(t,e,0)>-1}function d(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function v(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function g(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function y(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function _(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function b(t){return t.split("")}function x(t){return t.match(qe)||[]}function w(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function k(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function C(t,e,n){return e===e?K(t,e,n):k(t,j,n)}function T(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function j(t){return t!==t}function E(t,e){var n=null==t?0:t.length;return n?O(t,e)/n:It}function A(t){return function(e){return null==e?it:e[t]}}function S(t){return function(e){return null==t?it:t[e]}}function B(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function P(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==it&&(n=n===it?o:n+o)}return n}function F(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function M(t,e){return v(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function L(t,e){return v(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function N(t,e){for(var n=-1,r=t.length;++n<r&&C(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length;n--&&C(e,t[n],0)>-1;);return n}function z(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function U(t){return"\\"+nr[t]}function V(t,e){return null==t?it:t[e]}function q(t){return Gn.test(t)}function H(t){return Xn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){return function(n){return t(e(n))}}function X(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ht||(t[n]=ht,o[i++]=n)}return o}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Z(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function J(t){return q(t)?et(t):_r(t)}function tt(t){return q(t)?nt(t):b(t)}function et(t){for(var e=Wn.lastIndex=0;Wn.test(t);)++e;return e}function nt(t){return t.match(Wn)||[]}function rt(t){return t.match($n)||[]}var it,ot="4.17.0",at=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ut="Expected a function",lt="__lodash_hash_undefined__",ct=500,ht="__lodash_placeholder__",ft=1,pt=2,dt=4,vt=1,gt=2,yt=1,mt=2,_t=4,bt=8,xt=16,wt=32,kt=64,Ct=128,Tt=256,jt=512,Et=30,At="...",St=800,Bt=16,Pt=1,Ot=2,Ft=3,Mt=1/0,Rt=9007199254740991,Lt=1.7976931348623157e308,It=NaN,Nt=4294967295,Dt=Nt-1,zt=Nt>>>1,Ut=[["ary",Ct],["bind",yt],["bindKey",mt],["curry",bt],["curryRight",xt],["flip",jt],["partial",wt],["partialRight",kt],["rearg",Tt]],Vt="[object Arguments]",qt="[object Array]",Ht="[object AsyncFunction]",Wt="[object Boolean]",$t="[object Date]",Gt="[object DOMException]",Xt="[object Error]",Yt="[object Function]",Qt="[object GeneratorFunction]",Kt="[object Map]",Zt="[object Number]",Jt="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",re="[object RegExp]",ie="[object Set]",oe="[object String]",ae="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",le="[object WeakSet]",ce="[object ArrayBuffer]",he="[object DataView]",fe="[object Float32Array]",pe="[object Float64Array]",de="[object Int8Array]",ve="[object Int16Array]",ge="[object Int32Array]",ye="[object Uint8Array]",me="[object Uint8ClampedArray]",_e="[object Uint16Array]",be="[object Uint32Array]",xe=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,je=RegExp(Ce.source),Ee=RegExp(Te.source),Ae=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Be=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Fe=/^\./,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Re.source),Ie=/^\s+|\s+$/g,Ne=/^\s+/,De=/\s+$/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Ve=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$e=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",an=nn+rn+on,sn="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",ln="\\xac\\xb1\\xd7\\xf7",cn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hn="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pn="A-Z\\xc0-\\xd6\\xd8-\\xde",dn="\\ufe0e\\ufe0f",vn=ln+cn+hn+fn,gn="['’]",yn="["+en+"]",mn="["+vn+"]",_n="["+an+"]",bn="\\d+",xn="["+sn+"]",wn="["+un+"]",kn="[^"+en+vn+bn+sn+un+pn+"]",Cn="\\ud83c[\\udffb-\\udfff]",Tn="(?:"+_n+"|"+Cn+")",jn="[^"+en+"]",En="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+pn+"]",Bn="\\u200d",Pn="(?:"+wn+"|"+kn+")",On="(?:"+Sn+"|"+kn+")",Fn="(?:"+gn+"(?:d|ll|m|re|s|t|ve))?",Mn="(?:"+gn+"(?:D|LL|M|RE|S|T|VE))?",Rn=Tn+"?",Ln="["+dn+"]?",In="(?:"+Bn+"(?:"+[jn,En,An].join("|")+")"+Ln+Rn+")*",Nn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Dn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",zn=Ln+Rn+In,Un="(?:"+[xn,En,An].join("|")+")"+zn,Vn="(?:"+[jn+_n+"?",_n,En,An,yn].join("|")+")",qn=RegExp(gn,"g"),Hn=RegExp(_n,"g"),Wn=RegExp(Cn+"(?="+Cn+")|"+Vn+zn,"g"),$n=RegExp([Sn+"?"+wn+"+"+Fn+"(?="+[mn,Sn,"$"].join("|")+")",On+"+"+Mn+"(?="+[mn,Sn+Pn,"$"].join("|")+")",Sn+"?"+Pn+"+"+Fn,Sn+"+"+Mn,Dn,Nn,bn,Un].join("|"),"g"),Gn=RegExp("["+Bn+en+an+dn+"]"),Xn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qn=-1,Kn={};Kn[fe]=Kn[pe]=Kn[de]=Kn[ve]=Kn[ge]=Kn[ye]=Kn[me]=Kn[_e]=Kn[be]=!0,Kn[Vt]=Kn[qt]=Kn[ce]=Kn[Wt]=Kn[he]=Kn[$t]=Kn[Xt]=Kn[Yt]=Kn[Kt]=Kn[Zt]=Kn[te]=Kn[re]=Kn[ie]=Kn[oe]=Kn[ue]=!1;var Zn={};Zn[Vt]=Zn[qt]=Zn[ce]=Zn[he]=Zn[Wt]=Zn[$t]=Zn[fe]=Zn[pe]=Zn[de]=Zn[ve]=Zn[ge]=Zn[Kt]=Zn[Zt]=Zn[te]=Zn[re]=Zn[ie]=Zn[oe]=Zn[ae]=Zn[ye]=Zn[me]=Zn[_e]=Zn[be]=!0,Zn[Xt]=Zn[Yt]=Zn[ue]=!1;var Jn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},er={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,ir=parseInt,or="object"==typeof t&&t&&t.Object===Object&&t,ar="object"==typeof self&&self&&self.Object===Object&&self,sr=or||ar||Function("return this")(),ur="object"==typeof e&&e&&!e.nodeType&&e,lr=ur&&"object"==typeof i&&i&&!i.nodeType&&i,cr=lr&&lr.exports===ur,hr=cr&&or.process,fr=function(){try{return hr&&hr.binding&&hr.binding("util")}catch(t){}}(),pr=fr&&fr.isArrayBuffer,dr=fr&&fr.isDate,vr=fr&&fr.isMap,gr=fr&&fr.isRegExp,yr=fr&&fr.isSet,mr=fr&&fr.isTypedArray,_r=A("length"),br=S(Jn),xr=S(tr),wr=S(er),kr=function t(e){function n(t){if(uu(t)&&!bf(t)&&!(t instanceof b)){if(t instanceof i)return t;if(_c.call(t,"__wrapped__"))return oa(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function b(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nt,this.__views__=[]}function S(){var t=new b(this.__wrapped__);return t.__actions__=Ui(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ui(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ui(this.__views__),t}function K(){if(this.__filtered__){var t=new b(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=bf(t),r=e<0,i=n?t.length:0,o=Ao(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,p=Yc(u,this.__takeCount__);if(!n||i<at||i==u&&p==u)return wi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){l+=e;for(var v=-1,g=t[l];++v<h;){var y=c[v],m=y.iteratee,_=y.type,b=m(g);if(_==Ot)g=b;else if(!b){if(_==Pt)continue t;break t}}d[f++]=g}return d}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qe(){this.__data__=oh?oh(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(oh){var n=e[t];return n===lt?it:n}return _c.call(e,t)?e[t]:it}function rn(t){var e=this.__data__;return oh?e[t]!==it:_c.call(e,t)}function on(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=oh&&e===it?lt:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sn(){this.__data__=[],this.size=0}function un(t){var e=this.__data__,n=Mn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Fc.call(e,n,1),--this.size,!0}function ln(t){var e=this.__data__,n=Mn(e,t);return n<0?it:e[n][1]}function cn(t){return Mn(this.__data__,t)>-1}function hn(t,e){var n=this.__data__,r=Mn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pn(){this.size=0,this.__data__={hash:new nt,map:new(eh||an),string:new nt}}function dn(t){var e=Co(this,t).delete(t);return this.size-=e?1:0,e}function vn(t){return Co(this,t).get(t)}function gn(t){return Co(this,t).has(t)}function yn(t,e){var n=Co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new fn;++e<n;)this.add(t[e])}function _n(t){return this.__data__.set(t,lt),this}function bn(t){return this.__data__.has(t)}function xn(t){var e=this.__data__=new an(t);this.size=e.size}function wn(){this.__data__=new an,this.size=0}function kn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cn(t){return this.__data__.get(t)}function Tn(t){return this.__data__.has(t)}function jn(t,e){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!eh||r.length<at-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fn(r)}return n.set(t,e),this.size=n.size,this}function En(t,e){var n=bf(t),r=!n&&_f(t),i=!n&&!r&&wf(t),o=!n&&!r&&!i&&Ef(t),a=n||r||i||o,s=a?F(t.length,fc):[],u=s.length;for(var l in t)!e&&!_c.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Lo(l,u))||s.push(l);return s}function An(t){var e=t.length;return e?t[ri(0,e-1)]:it}function Sn(t,e){return ea(Ui(t),zn(e,0,t.length))}function Bn(t){return ea(Ui(t))}function Pn(t,e,n,r){return t===it||Xs(t,gc[n])&&!_c.call(r,n)?e:t}function On(t,e,n){(n===it||Xs(t[e],n))&&(n!==it||e in t)||Nn(t,e,n)}function Fn(t,e,n){var r=t[e];_c.call(t,e)&&Xs(r,n)&&(n!==it||e in t)||Nn(t,e,n)}function Mn(t,e){for(var n=t.length;n--;)if(Xs(t[n][0],e))return n;return-1}function Rn(t,e,n,r){return yh(t,function(t,i,o){e(r,t,n(t),o)}),r}function Ln(t,e){return t&&Vi(e,qu(e),t)}function In(t,e){return t&&Vi(e,Hu(e),t)}function Nn(t,e,n){"__proto__"==e&&Ic?Ic(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Dn(t,e){for(var n=-1,r=e.length,i=oc(r),o=null==t;++n<r;)i[n]=o?it:zu(t,e[n]);return i}function zn(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function Un(t,e,n,r,i,o){var a,s=e&ft,u=e&pt,c=e&dt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==it)return a;if(!su(t))return t;var h=bf(t);if(h){if(a=Po(t),!s)return Ui(t,a)}else{var f=Sh(t),p=f==Yt||f==Qt;if(wf(t))return Si(t,s);if(f==te||f==Vt||p&&!i){if(a=u||p?{}:Oo(t),!s)return u?Hi(t,In(a,t)):qi(t,Ln(a,t))}else{if(!Zn[f])return i?t:{};a=Fo(t,f,Un,s)}}o||(o=new xn);var d=o.get(t);if(d)return d;o.set(t,a);var v=c?u?bo:_o:u?Hu:qu,g=h?it:v(t);return l(g||t,function(r,i){g&&(i=r,r=t[i]),Fn(a,i,Un(r,e,n,i,t,o))}),a}function Vn(t){var e=qu(t);return function(n){return Wn(n,t,e)}}function Wn(t,e,n){var r=n.length;if(null==t)return!r;for(t=cc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new pc(ut);return Oh(function(){t.apply(it,n)},e)}function Gn(t,e,n,r){var i=-1,o=p,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=v(e,R(n))),r?(o=d,a=!1):e.length>=at&&(o=I,a=!1,e=new mn(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}function Xn(t,e){var n=!0;return yh(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Jn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===it?a===a&&!_u(a):n(a,s)))var s=a,u=o}return u}function tr(t,e,n,r){var i=t.length;for(n=Tu(n),n<0&&(n=-n>i?0:i+n),r=r===it||r>i?i:Tu(r),r<0&&(r+=i),r=n>r?0:ju(r);n<r;)t[n++]=e;return t}function er(t,e){var n=[];return yh(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function nr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ro),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?nr(s,e-1,n,r,i):g(i,s):r||(i[i.length]=s)}return i}function or(t,e){return t&&_h(t,e,qu)}function ar(t,e){return t&&bh(t,e,qu)}function ur(t,e){return f(e,function(e){return iu(t[e])})}function lr(t,e){e=No(e,t)?[e]:Ei(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[na(e[n++])];return n&&n==r?t:it}function hr(t,e,n){var r=e(t);return bf(t)?r:g(r,n(t))}function fr(t){return null==t?t===it?se:Jt:(t=cc(t),Lc&&Lc in t?Eo(t):Yo(t))}function _r(t,e){return t>e}function kr(t,e){return null!=t&&_c.call(t,e)}function Tr(t,e){return null!=t&&e in cc(t)}function jr(t,e,n){return t>=Yc(e,n)&&t<Xc(e,n)}function Er(t,e,n){for(var r=n?d:p,i=t[0].length,o=t.length,a=o,s=oc(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=v(c,R(e))),u=Yc(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new mn(a&&c):it}c=t[0];var h=-1,f=s[0];t:for(;++h<i&&l.length<u;){var g=c[h],y=e?e(g):g;if(g=n||0!==g?g:0,!(f?I(f,y):r(l,y,n))){for(a=o;--a;){var m=s[a];if(!(m?I(m,y):r(t[a],y,n)))continue t}f&&f.push(y),l.push(g)}}return l}function Ar(t,e,n,r){return or(t,function(t,i,o){e(r,n(t),i,o)}),r}function Sr(t,e,n){No(e,t)||(e=Ei(e),t=Ko(t,e),e=Ca(e));var r=null==t?t:t[na(e)];return null==r?it:s(r,t,n)}function Br(t){return uu(t)&&fr(t)==Vt}function Pr(t){return uu(t)&&fr(t)==ce}function Or(t){return uu(t)&&fr(t)==$t}function Fr(t,e,n,r,i){return t===e||(null==t||null==e||!su(t)&&!uu(e)?t!==t&&e!==e:Mr(t,e,n,r,Fr,i))}function Mr(t,e,n,r,i,o){var a=bf(t),s=bf(e),u=qt,l=qt;a||(u=Sh(t),u=u==Vt?te:u),s||(l=Sh(e),l=l==Vt?te:l);var c=u==te,h=l==te,f=u==l;if(f&&wf(t)){if(!wf(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new xn),a||Ef(t)?vo(t,e,n,r,i,o):go(t,e,u,n,r,i,o);if(!(n&vt)){var p=c&&_c.call(t,"__wrapped__"),d=h&&_c.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,g=d?e.value():e;return o||(o=new xn),i(v,g,n,r,o)}}return!!f&&(o||(o=new xn),yo(t,e,n,r,i,o))}function Rr(t){return uu(t)&&Sh(t)==Kt}function Lr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=cc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===it&&!(u in t))return!1}else{var h=new xn;if(r)var f=r(l,c,u,t,e,h);if(!(f===it?Fr(c,l,vt|gt,r,h):f))return!1}}return!0}function Ir(t){if(!su(t)||Uo(t))return!1;var e=iu(t)?Tc:Ye;return e.test(ra(t))}function Nr(t){return uu(t)&&fr(t)==re}function Dr(t){return uu(t)&&Sh(t)==ie}function zr(t){return uu(t)&&au(t.length)&&!!Kn[fr(t)]}function Ur(t){return"function"==typeof t?t:null==t?Fl:"object"==typeof t?bf(t)?Gr(t[0],t[1]):$r(t):Ul(t)}function Vr(t){if(!Vo(t))return Gc(t);var e=[];for(var n in cc(t))_c.call(t,n)&&"constructor"!=n&&e.push(n);return e}function qr(t){if(!su(t))return Xo(t);var e=Vo(t),n=[];for(var r in t)("constructor"!=r||!e&&_c.call(t,r))&&n.push(r);return n}function Hr(t,e){return t<e}function Wr(t,e){var n=-1,r=Ys(t)?oc(t.length):[];return yh(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function $r(t){var e=To(t);return 1==e.length&&e[0][2]?Ho(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function Gr(t,e){return No(t)&&qo(e)?Ho(na(t),e):function(n){var r=zu(n,t);return r===it&&r===e?Vu(n,t):Fr(e,r,vt|gt)}}function Xr(t,e,n,r,i){t!==e&&_h(e,function(o,a){if(su(o))i||(i=new xn),Yr(t,e,a,n,Xr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):it;s===it&&(s=o),On(t,a,s)}},Hu)}function Yr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void On(t,n,l);var c=o?o(s,u,n+"",t,e,a):it,h=c===it;if(h){var f=bf(u),p=!f&&wf(u),d=!f&&!p&&Ef(u);c=u,f||p||d?bf(s)?c=s:Qs(s)?c=Ui(s):p?(h=!1,c=Si(u,!0)):d?(h=!1,c=Li(u,!0)):c=[]:gu(u)||_f(u)?(c=s,_f(s)?c=Au(s):(!su(s)||r&&iu(s))&&(c=Oo(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),On(t,n,c)}function Qr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Lo(e,n)?t[e]:it}function Kr(t,e,n){var r=-1;e=v(e.length?e:[Fl],R(ko()));var i=Wr(t,function(t,n,i){var o=v(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return P(i,function(t,e){return Ni(t,e,n)})}function Zr(t,e){return t=cc(t),Jr(t,e,function(e,n){return Vu(t,n)})}function Jr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=lr(t,a);n(s,a)&&li(o,a,s)}return o}function ti(t){return function(e){return lr(e,t)}}function ei(t,e,n,r){var i=r?T:C,o=-1,a=e.length,s=t;for(t===e&&(e=Ui(e)),n&&(s=v(t,R(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Fc.call(s,u,1),Fc.call(t,u,1);return t}function ni(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(Lo(i))Fc.call(t,i,1);else if(No(i,t))delete t[na(i)];else{var a=Ei(i),s=Ko(t,a);null!=s&&delete s[na(Ca(a))]}}}return t}function ri(t,e){return t+Vc(Zc()*(e-t+1))}function ii(t,e,n,r){for(var i=-1,o=Xc(Uc((e-t)/(n||1)),0),a=oc(o);o--;)a[r?o:++i]=t,t+=n;return a}function oi(t,e){var n="";if(!t||e<1||e>Rt)return n;do e%2&&(n+=t),e=Vc(e/2),e&&(t+=t);while(e);return n}function ai(t,e){return Fh(Qo(t,e,Fl),t+"")}function si(t){return An(nl(t))}function ui(t,e){var n=nl(t);return ea(n,zn(e,0,n.length))}function li(t,e,n,r){if(!su(t))return t;e=No(e,t)?[e]:Ei(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=na(e[i]),l=n;if(i!=a){var c=s[u];l=r?r(c,u,s):it,l===it&&(l=su(c)?c:Lo(e[i+1])?[]:{})}Fn(s,u,l),s=s[u]}return t}function ci(t){return ea(nl(t))}function hi(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=oc(i);++r<i;)o[r]=t[r+e];return o}function fi(t,e){var n;return yh(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function pi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=zt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!_u(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return di(t,e,Fl,n)}function di(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=_u(e),l=e===it;i<o;){var c=Vc((i+o)/2),h=n(t[c]),f=h!==it,p=null===h,d=h===h,v=_u(h);if(a)var g=r||d;else g=l?d&&(r||f):s?d&&f&&(r||!p):u?d&&f&&!p&&(r||!v):!p&&!v&&(r?h<=e:h<e);g?i=c+1:o=c}return Yc(o,Dt)}function vi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Xs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function gi(t){return"number"==typeof t?t:_u(t)?It:+t}function yi(t){if("string"==typeof t)return t;if(bf(t))return v(t,yi)+"";if(_u(t))return vh?vh.call(t):"";var e=t+"";return"0"==e&&1/t==-Mt?"-0":e}function mi(t,e,n){var r=-1,i=p,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(o>=at){var l=e?null:Th(t);if(l)return Y(l);a=!1,i=I,u=new mn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function _i(t,e){e=No(e,t)?[e]:Ei(e),t=Ko(t,e);var n=na(Ca(e));return!(null!=t&&_c.call(t,n))||delete t[n]}function bi(t,e,n,r){return li(t,e,n(lr(t,e)),r)}function xi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?hi(t,r?0:o,r?o+1:i):hi(t,r?o+1:0,r?i:o)}function wi(t,e){var n=t;return n instanceof b&&(n=n.value()),y(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},n)}function ki(t,e,n){var r=t.length;if(r<2)return r?mi(t[0]):[];for(var i=-1,o=oc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Gn(o[i]||a,t[s],e,n));return mi(nr(o,1),e,n)}function Ci(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:it;n(a,t[r],s)}return a}function Ti(t){return Qs(t)?t:[]}function ji(t){return"function"==typeof t?t:Fl}function Ei(t){return bf(t)?t:Mh(t)}function Ai(t,e,n){var r=t.length;return n=n===it?r:n,!e&&n>=r?t:hi(t,e,n)}function Si(t,e){if(e)return t.slice();var n=t.length,r=Sc?Sc(n):new t.constructor(n);return t.copy(r),r}function Bi(t){var e=new t.constructor(t.byteLength);return new Ac(e).set(new Ac(t)),e}function Pi(t,e){var n=e?Bi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Oi(t,e,n){var r=e?n($(t),ft):$(t);return y(r,o,new t.constructor)}function Fi(t){var e=new t.constructor(t.source,$e.exec(t));return e.lastIndex=t.lastIndex,e}function Mi(t,e,n){var r=e?n(Y(t),ft):Y(t);return y(r,a,new t.constructor)}function Ri(t){return dh?cc(dh.call(t)):{}}function Li(t,e){var n=e?Bi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ii(t,e){if(t!==e){var n=t!==it,r=null===t,i=t===t,o=_u(t),a=e!==it,s=null===e,u=e===e,l=_u(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Ni(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ii(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}function Di(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=Xc(o-a,0),c=oc(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function zi(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=Xc(o-s,0),h=oc(c+l),f=!r;++i<c;)h[i]=t[i];for(var p=i;++u<l;)h[p+u]=e[u];for(;++a<s;)(f||i<o)&&(h[p+n[a]]=t[i++]);return h}function Ui(t,e){var n=-1,r=t.length;for(e||(e=oc(r));++n<r;)e[n]=t[n];return e}function Vi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):it;u===it&&(u=t[s]),i?Nn(n,s,u):Fn(n,s,u)}return n}function qi(t,e){return Vi(t,Eh(t),e)}function Hi(t,e){return Vi(t,Ah(t),e)}function Wi(t,e){return function(n,r){var i=bf(n)?u:Rn,o=e?e():{};return i(n,t,ko(r,2),o)}}function $i(t){return ai(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:it,a=i>2?n[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,a&&Io(n[0],n[1],a)&&(o=i<3?it:o,i=1),e=cc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Gi(t,e){return function(n,r){if(null==n)return n;if(!Ys(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=cc(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Xi(t){return function(e,n,r){for(var i=-1,o=cc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function Yi(t,e,n){function r(){var e=this&&this!==sr&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&yt,o=Zi(t);return r}function Qi(t){return function(e){e=Bu(e);var n=q(e)?tt(e):it,r=n?n[0]:e.charAt(0),i=n?Ai(n,1).join(""):e.slice(1);return r[t]()+i}}function Ki(t){return function(e){return y(Al(ul(e).replace(qn,"")),t,"")}}function Zi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gh(t.prototype),r=t.apply(n,e);return su(r)?r:n}}function Ji(t,e,n){function r(){for(var o=arguments.length,a=oc(o),u=o,l=wo(r);u--;)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:X(a,l);if(o-=c.length,o<n)return co(t,e,no,r.placeholder,it,a,c,it,it,n-o);var h=this&&this!==sr&&this instanceof r?i:t;return s(h,this,a)}var i=Zi(t);return r}function to(t){return function(e,n,r){var i=cc(e);if(!Ys(e)){var o=ko(n,3);e=qu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:it}}function eo(t){return mo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new pc(ut);if(o&&!s&&"wrapper"==xo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var u=xo(a),l="wrapper"==u?jh(a):it;s=l&&zo(l[0])&&l[1]==(Ct|bt|wt|Tt)&&!l[4].length&&1==l[9]?s[xo(l[0])].apply(s,l[3]):1==a.length&&zo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&bf(r)&&r.length>=at)return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function no(t,e,n,r,i,o,a,s,u,l){function c(){for(var y=arguments.length,m=oc(y),_=y;_--;)m[_]=arguments[_];if(d)var b=wo(c),x=z(m,b);if(r&&(m=Di(m,r,i,d)),o&&(m=zi(m,o,a,d)),y-=x,d&&y<l){var w=X(m,b);return co(t,e,no,c.placeholder,n,m,w,s,u,l-y)}var k=f?n:this,C=p?k[t]:t;return y=m.length,s?m=Zo(m,s):v&&y>1&&m.reverse(),h&&u<y&&(m.length=u),this&&this!==sr&&this instanceof c&&(C=g||Zi(C)),C.apply(k,m)}var h=e&Ct,f=e&yt,p=e&mt,d=e&(bt|xt),v=e&jt,g=p?it:Zi(t);return c}function ro(t,e){return function(n,r){return Ar(n,t,e(r),{})}}function io(t,e){return function(n,r){var i;if(n===it&&r===it)return e;if(n!==it&&(i=n),r!==it){if(i===it)return r;"string"==typeof n||"string"==typeof r?(n=yi(n),r=yi(r)):(n=gi(n),r=gi(r)),i=t(n,r)}return i}}function oo(t){return mo(function(e){return e=v(e,R(ko())),ai(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function ao(t,e){e=e===it?" ":yi(e);var n=e.length;if(n<2)return n?oi(e,t):e;var r=oi(e,Uc(t/J(e)));return q(e)?Ai(tt(r),0,t).join(""):r.slice(0,t)}function so(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=oc(c+u),f=this&&this!==sr&&this instanceof i?a:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return s(f,o?n:this,h)}var o=e&yt,a=Zi(t);return i}function uo(t){return function(e,n,r){return r&&"number"!=typeof r&&Io(e,n,r)&&(n=r=it),e=Cu(e),n===it?(n=e,e=0):n=Cu(n),r=r===it?e<n?1:-1:Cu(r),ii(e,n,r,t)}}function lo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Eu(e),n=Eu(n)),t(e,n)}}function co(t,e,n,r,i,o,a,s,u,l){var c=e&bt,h=c?a:it,f=c?it:a,p=c?o:it,d=c?it:o;e|=c?wt:kt,e&=~(c?kt:wt),e&_t||(e&=~(yt|mt));var v=[t,e,i,p,h,d,f,s,u,l],g=n.apply(it,v);return zo(t)&&Ph(g,v),g.placeholder=r,Jo(g,t,e)}function ho(t){var e=lc[t];return function(t,n){if(t=Eu(t),n=Yc(Tu(n),292)){var r=(Bu(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Bu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function fo(t){return function(e){var n=Sh(e);return n==Kt?$(e):n==ie?Q(e):M(e,t(e))}}function po(t,e,n,r,i,o,a,s){var u=e&mt;if(!u&&"function"!=typeof t)throw new pc(ut);var l=r?r.length:0;if(l||(e&=~(wt|kt),r=i=it),a=a===it?a:Xc(Tu(a),0),s=s===it?s:Tu(s),l-=i?i.length:0,e&kt){var c=r,h=i;r=i=it}var f=u?it:jh(t),p=[t,e,n,r,i,c,h,o,a,s];if(f&&$o(p,f),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=null==p[9]?u?0:t.length:Xc(p[9]-l,0),!s&&e&(bt|xt)&&(e&=~(bt|xt)),e&&e!=yt)d=e==bt||e==xt?Ji(t,e,s):e!=wt&&e!=(yt|wt)||i.length?no.apply(it,p):so(t,e,n,r);else var d=Yi(t,e,n);var v=f?xh:Ph;return Jo(v(d,p),t,e)}function vo(t,e,n,r,i,o){var a=n&vt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=n&gt?new mn:it;for(o.set(t,e),o.set(e,t);++c<s;){var p=t[c],d=e[c];if(r)var v=a?r(d,p,c,e,t,o):r(p,d,c,t,e,o);if(v!==it){if(v)continue;h=!1;break}if(f){if(!_(e,function(t,e){if(!I(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){h=!1;break}
}return o.delete(t),o.delete(e),h}function go(t,e,n,r,i,o,a){switch(n){case he:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ce:return!(t.byteLength!=e.byteLength||!o(new Ac(t),new Ac(e)));case Wt:case $t:case Zt:return Xs(+t,+e);case Xt:return t.name==e.name&&t.message==e.message;case re:case oe:return t==e+"";case Kt:var s=$;case ie:var u=r&vt;if(s||(s=Y),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=gt,a.set(t,e);var c=vo(s(t),s(e),r,i,o,a);return a.delete(t),c;case ae:if(dh)return dh.call(t)==dh.call(e)}return!1}function yo(t,e,n,r,i,o){var a=n&vt,s=qu(t),u=s.length,l=qu(e),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var f=s[h];if(!(a?f in e:_c.call(e,f)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var v=a;++h<u;){f=s[h];var g=t[f],y=e[f];if(r)var m=a?r(y,g,f,e,t,o):r(g,y,f,t,e,o);if(!(m===it?g===y||i(g,y,n,r,o):m)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}function mo(t){return Fh(Qo(t,it,ga),t+"")}function _o(t){return hr(t,qu,Eh)}function bo(t){return hr(t,Hu,Ah)}function xo(t){for(var e=t.name+"",n=sh[e],r=_c.call(sh,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function wo(t){var e=_c.call(n,"placeholder")?n:t;return e.placeholder}function ko(){var t=n.iteratee||Ml;return t=t===Ml?Ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Co(t,e){var n=t.__data__;return Do(e)?n["string"==typeof e?"string":"hash"]:n.map}function To(t){for(var e=qu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,qo(i)]}return e}function jo(t,e){var n=V(t,e);return Ir(n)?n:it}function Eo(t){var e=_c.call(t,Lc),n=t[Lc];try{t[Lc]=it;var r=!0}catch(t){}var i=wc.call(t);return r&&(e?t[Lc]=n:delete t[Lc]),i}function Ao(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Yc(e,t+a);break;case"takeRight":t=Xc(t,e-a)}}return{start:t,end:e}}function So(t){var e=t.match(Ue);return e?e[1].split(Ve):[]}function Bo(t,e,n){e=No(e,t)?[e]:Ei(e);for(var r=-1,i=e.length,o=!1;++r<i;){var a=na(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&au(i)&&Lo(a,i)&&(bf(t)||_f(t)))}function Po(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&_c.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Oo(t){return"function"!=typeof t.constructor||Vo(t)?{}:gh(Bc(t))}function Fo(t,e,n,r){var i=t.constructor;switch(e){case ce:return Bi(t);case Wt:case $t:return new i(+t);case he:return Pi(t,r);case fe:case pe:case de:case ve:case ge:case ye:case me:case _e:case be:return Li(t,r);case Kt:return Oi(t,r,n);case Zt:case oe:return new i(t);case re:return Fi(t);case ie:return Mi(t,r,n);case ae:return Ri(t)}}function Mo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ze,"{\n/* [wrapped with "+e+"] */\n")}function Ro(t){return bf(t)||_f(t)||!!(Mc&&t&&t[Mc])}function Lo(t,e){return e=null==e?Rt:e,!!e&&("number"==typeof t||Ke.test(t))&&t>-1&&t%1==0&&t<e}function Io(t,e,n){if(!su(n))return!1;var r=typeof e;return!!("number"==r?Ys(n)&&Lo(e,n.length):"string"==r&&e in n)&&Xs(n[e],t)}function No(t,e){if(bf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_u(t))||(Oe.test(t)||!Pe.test(t)||null!=e&&t in cc(e))}function Do(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function zo(t){var e=xo(t),r=n[e];if("function"!=typeof r||!(e in b.prototype))return!1;if(t===r)return!0;var i=jh(r);return!!i&&t===i[0]}function Uo(t){return!!xc&&xc in t}function Vo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gc;return t===n}function qo(t){return t===t&&!su(t)}function Ho(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in cc(n)))}}function Wo(t){var e=Ms(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}function $o(t,e){var n=t[1],r=e[1],i=n|r,o=i<(yt|mt|Ct),a=r==Ct&&n==bt||r==Ct&&n==Tt&&t[7].length<=e[8]||r==(Ct|Tt)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;r&yt&&(t[2]=e[2],i|=n&yt?0:_t);var s=e[3];if(s){var u=t[3];t[3]=u?Di(u,s,e[4]):s,t[4]=u?X(t[3],ht):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?zi(u,s,e[6]):s,t[6]=u?X(t[5],ht):e[6]),s=e[7],s&&(t[7]=s),r&Ct&&(t[8]=null==t[8]?e[8]:Yc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Go(t,e,n,r,i,o){return su(t)&&su(e)&&(o.set(e,t),Xr(t,e,it,Go,o),o.delete(e)),t}function Xo(t){var e=[];if(null!=t)for(var n in cc(t))e.push(n);return e}function Yo(t){return wc.call(t)}function Qo(t,e,n){return e=Xc(e===it?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Xc(r.length-e,0),a=oc(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=oc(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),s(t,this,u)}}function Ko(t,e){return 1==e.length?t:lr(t,hi(e,0,-1))}function Zo(t,e){for(var n=t.length,r=Yc(e.length,n),i=Ui(t);r--;){var o=e[r];t[r]=Lo(o,n)?i[o]:it}return t}function Jo(t,e,n){var r=e+"";return Fh(t,Mo(r,ia(So(r),n)))}function ta(t){var e=0,n=0;return function(){var r=Qc(),i=Bt-(r-n);if(n=r,i>0){if(++e>=St)return arguments[0]}else e=0;return t.apply(it,arguments)}}function ea(t,e){var n=-1,r=t.length,i=r-1;for(e=e===it?r:e;++n<e;){var o=ri(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function na(t){if("string"==typeof t||_u(t))return t;var e=t+"";return"0"==e&&1/t==-Mt?"-0":e}function ra(t){if(null!=t){try{return mc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ia(t,e){return l(Ut,function(n){var r="_."+n[0];e&n[1]&&!p(t,r)&&t.push(r)}),t.sort()}function oa(t){if(t instanceof b)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Ui(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,n){e=(n?Io(t,e,n):e===it)?1:Xc(Tu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=oc(Uc(r/e));i<r;)a[o++]=hi(t,i,i+=e);return a}function sa(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ua(){var t=arguments.length;if(!t)return[];for(var e=oc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return g(bf(n)?Ui(n):[n],nr(e,1))}function la(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:Tu(e),hi(t,e<0?0:e,r)):[]}function ca(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:Tu(e),e=r-e,hi(t,0,e<0?0:e)):[]}function ha(t,e){return t&&t.length?xi(t,ko(e,3),!0,!0):[]}function fa(t,e){return t&&t.length?xi(t,ko(e,3),!0):[]}function pa(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Io(t,e,n)&&(n=0,r=i),tr(t,e,n,r)):[]}function da(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Tu(n);return i<0&&(i=Xc(r+i,0)),k(t,ko(e,3),i)}function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==it&&(i=Tu(n),i=n<0?Xc(r+i,0):Yc(i,r-1)),k(t,ko(e,3),i,!0)}function ga(t){var e=null==t?0:t.length;return e?nr(t,1):[]}function ya(t){var e=null==t?0:t.length;return e?nr(t,Mt):[]}function ma(t,e){var n=null==t?0:t.length;return n?(e=e===it?1:Tu(e),nr(t,e)):[]}function _a(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ba(t){return t&&t.length?t[0]:it}function xa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Tu(n);return i<0&&(i=Xc(r+i,0)),C(t,e,i)}function wa(t){var e=null==t?0:t.length;return e?hi(t,0,-1):[]}function ka(t,e){return null==t?"":$c.call(t,e)}function Ca(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Ta(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==it&&(i=Tu(n),i=i<0?Xc(r+i,0):Yc(i,r-1)),e===e?Z(t,e,i):k(t,j,i,!0)}function ja(t,e){return t&&t.length?Qr(t,Tu(e)):it}function Ea(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function Aa(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,ko(n,2)):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,it,n):t}function Ba(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ko(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ni(t,i),n}function Pa(t){return null==t?t:Jc.call(t)}function Oa(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Io(t,e,n)?(e=0,n=r):(e=null==e?0:Tu(e),n=n===it?r:Tu(n)),hi(t,e,n)):[]}function Fa(t,e){return pi(t,e)}function Ma(t,e,n){return di(t,e,ko(n,2))}function Ra(t,e){var n=null==t?0:t.length;if(n){var r=pi(t,e);if(r<n&&Xs(t[r],e))return r}return-1}function La(t,e){return pi(t,e,!0)}function Ia(t,e,n){return di(t,e,ko(n,2),!0)}function Na(t,e){var n=null==t?0:t.length;if(n){var r=pi(t,e,!0)-1;if(Xs(t[r],e))return r}return-1}function Da(t){return t&&t.length?vi(t):[]}function za(t,e){return t&&t.length?vi(t,ko(e,2)):[]}function Ua(t){var e=null==t?0:t.length;return e?hi(t,1,e):[]}function Va(t,e,n){return t&&t.length?(e=n||e===it?1:Tu(e),hi(t,0,e<0?0:e)):[]}function qa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:Tu(e),e=r-e,hi(t,e<0?0:e,r)):[]}function Ha(t,e){return t&&t.length?xi(t,ko(e,3),!1,!0):[]}function Wa(t,e){return t&&t.length?xi(t,ko(e,3)):[]}function $a(t){return t&&t.length?mi(t):[]}function Ga(t,e){return t&&t.length?mi(t,ko(e,2)):[]}function Xa(t,e){return e="function"==typeof e?e:it,t&&t.length?mi(t,it,e):[]}function Ya(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Qs(t))return e=Xc(t.length,e),!0}),F(e,function(e){return v(t,A(e))})}function Qa(t,e){if(!t||!t.length)return[];var n=Ya(t);return null==e?n:v(n,function(t){return s(e,it,t)})}function Ka(t,e){return Ci(t||[],e||[],Fn)}function Za(t,e){return Ci(t||[],e||[],li)}function Ja(t){var e=n(t);return e.__chain__=!0,e}function ts(t,e){return e(t),t}function es(t,e){return e(t)}function ns(){return Ja(this)}function rs(){return new i(this.value(),this.__chain__)}function is(){this.__values__===it&&(this.__values__=ku(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function os(){return this}function as(t){for(var e,n=this;n instanceof r;){var i=oa(n);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ss(){var t=this.__wrapped__;if(t instanceof b){var e=t;return this.__actions__.length&&(e=new b(this)),e=e.reverse(),e.__actions__.push({func:es,args:[Pa],thisArg:it}),new i(e,this.__chain__)}return this.thru(Pa)}function us(){return wi(this.__wrapped__,this.__actions__)}function ls(t,e,n){var r=bf(t)?h:Xn;return n&&Io(t,e,n)&&(e=it),r(t,ko(e,3))}function cs(t,e){var n=bf(t)?f:er;return n(t,ko(e,3))}function hs(t,e){return nr(ys(t,e),1)}function fs(t,e){return nr(ys(t,e),Mt)}function ps(t,e,n){return n=n===it?1:Tu(n),nr(ys(t,e),n)}function ds(t,e){var n=bf(t)?l:yh;return n(t,ko(e,3))}function vs(t,e){var n=bf(t)?c:mh;return n(t,ko(e,3))}function gs(t,e,n,r){t=Ys(t)?t:nl(t),n=n&&!r?Tu(n):0;var i=t.length;return n<0&&(n=Xc(i+n,0)),mu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&C(t,e,n)>-1}function ys(t,e){var n=bf(t)?v:Wr;return n(t,ko(e,3))}function ms(t,e,n,r){return null==t?[]:(bf(e)||(e=null==e?[]:[e]),n=r?it:n,bf(n)||(n=null==n?[]:[n]),Kr(t,e,n))}function _s(t,e,n){var r=bf(t)?y:B,i=arguments.length<3;return r(t,ko(e,4),n,i,yh)}function bs(t,e,n){var r=bf(t)?m:B,i=arguments.length<3;return r(t,ko(e,4),n,i,mh)}function xs(t,e){var n=bf(t)?f:er;return n(t,Rs(ko(e,3)))}function ws(t){var e=bf(t)?An:si;return e(t)}function ks(t,e,n){e=(n?Io(t,e,n):e===it)?1:Tu(e);var r=bf(t)?Sn:ui;return r(t,e)}function Cs(t){var e=bf(t)?Bn:ci;return e(t)}function Ts(t){if(null==t)return 0;if(Ys(t))return mu(t)?J(t):t.length;var e=Sh(t);return e==Kt||e==ie?t.size:Vr(t).length}function js(t,e,n){var r=bf(t)?_:fi;return n&&Io(t,e,n)&&(e=it),r(t,ko(e,3))}function Es(t,e){if("function"!=typeof e)throw new pc(ut);return t=Tu(t),function(){if(--t<1)return e.apply(this,arguments)}}function As(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,po(t,Ct,it,it,it,it,e)}function Ss(t,e){var n;if("function"!=typeof e)throw new pc(ut);return t=Tu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Bs(t,e,n){e=n?it:e;var r=po(t,bt,it,it,it,it,it,e);return r.placeholder=Bs.placeholder,r}function Ps(t,e,n){e=n?it:e;var r=po(t,xt,it,it,it,it,it,e);return r.placeholder=Ps.placeholder,r}function Os(t,e,n){function r(e){var n=f,r=p;return f=p=it,m=e,v=t.apply(r,n)}function i(t){return m=t,g=Oh(s,e),_?r(t):v}function o(t){var n=t-y,r=t-m,i=e-n;return b?Yc(i,d-r):i}function a(t){var n=t-y,r=t-m;return y===it||n>=e||n<0||b&&r>=d}function s(){var t=uf();return a(t)?u(t):void(g=Oh(s,o(t)))}function u(t){return g=it,x&&f?r(t):(f=p=it,v)}function l(){g!==it&&Ch(g),m=0,f=y=p=g=it}function c(){return g===it?v:u(uf())}function h(){var t=uf(),n=a(t);if(f=arguments,p=this,y=t,n){if(g===it)return i(y);if(b)return g=Oh(s,e),r(y)}return g===it&&(g=Oh(s,e)),v}var f,p,d,v,g,y,m=0,_=!1,b=!1,x=!0;if("function"!=typeof t)throw new pc(ut);return e=Eu(e)||0,su(n)&&(_=!!n.leading,b="maxWait"in n,d=b?Xc(Eu(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),h.cancel=l,h.flush=c,h}function Fs(t){return po(t,jt)}function Ms(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new pc(ut);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ms.Cache||fn),n}function Rs(t){if("function"!=typeof t)throw new pc(ut);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ls(t){return Ss(2,t)}function Is(t,e){if("function"!=typeof t)throw new pc(ut);return e=e===it?e:Tu(e),ai(t,e)}function Ns(t,e){if("function"!=typeof t)throw new pc(ut);return e=e===it?0:Xc(Tu(e),0),ai(function(n){var r=n[e],i=n.length-1,o=Ai(n,0,e);return r&&g(o,r),e!=i&&g(o,Ai(n,e+1)),s(t,this,o)})}function Ds(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new pc(ut);return su(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Os(t,e,{leading:r,maxWait:e,trailing:i})}function zs(t){return As(t,1)}function Us(t,e){return df(ji(e),t)}function Vs(){if(!arguments.length)return[];var t=arguments[0];return bf(t)?t:[t]}function qs(t){return Un(t,dt)}function Hs(t,e){return e="function"==typeof e?e:it,Un(t,dt,e)}function Ws(t){return Un(t,ft|dt)}function $s(t,e){return e="function"==typeof e?e:it,Un(t,ft|dt,e)}function Gs(t,e){return null==e||Wn(t,e,qu(e))}function Xs(t,e){return t===e||t!==t&&e!==e}function Ys(t){return null!=t&&au(t.length)&&!iu(t)}function Qs(t){return uu(t)&&Ys(t)}function Ks(t){return t===!0||t===!1||uu(t)&&fr(t)==Wt}function Zs(t){return uu(t)&&1===t.nodeType&&!gu(t)}function Js(t){if(null==t)return!0;if(Ys(t)&&(bf(t)||"string"==typeof t||"function"==typeof t.splice||wf(t)||Ef(t)||_f(t)))return!t.length;var e=Sh(t);if(e==Kt||e==ie)return!t.size;if(Vo(t))return!Vr(t).length;for(var n in t)if(_c.call(t,n))return!1;return!0}function tu(t,e){return Fr(t,e)}function eu(t,e,n){n="function"==typeof n?n:it;var r=n?n(t,e):it;return r===it?Fr(t,e,it,n):!!r}function nu(t){if(!uu(t))return!1;var e=fr(t);return e==Xt||e==Gt||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function ru(t){return"number"==typeof t&&Wc(t)}function iu(t){if(!su(t))return!1;var e=fr(t);return e==Yt||e==Qt||e==Ht||e==ne}function ou(t){return"number"==typeof t&&t==Tu(t)}function au(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function su(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function uu(t){return null!=t&&"object"==typeof t}function lu(t,e){return t===e||Lr(t,e,To(e))}function cu(t,e,n){return n="function"==typeof n?n:it,Lr(t,e,To(e),n)}function hu(t){return vu(t)&&t!=+t}function fu(t){if(Bh(t))throw new sc(st);return Ir(t)}function pu(t){return null===t}function du(t){return null==t}function vu(t){return"number"==typeof t||uu(t)&&fr(t)==Zt}function gu(t){if(!uu(t)||fr(t)!=te)return!1;var e=Bc(t);if(null===e)return!0;var n=_c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mc.call(n)==kc}function yu(t){return ou(t)&&t>=-Rt&&t<=Rt}function mu(t){return"string"==typeof t||!bf(t)&&uu(t)&&fr(t)==oe}function _u(t){return"symbol"==typeof t||uu(t)&&fr(t)==ae}function bu(t){return t===it}function xu(t){return uu(t)&&Sh(t)==ue}function wu(t){return uu(t)&&fr(t)==le}function ku(t){if(!t)return[];if(Ys(t))return mu(t)?tt(t):Ui(t);if(Rc&&t[Rc])return W(t[Rc]());var e=Sh(t),n=e==Kt?$:e==ie?Y:nl;return n(t)}function Cu(t){if(!t)return 0===t?t:0;if(t=Eu(t),t===Mt||t===-Mt){var e=t<0?-1:1;return e*Lt}return t===t?t:0}function Tu(t){var e=Cu(t),n=e%1;return e===e?n?e-n:e:0}function ju(t){return t?zn(Tu(t),0,Nt):0}function Eu(t){if("number"==typeof t)return t;if(_u(t))return It;if(su(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=su(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ie,"");var n=Xe.test(t);return n||Qe.test(t)?ir(t.slice(2),n?2:8):Ge.test(t)?It:+t}function Au(t){return Vi(t,Hu(t))}function Su(t){return zn(Tu(t),-Rt,Rt)}function Bu(t){return null==t?"":yi(t)}function Pu(t,e){var n=gh(t);return null==e?n:Ln(n,e)}function Ou(t,e){return w(t,ko(e,3),or)}function Fu(t,e){return w(t,ko(e,3),ar)}function Mu(t,e){return null==t?t:_h(t,ko(e,3),Hu)}function Ru(t,e){return null==t?t:bh(t,ko(e,3),Hu)}function Lu(t,e){return t&&or(t,ko(e,3))}function Iu(t,e){return t&&ar(t,ko(e,3))}function Nu(t){return null==t?[]:ur(t,qu(t))}function Du(t){return null==t?[]:ur(t,Hu(t))}function zu(t,e,n){var r=null==t?it:lr(t,e);return r===it?n:r}function Uu(t,e){return null!=t&&Bo(t,e,kr)}function Vu(t,e){return null!=t&&Bo(t,e,Tr)}function qu(t){return Ys(t)?En(t):Vr(t)}function Hu(t){return Ys(t)?En(t,!0):qr(t)}function Wu(t,e){var n={};return e=ko(e,3),or(t,function(t,r,i){Nn(n,e(t,r,i),t)}),n}function $u(t,e){var n={};return e=ko(e,3),or(t,function(t,r,i){Nn(n,r,e(t,r,i))}),n}function Gu(t,e){return Xu(t,Rs(ko(e)))}function Xu(t,e){return null==t?{}:Jr(t,bo(t),ko(e))}function Yu(t,e,n){e=No(e,t)?[e]:Ei(e);var r=-1,i=e.length;for(i||(t=it,i=1);++r<i;){var o=null==t?it:t[na(e[r])];o===it&&(r=i,o=n),t=iu(o)?o.call(t):o}return t}function Qu(t,e,n){return null==t?t:li(t,e,n)}function Ku(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:li(t,e,n,r)}function Zu(t,e,n){var r=bf(t),i=r||wf(t)||Ef(t);if(e=ko(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:su(t)&&iu(o)?gh(Bc(t)):{}}return(i?l:or)(t,function(t,r,i){return e(n,t,r,i)}),n}function Ju(t,e){return null==t||_i(t,e)}function tl(t,e,n){return null==t?t:bi(t,e,ji(n))}function el(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:bi(t,e,ji(n),r)}function nl(t){return null==t?[]:L(t,qu(t))}function rl(t){return null==t?[]:L(t,Hu(t))}function il(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Eu(n),n=n===n?n:0),e!==it&&(e=Eu(e),e=e===e?e:0),zn(Eu(t),e,n)}function ol(t,e,n){return e=Cu(e),n===it?(n=e,e=0):n=Cu(n),t=Eu(t),jr(t,e,n)}function al(t,e,n){if(n&&"boolean"!=typeof n&&Io(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Cu(t),e===it?(e=t,t=0):e=Cu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zc();return Yc(t+i*(e-t+rr("1e-"+((i+"").length-1))),e)}return ri(t,e)}function sl(t){return Jf(Bu(t).toLowerCase())}function ul(t){return t=Bu(t),t&&t.replace(Ze,br).replace(Hn,"")}function ll(t,e,n){t=Bu(t),e=yi(e);var r=t.length;n=n===it?r:zn(Tu(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function cl(t){return t=Bu(t),t&&Ee.test(t)?t.replace(Te,xr):t}function hl(t){return t=Bu(t),t&&Le.test(t)?t.replace(Re,"\\$&"):t}function fl(t,e,n){t=Bu(t),e=Tu(e);var r=e?J(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ao(Vc(i),n)+t+ao(Uc(i),n)}function pl(t,e,n){t=Bu(t),e=Tu(e);var r=e?J(t):0;return e&&r<e?t+ao(e-r,n):t}function dl(t,e,n){t=Bu(t),e=Tu(e);var r=e?J(t):0;return e&&r<e?ao(e-r,n)+t:t}function vl(t,e,n){return n||null==e?e=0:e&&(e=+e),Kc(Bu(t).replace(Ne,""),e||0)}function gl(t,e,n){return e=(n?Io(t,e,n):e===it)?1:Tu(e),oi(Bu(t),e)}function yl(){var t=arguments,e=Bu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ml(t,e,n){return n&&"number"!=typeof n&&Io(t,e,n)&&(e=n=it),(n=n===it?Nt:n>>>0)?(t=Bu(t),t&&("string"==typeof e||null!=e&&!Tf(e))&&(e=yi(e),!e&&q(t))?Ai(tt(t),0,n):t.split(e,n)):[]}function _l(t,e,n){return t=Bu(t),n=zn(Tu(n),0,t.length),e=yi(e),t.slice(n,n+e.length)==e}function bl(t,e,r){var i=n.templateSettings;r&&Io(t,e,r)&&(e=it),t=Bu(t),e=Of({},e,i,Pn);var o,a,s=Of({},e.imports,i.imports,Pn),u=qu(s),l=L(s,u),c=0,h=e.interpolate||Je,f="__p += '",p=hc((e.escape||Je).source+"|"+h.source+"|"+(h===Be?We:Je).source+"|"+(e.evaluate||Je).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Qn+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(c,u).replace(tn,U),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var v=e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(xe,""):f).replace(we,"$1").replace(ke,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=tp(function(){return uc(u,d+"return "+f).apply(it,l)});if(g.source=f,nu(g))throw g;return g}function xl(t){return Bu(t).toLowerCase()}function wl(t){return Bu(t).toUpperCase()}function kl(t,e,n){if(t=Bu(t),t&&(n||e===it))return t.replace(Ie,"");if(!t||!(e=yi(e)))return t;var r=tt(t),i=tt(e),o=N(r,i),a=D(r,i)+1;return Ai(r,o,a).join("")}function Cl(t,e,n){if(t=Bu(t),t&&(n||e===it))return t.replace(De,"");if(!t||!(e=yi(e)))return t;var r=tt(t),i=D(r,tt(e))+1;return Ai(r,0,i).join("")}function Tl(t,e,n){if(t=Bu(t),t&&(n||e===it))return t.replace(Ne,"");if(!t||!(e=yi(e)))return t;var r=tt(t),i=N(r,tt(e));return Ai(r,i).join("")}function jl(t,e){var n=Et,r=At;if(su(e)){var i="separator"in e?e.separator:i;n="length"in e?Tu(e.length):n,r="omission"in e?yi(e.omission):r}t=Bu(t);var o=t.length;if(q(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-J(r);if(s<1)return r;var u=a?Ai(a,0,s).join(""):t.slice(0,s);if(i===it)return u+r;if(a&&(s+=u.length-s),Tf(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=hc(i.source,Bu($e.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===it?s:h)}}else if(t.indexOf(yi(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function El(t){return t=Bu(t),t&&je.test(t)?t.replace(Ce,wr):t}function Al(t,e,n){return t=Bu(t),e=n?it:e,e===it?H(t)?rt(t):x(t):t.match(e)||[]}function Sl(t){var e=null==t?0:t.length,n=ko();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new pc(ut);return[n(t[0]),t[1]]}):[],ai(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Bl(t){return Vn(Un(t,ft))}function Pl(t){return function(){return t}}function Ol(t,e){return null==t||t!==t?e:t}function Fl(t){return t}function Ml(t){return Ur("function"==typeof t?t:Un(t,ft))}function Rl(t){return $r(Un(t,ft))}function Ll(t,e){return Gr(t,Un(e,ft))}function Il(t,e,n){var r=qu(e),i=ur(e,r);null!=n||su(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=ur(e,qu(e)));var o=!(su(n)&&"chain"in n&&!n.chain),a=iu(t);return l(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ui(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,g([this.value()],arguments))})}),t}function Nl(){return sr._===this&&(sr._=Cc),this}function Dl(){}function zl(t){return t=Tu(t),ai(function(e){return Qr(e,t)})}function Ul(t){return No(t)?A(na(t)):ti(t)}function Vl(t){return function(e){return null==t?it:lr(t,e)}}function ql(){return[]}function Hl(){return!1}function Wl(){return{}}function $l(){return""}function Gl(){return!0}function Xl(t,e){if(t=Tu(t),t<1||t>Rt)return[];var n=Nt,r=Yc(t,Nt);e=ko(e),t-=Nt;for(var i=F(r,e);++n<t;)e(n);return i}function Yl(t){return bf(t)?v(t,na):_u(t)?[t]:Ui(Mh(t))}function Ql(t){var e=++bc;return Bu(t)+e}function Kl(t){return t&&t.length?Jn(t,Fl,_r):it}function Zl(t,e){return t&&t.length?Jn(t,ko(e,2),_r):it}function Jl(t){return E(t,Fl)}function tc(t,e){return E(t,ko(e,2))}function ec(t){return t&&t.length?Jn(t,Fl,Hr):it}function nc(t,e){return t&&t.length?Jn(t,ko(e,2),Hr):it}function rc(t){return t&&t.length?O(t,Fl):0}function ic(t,e){return t&&t.length?O(t,ko(e,2)):0}e=null==e?sr:Cr.defaults(sr.Object(),e,Cr.pick(sr,Yn));var oc=e.Array,ac=e.Date,sc=e.Error,uc=e.Function,lc=e.Math,cc=e.Object,hc=e.RegExp,fc=e.String,pc=e.TypeError,dc=oc.prototype,vc=uc.prototype,gc=cc.prototype,yc=e["__core-js_shared__"],mc=vc.toString,_c=gc.hasOwnProperty,bc=0,xc=function(){var t=/[^.]+$/.exec(yc&&yc.keys&&yc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),wc=gc.toString,kc=mc.call(cc),Cc=sr._,Tc=hc("^"+mc.call(_c).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jc=cr?e.Buffer:it,Ec=e.Symbol,Ac=e.Uint8Array,Sc=jc?jc.allocUnsafe:it,Bc=G(cc.getPrototypeOf,cc),Pc=cc.create,Oc=gc.propertyIsEnumerable,Fc=dc.splice,Mc=Ec?Ec.isConcatSpreadable:it,Rc=Ec?Ec.iterator:it,Lc=Ec?Ec.toStringTag:it,Ic=function(){try{var t=jo(cc,"defineProperty");return t({},"",{}),t}catch(t){}}(),Nc=e.clearTimeout!==sr.clearTimeout&&e.clearTimeout,Dc=ac&&ac.now!==sr.Date.now&&ac.now,zc=e.setTimeout!==sr.setTimeout&&e.setTimeout,Uc=lc.ceil,Vc=lc.floor,qc=cc.getOwnPropertySymbols,Hc=jc?jc.isBuffer:it,Wc=e.isFinite,$c=dc.join,Gc=G(cc.keys,cc),Xc=lc.max,Yc=lc.min,Qc=ac.now,Kc=e.parseInt,Zc=lc.random,Jc=dc.reverse,th=jo(e,"DataView"),eh=jo(e,"Map"),nh=jo(e,"Promise"),rh=jo(e,"Set"),ih=jo(e,"WeakMap"),oh=jo(cc,"create"),ah=ih&&new ih,sh={},uh=ra(th),lh=ra(eh),ch=ra(nh),hh=ra(rh),fh=ra(ih),ph=Ec?Ec.prototype:it,dh=ph?ph.valueOf:it,vh=ph?ph.toString:it,gh=function(){function t(){}return function(e){if(!su(e))return{};if(Pc)return Pc(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Ae,evaluate:Se,interpolate:Be,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=gh(r.prototype),i.prototype.constructor=i,b.prototype=gh(r.prototype),b.prototype.constructor=b,nt.prototype.clear=qe,nt.prototype.delete=en,nt.prototype.get=nn,nt.prototype.has=rn,nt.prototype.set=on,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=ln,an.prototype.has=cn,an.prototype.set=hn,fn.prototype.clear=pn,fn.prototype.delete=dn,fn.prototype.get=vn,fn.prototype.has=gn,fn.prototype.set=yn,mn.prototype.add=mn.prototype.push=_n,mn.prototype.has=bn,xn.prototype.clear=wn,xn.prototype.delete=kn,xn.prototype.get=Cn,xn.prototype.has=Tn,xn.prototype.set=jn;var yh=Gi(or),mh=Gi(ar,!0),_h=Xi(),bh=Xi(!0),xh=ah?function(t,e){return ah.set(t,e),t}:Fl,wh=Ic?function(t,e){return Ic(t,"toString",{configurable:!0,enumerable:!1,value:Pl(e),writable:!0})}:Fl,kh=ai,Ch=Nc||function(t){return sr.clearTimeout(t)},Th=rh&&1/Y(new rh([,-0]))[1]==Mt?function(t){return new rh(t)}:Dl,jh=ah?function(t){return ah.get(t)}:Dl,Eh=qc?G(qc,cc):ql,Ah=qc?function(t){for(var e=[];t;)g(e,Eh(t)),t=Bc(t);return e}:ql,Sh=fr;(th&&Sh(new th(new ArrayBuffer(1)))!=he||eh&&Sh(new eh)!=Kt||nh&&Sh(nh.resolve())!=ee||rh&&Sh(new rh)!=ie||ih&&Sh(new ih)!=ue)&&(Sh=function(t){var e=fr(t),n=e==te?t.constructor:it,r=n?ra(n):"";if(r)switch(r){case uh:return he;case lh:return Kt;case ch:return ee;case hh:return ie;case fh:return ue}return e});var Bh=yc?iu:Hl,Ph=ta(xh),Oh=zc||function(t,e){return sr.setTimeout(t,e)},Fh=ta(wh),Mh=Wo(function(t){t=Bu(t);var e=[];return Fe.test(t)&&e.push(""),t.replace(Me,function(t,n,r,i){e.push(r?i.replace(He,"$1"):n||t)}),e}),Rh=ai(function(t,e){return Qs(t)?Gn(t,nr(e,1,Qs,!0)):[]}),Lh=ai(function(t,e){var n=Ca(e);return Qs(n)&&(n=it),Qs(t)?Gn(t,nr(e,1,Qs,!0),ko(n,2)):[]}),Ih=ai(function(t,e){var n=Ca(e);return Qs(n)&&(n=it),Qs(t)?Gn(t,nr(e,1,Qs,!0),it,n):[]}),Nh=ai(function(t){var e=v(t,Ti);return e.length&&e[0]===t[0]?Er(e):[]}),Dh=ai(function(t){var e=Ca(t),n=v(t,Ti);return e===Ca(n)?e=it:n.pop(),n.length&&n[0]===t[0]?Er(n,ko(e,2)):[]}),zh=ai(function(t){var e=Ca(t),n=v(t,Ti);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?Er(n,it,e):[]}),Uh=ai(Ea),Vh=mo(function(t,e){var n=null==t?0:t.length,r=Dn(t,e);return ni(t,v(e,function(t){return Lo(t,n)?+t:t}).sort(Ii)),r}),qh=ai(function(t){return mi(nr(t,1,Qs,!0))}),Hh=ai(function(t){var e=Ca(t);return Qs(e)&&(e=it),mi(nr(t,1,Qs,!0),ko(e,2))}),Wh=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,mi(nr(t,1,Qs,!0),it,e)}),$h=ai(function(t,e){return Qs(t)?Gn(t,e):[]}),Gh=ai(function(t){return ki(f(t,Qs))}),Xh=ai(function(t){var e=Ca(t);return Qs(e)&&(e=it),ki(f(t,Qs),ko(e,2))}),Yh=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,ki(f(t,Qs),it,e)}),Qh=ai(Ya),Kh=ai(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Qa(t,n)}),Zh=mo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Dn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof b&&Lo(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:es,args:[o],thisArg:it}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(o)}),Jh=Wi(function(t,e,n){_c.call(t,n)?++t[n]:Nn(t,n,1)}),tf=to(da),ef=to(va),nf=Wi(function(t,e,n){_c.call(t,n)?t[n].push(e):Nn(t,n,[e])}),rf=ai(function(t,e,n){var r=-1,i="function"==typeof e,o=No(e),a=Ys(t)?oc(t.length):[];return yh(t,function(t){var u=i?e:o&&null!=t?t[e]:it;a[++r]=u?s(u,t,n):Sr(t,e,n)}),a}),of=Wi(function(t,e,n){Nn(t,n,e)}),af=Wi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sf=ai(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Io(t,e[0],e[1])?e=[]:n>2&&Io(e[0],e[1],e[2])&&(e=[e[0]]),Kr(t,nr(e,1),[])}),uf=Dc||function(){return sr.Date.now()},lf=ai(function(t,e,n){var r=yt;if(n.length){var i=X(n,wo(lf));r|=wt}return po(t,r,e,n,i)}),cf=ai(function(t,e,n){var r=yt|mt;if(n.length){var i=X(n,wo(cf));r|=wt}return po(e,r,t,n,i)}),hf=ai(function(t,e){return $n(t,1,e)}),ff=ai(function(t,e,n){return $n(t,Eu(e)||0,n)});Ms.Cache=fn;var pf=kh(function(t,e){e=1==e.length&&bf(e[0])?v(e[0],R(ko())):v(nr(e,1),R(ko()));var n=e.length;return ai(function(r){for(var i=-1,o=Yc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),df=ai(function(t,e){var n=X(e,wo(df));return po(t,wt,it,e,n)}),vf=ai(function(t,e){var n=X(e,wo(vf));return po(t,kt,it,e,n)}),gf=mo(function(t,e){return po(t,Tt,it,it,it,e)}),yf=lo(_r),mf=lo(function(t,e){return t>=e}),_f=Br(function(){return arguments}())?Br:function(t){return uu(t)&&_c.call(t,"callee")&&!Oc.call(t,"callee")},bf=oc.isArray,xf=pr?R(pr):Pr,wf=Hc||Hl,kf=dr?R(dr):Or,Cf=vr?R(vr):Rr,Tf=gr?R(gr):Nr,jf=yr?R(yr):Dr,Ef=mr?R(mr):zr,Af=lo(Hr),Sf=lo(function(t,e){return t<=e}),Bf=$i(function(t,e){if(Vo(e)||Ys(e))return void Vi(e,qu(e),t);for(var n in e)_c.call(e,n)&&Fn(t,n,e[n])}),Pf=$i(function(t,e){Vi(e,Hu(e),t)}),Of=$i(function(t,e,n,r){Vi(e,Hu(e),t,r)}),Ff=$i(function(t,e,n,r){Vi(e,qu(e),t,r)}),Mf=mo(Dn),Rf=ai(function(t){return t.push(it,Pn),s(Of,it,t)}),Lf=ai(function(t){return t.push(it,Go),s(Uf,it,t)}),If=ro(function(t,e,n){t[e]=n},Pl(Fl)),Nf=ro(function(t,e,n){_c.call(t,e)?t[e].push(n):t[e]=[n]},ko),Df=ai(Sr),zf=$i(function(t,e,n){Xr(t,e,n)}),Uf=$i(function(t,e,n,r){Xr(t,e,n,r)}),Vf=mo(function(t,e){var n={};if(null==t)return n;Vi(t,bo(t),n),n=Un(n,ft|pt|dt);for(var r=e.length;r--;)_i(n,e[r]);return n}),qf=mo(function(t,e){return null==t?{}:Zr(t,v(e,na))}),Hf=fo(qu),Wf=fo(Hu),$f=Ki(function(t,e,n){return e=e.toLowerCase(),t+(n?sl(e):e)}),Gf=Ki(function(t,e,n){return t+(n?"-":"")+e.toLowerCase();
}),Xf=Ki(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Yf=Qi("toLowerCase"),Qf=Ki(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Kf=Ki(function(t,e,n){return t+(n?" ":"")+Jf(e)}),Zf=Ki(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Jf=Qi("toUpperCase"),tp=ai(function(t,e){try{return s(t,it,e)}catch(t){return nu(t)?t:new sc(t)}}),ep=mo(function(t,e){return l(e,function(e){e=na(e),Nn(t,e,lf(t[e],t))}),t}),np=eo(),rp=eo(!0),ip=ai(function(t,e){return function(n){return Sr(n,t,e)}}),op=ai(function(t,e){return function(n){return Sr(t,n,e)}}),ap=oo(v),sp=oo(h),up=oo(_),lp=uo(),cp=uo(!0),hp=io(function(t,e){return t+e},0),fp=ho("ceil"),pp=io(function(t,e){return t/e},1),dp=ho("floor"),vp=io(function(t,e){return t*e},1),gp=ho("round"),yp=io(function(t,e){return t-e},0);return n.after=Es,n.ary=As,n.assign=Bf,n.assignIn=Pf,n.assignInWith=Of,n.assignWith=Ff,n.at=Mf,n.before=Ss,n.bind=lf,n.bindAll=ep,n.bindKey=cf,n.castArray=Vs,n.chain=Ja,n.chunk=aa,n.compact=sa,n.concat=ua,n.cond=Sl,n.conforms=Bl,n.constant=Pl,n.countBy=Jh,n.create=Pu,n.curry=Bs,n.curryRight=Ps,n.debounce=Os,n.defaults=Rf,n.defaultsDeep=Lf,n.defer=hf,n.delay=ff,n.difference=Rh,n.differenceBy=Lh,n.differenceWith=Ih,n.drop=la,n.dropRight=ca,n.dropRightWhile=ha,n.dropWhile=fa,n.fill=pa,n.filter=cs,n.flatMap=hs,n.flatMapDeep=fs,n.flatMapDepth=ps,n.flatten=ga,n.flattenDeep=ya,n.flattenDepth=ma,n.flip=Fs,n.flow=np,n.flowRight=rp,n.fromPairs=_a,n.functions=Nu,n.functionsIn=Du,n.groupBy=nf,n.initial=wa,n.intersection=Nh,n.intersectionBy=Dh,n.intersectionWith=zh,n.invert=If,n.invertBy=Nf,n.invokeMap=rf,n.iteratee=Ml,n.keyBy=of,n.keys=qu,n.keysIn=Hu,n.map=ys,n.mapKeys=Wu,n.mapValues=$u,n.matches=Rl,n.matchesProperty=Ll,n.memoize=Ms,n.merge=zf,n.mergeWith=Uf,n.method=ip,n.methodOf=op,n.mixin=Il,n.negate=Rs,n.nthArg=zl,n.omit=Vf,n.omitBy=Gu,n.once=Ls,n.orderBy=ms,n.over=ap,n.overArgs=pf,n.overEvery=sp,n.overSome=up,n.partial=df,n.partialRight=vf,n.partition=af,n.pick=qf,n.pickBy=Xu,n.property=Ul,n.propertyOf=Vl,n.pull=Uh,n.pullAll=Ea,n.pullAllBy=Aa,n.pullAllWith=Sa,n.pullAt=Vh,n.range=lp,n.rangeRight=cp,n.rearg=gf,n.reject=xs,n.remove=Ba,n.rest=Is,n.reverse=Pa,n.sampleSize=ks,n.set=Qu,n.setWith=Ku,n.shuffle=Cs,n.slice=Oa,n.sortBy=sf,n.sortedUniq=Da,n.sortedUniqBy=za,n.split=ml,n.spread=Ns,n.tail=Ua,n.take=Va,n.takeRight=qa,n.takeRightWhile=Ha,n.takeWhile=Wa,n.tap=ts,n.throttle=Ds,n.thru=es,n.toArray=ku,n.toPairs=Hf,n.toPairsIn=Wf,n.toPath=Yl,n.toPlainObject=Au,n.transform=Zu,n.unary=zs,n.union=qh,n.unionBy=Hh,n.unionWith=Wh,n.uniq=$a,n.uniqBy=Ga,n.uniqWith=Xa,n.unset=Ju,n.unzip=Ya,n.unzipWith=Qa,n.update=tl,n.updateWith=el,n.values=nl,n.valuesIn=rl,n.without=$h,n.words=Al,n.wrap=Us,n.xor=Gh,n.xorBy=Xh,n.xorWith=Yh,n.zip=Qh,n.zipObject=Ka,n.zipObjectDeep=Za,n.zipWith=Kh,n.entries=Hf,n.entriesIn=Wf,n.extend=Pf,n.extendWith=Of,Il(n,n),n.add=hp,n.attempt=tp,n.camelCase=$f,n.capitalize=sl,n.ceil=fp,n.clamp=il,n.clone=qs,n.cloneDeep=Ws,n.cloneDeepWith=$s,n.cloneWith=Hs,n.conformsTo=Gs,n.deburr=ul,n.defaultTo=Ol,n.divide=pp,n.endsWith=ll,n.eq=Xs,n.escape=cl,n.escapeRegExp=hl,n.every=ls,n.find=tf,n.findIndex=da,n.findKey=Ou,n.findLast=ef,n.findLastIndex=va,n.findLastKey=Fu,n.floor=dp,n.forEach=ds,n.forEachRight=vs,n.forIn=Mu,n.forInRight=Ru,n.forOwn=Lu,n.forOwnRight=Iu,n.get=zu,n.gt=yf,n.gte=mf,n.has=Uu,n.hasIn=Vu,n.head=ba,n.identity=Fl,n.includes=gs,n.indexOf=xa,n.inRange=ol,n.invoke=Df,n.isArguments=_f,n.isArray=bf,n.isArrayBuffer=xf,n.isArrayLike=Ys,n.isArrayLikeObject=Qs,n.isBoolean=Ks,n.isBuffer=wf,n.isDate=kf,n.isElement=Zs,n.isEmpty=Js,n.isEqual=tu,n.isEqualWith=eu,n.isError=nu,n.isFinite=ru,n.isFunction=iu,n.isInteger=ou,n.isLength=au,n.isMap=Cf,n.isMatch=lu,n.isMatchWith=cu,n.isNaN=hu,n.isNative=fu,n.isNil=du,n.isNull=pu,n.isNumber=vu,n.isObject=su,n.isObjectLike=uu,n.isPlainObject=gu,n.isRegExp=Tf,n.isSafeInteger=yu,n.isSet=jf,n.isString=mu,n.isSymbol=_u,n.isTypedArray=Ef,n.isUndefined=bu,n.isWeakMap=xu,n.isWeakSet=wu,n.join=ka,n.kebabCase=Gf,n.last=Ca,n.lastIndexOf=Ta,n.lowerCase=Xf,n.lowerFirst=Yf,n.lt=Af,n.lte=Sf,n.max=Kl,n.maxBy=Zl,n.mean=Jl,n.meanBy=tc,n.min=ec,n.minBy=nc,n.stubArray=ql,n.stubFalse=Hl,n.stubObject=Wl,n.stubString=$l,n.stubTrue=Gl,n.multiply=vp,n.nth=ja,n.noConflict=Nl,n.noop=Dl,n.now=uf,n.pad=fl,n.padEnd=pl,n.padStart=dl,n.parseInt=vl,n.random=al,n.reduce=_s,n.reduceRight=bs,n.repeat=gl,n.replace=yl,n.result=Yu,n.round=gp,n.runInContext=t,n.sample=ws,n.size=Ts,n.snakeCase=Qf,n.some=js,n.sortedIndex=Fa,n.sortedIndexBy=Ma,n.sortedIndexOf=Ra,n.sortedLastIndex=La,n.sortedLastIndexBy=Ia,n.sortedLastIndexOf=Na,n.startCase=Kf,n.startsWith=_l,n.subtract=yp,n.sum=rc,n.sumBy=ic,n.template=bl,n.times=Xl,n.toFinite=Cu,n.toInteger=Tu,n.toLength=ju,n.toLower=xl,n.toNumber=Eu,n.toSafeInteger=Su,n.toString=Bu,n.toUpper=wl,n.trim=kl,n.trimEnd=Cl,n.trimStart=Tl,n.truncate=jl,n.unescape=El,n.uniqueId=Ql,n.upperCase=Zf,n.upperFirst=Jf,n.each=ds,n.eachRight=vs,n.first=ba,Il(n,function(){var t={};return or(n,function(e,r){_c.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=ot,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),l(["drop","take"],function(t,e){b.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new b(this);n=n===it?1:Xc(Tu(n),0);var i=this.clone();return r?i.__takeCount__=Yc(n,i.__takeCount__):i.__views__.push({size:Yc(n,Nt),type:t+(i.__dir__<0?"Right":"")}),i},b.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),l(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Pt||n==Ft;b.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ko(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),l(["head","last"],function(t,e){var n="take"+(e?"Right":"");b.prototype[t]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");b.prototype[t]=function(){return this.__filtered__?new b(this):this[n](1)}}),b.prototype.compact=function(){return this.filter(Fl)},b.prototype.find=function(t){return this.filter(t).head()},b.prototype.findLast=function(t){return this.reverse().find(t)},b.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new b(this):this.map(function(n){return Sr(n,t,e)})}),b.prototype.reject=function(t){return this.filter(Rs(ko(t)))},b.prototype.slice=function(t,e){t=Tu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new b(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=Tu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},b.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},b.prototype.toArray=function(){return this.take(Nt)},or(b.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof b,c=u[0],h=l||bf(e),f=function(t){var e=a.apply(n,g([t],u));return o&&p?e[0]:e};h&&r&&"function"==typeof c&&1!=c.length&&(l=h=!1);var p=this.__chain__,d=!!this.__actions__.length,v=s&&!p,y=l&&!d;if(!s&&h){e=y?e:new b(this);var m=t.apply(e,u);return m.__actions__.push({func:es,args:[f],thisArg:it}),new i(m,p)}return v&&y?t.apply(this,u):(m=this.thru(f),v?o?m.value()[0]:m.value():m)})}),l(["pop","push","shift","sort","splice","unshift"],function(t){var e=dc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(bf(n)?n:[],t)}return this[r](function(n){return e.apply(bf(n)?n:[],t)})}}),or(b.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"",o=sh[i]||(sh[i]=[]);o.push({name:e,func:r})}}),sh[no(it,mt).name]=[{name:"wrapper",func:it}],b.prototype.clone=S,b.prototype.reverse=K,b.prototype.value=et,n.prototype.at=Zh,n.prototype.chain=ns,n.prototype.commit=rs,n.prototype.next=is,n.prototype.plant=as,n.prototype.reverse=ss,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=us,n.prototype.first=n.prototype.head,Rc&&(n.prototype[Rc]=os),n},Cr=kr();sr._=Cr,r=function(){return Cr}.call(e,n,e,i),!(r!==it&&(i.exports=r))}).call(this)}).call(e,function(){return this}(),n(10)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Api=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),s=r(a),u=n(9),l=r(u),c=n(31),h=r(c),f=n(11),p=e.Api=function(){function t(){i(this,t),this.downloader=null}return o(t,[{key:"get",value:function(t){var e=this.downloader||(0,f.getDefaultDownloader)();return e.get(t)}},{key:"getJson",value:function(t){var e=this.downloader||(0,f.getDefaultDownloader)();return e.getJson(t)}},{key:"flush",value:function(){var t=this.downloader||(0,f.getDefaultDownloader)();return t.flush()}},{key:"transformParams",value:function(t){var e={};return e.drilldown=t.group,e.aggregates=t.aggregates,e.pagesize=t.pagesize,e.cut=t.filter,e.page=t.page,e.order=t.order,s.default.pickBy(e)}},{key:"buildUrl",value:function(t,e,n,r){var i=s.default.cloneDeep(r)||{},o=t;o="/"==t[o.length-1]?o.slice(0,o.length-1):o,o=o+"/cubes/"+e+"/"+n;var a=h.default.parse(o);return a.query&&(i=s.default.assign(l.default.parse(a.jquery),i)),s.default.each(i,function(t,e){s.default.isArray(t)&&("order"==e?i[e]=s.default.map(t,function(t){return t.key+":"+t.direction}).join(","):i[e]=t.join("|"))}),a.search=l.default.stringify(this.transformParams(i)),h.default.format(a)}},{key:"getDimensionMembers",value:function(t,e,n){return this.getJson(this.buildUrl(t,e,"members/"+n))}},{key:"getPackageModel",value:function(t,e){return this.getJson(this.buildUrl(t,e,"model")).then(function(t){return t.model})}},{key:"getDisplayField",value:function(t,e){var n=e,r=s.default.find(t.dimensions,{key_ref:e});return r&&(n=r.label_ref),n}},{key:"getMeasuresFromModel",value:function(t){var e=[];return s.default.each(t.aggregates,function(t,n){t.measure&&e.push({key:n,value:t.label})}),e}},{key:"getMeasures",value:function(t,e){var n=this;return this.getPackageModel(t,e).then(function(t){return n.getMeasuresFromModel(t)})}},{key:"getDimensions",value:function(t,e){var n=this;return this.getPackageModel(t,e).then(function(t){return n.getDimensionsFromModel(t)})}},{key:"getDimensionKeyById",value:function(t,e){return t.dimensions[e].key_ref}},{key:"getDrillDownDimensionKey",value:function(t,e){var n=void 0,r=t.dimensions[e],i=t.hierarchies[r.hierarchy];if(i){var o=i.levels.indexOf(e);if(o>-1){var a=i.levels[o+1];a&&(n=this.getDimensionKeyById(t,a))}}return n}},{key:"getDimensionsFromModel",value:function(t){var e=this,n=[];return s.default.each(t.dimensions,function(r,i){var o=r.key_attribute,a=r.label_attribute;n.push({id:i,key:e.getDimensionKeyById(t,i),code:r.label,hierarchy:r.hierarchy,name:r.attributes[o].column,label:r.hierarchy+"."+a,drillDown:e.getDrillDownDimensionKey(t,i)})}),s.default.sortBy(n,function(t){return t.key})}},{key:"getSimpleLabel",value:function(t){var e=t.split(".");return 2==e.length?e[1]:t}},{key:"facts",value:function(t,e,n){var r=this,i=s.default.cloneDeep(n)||{},o=[];i.page=i.page||0,i.pagesize=i.pagesize||20;var a;return this.getPackageModel(t,e).then(function(u){a=u;var l=r.getDimensionsFromModel(a),c=r.getMeasuresFromModel(a);n.fields||(n.fields=[],s.default.each(l,function(t){n.fields.push(t.key)}),s.default.each(c,function(t){n.fields.push(t.value)})),s.default.each(a.measures,function(t,e){o.push(e)});var h=r.buildUrl(t,e,"facts",i);return r.getJson(h)}).then(function(t){var e={};return e.headers=[],e.columns=[],e.info={},e.info.total=t.total_fact_count,e.info.pageSize=t.page_size,e.info.page=t.page,s.default.each(t.fields,function(t){var n=t.split("."),r=n[0],i=n[1],s=a.dimensions[r]||a.measures[r];i&&s.attributes&&(s=s.attributes[i]),e.headers.push({key:t,label:s.label,numeric:o.indexOf(t)>-1})}),s.default.each(t.data,function(t){var n=[];s.default.each(e.headers,function(e){n.push(t[e.key])}),e.columns.push(n)}),e})}},{key:"aggregate",value:function(t,e,n){var r=this,i=s.default.cloneDeep(n)||{};i.page=i.page||0,i.pagesize=i.pagesize||30;var o,a=[],u=[];return this.getPackageModel(t,e).then(function(n){u=r.getMeasuresFromModel(n),o=s.default.values(n.measures),i.aggregates||(i.aggregates=s.default.first(u).key),i.order=i.order||[{key:i.aggregates,direction:"desc"}],i.aggregates=void 0;var l=[];s.default.each(i.group,function(t){l.push(t);var e=r.getDisplayField(n,t);a.push({key:t,name:e}),l.indexOf(e)==-1&&l.push(e)}),i.group=l;var c=r.buildUrl(t,e,"aggregate",i);return r.getJson(c)}).then(function(t){var e={currency:{},summary:{},count:t.total_cell_count,cells:[]};return s.default.each(u,function(n){var r=s.default.find(o,{label:n.value});e.summary[n.key]=t.summary[n.key],e.currency[n.key]=r.currency}),s.default.each(t.cells,function(t){var n=[],r=[];s.default.each(a,function(e){n.push({keyField:e.key,nameField:e.name,keyValue:t[e.key],nameValue:t[e.name]})}),s.default.each(u,function(e){r.push({key:e.key,name:e.value,value:t[e.key]})}),e.cells.push({dimensions:n,measures:r})}),e})}},{key:"loadGeoJson",value:function(t,e){var n=t+"polygons/country:"+encodeURIComponent(e)+"?format=json";return this.getJson(n).then(function(t){return t.polygon})}}]),t}();e.default=p},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return m.range(g.default.isArray(e)||y),m(t)}function o(t){var e={};return g.default.each(t.cells,function(t){var n=g.default.first(t.dimensions);e[n.keyValue]=n.nameValue}),e}function a(t,e){var n={};return g.default.each(t.cells,function(t){var r=g.default.first(t.dimensions);if(0==g.default.values(n).length){var i=g.default.find(t.measures,{key:e});n[i.key]=g.default.first(i.key.split("."))}n[r.keyValue]=r.nameValue}),n}function s(t,e){return g.default.map(t.cells,function(t){var n=g.default.first(t.dimensions),r=g.default.find(t.measures,{key:e});return[n.keyValue,r.value]})}function u(t,e,n,r){var i,o,a=[[e]],s={xDimensionField:0};for(i in t.cells){var u,l=t.cells[i],c=g.default.find(l.dimensions,{keyField:e});n&&(u=g.default.find(l.dimensions,{keyField:n}));var h=g.default.find(l.measures,{key:r}),f=n?u.nameValue:h.name;s[f]||(s[f]=a.push([f])-1),a[0].indexOf(c.nameValue)<1&&a[0].push(c.nameValue);var p=a[0].indexOf(c.nameValue);a[s[f]][p]=h.value}var d=Math.max.apply(null,a.map(function(t){return t.length}));for(i=1;i<d;i++)for(o in a)a[o][i]=a[o][i]||0;return a}function l(t,e){var n=[],r=[];return g.default.each(t.cells,function(t){var e=g.default.first(t.dimensions);0==r.length&&r.push(e.keyField),r.push(e.nameValue)}),n.push(r),r=[],g.default.each(t.cells,function(t){var n=g.default.find(t.measures,{key:e});0==r.length&&r.push(n.key),r.push(n.value)}),n.push(r),n}function c(t,e){return g.default.map(t.cells,function(t,n){var r=g.default.first(t.dimensions);return[r.keyValue,i(n,e)]})}function h(t,e){return g.default.map(t.cells,function(t,n){var r=g.default.first(t.dimensions);return[r.keyValue,i(n,e)]})}function f(t,e){if(t&&e){var n={USD:"$",GBP:"£",EUR:"€",JPY:"¥"}[e],r=n?n+t:t+" "+e;return r?r:""}return t?t:""}Object.defineProperty(e,"__esModule",{value:!0}),e.numberFormat=void 0,e.colorScale=i,e.buildC3Names=o,e.buildC3BarNames=a,e.buildC3PieColumns=s,e.buildC3Columns=u,e.buildC3BarColumns=l,e.buildC3Colors=c,e.buildC3BarColors=h,e.moneyFormat=f;var p=n(5),d=r(p),v=n(1),g=r(v),y=["#CF3D1E","#F15623","#F68B1F","#FFC60B","#DFCE21","#BCD631","#95C93D","#48B85C","#00833D","#00B48D","#60C4B1","#27C4F4","#478DCB","#3E67B1","#4251A3","#59449B","#6E3F7C","#6A246D","#8A4873","#EB0080","#EF58A0","#C05A89"],m=d.default.scale.ordinal();e.numberFormat=d.default.format("0,000")},function(e,n){e.exports=t},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):g=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(6).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(7).setImmediate,n(7).clearImmediate)},function(t,n){t.exports=e},function(t,e,n){"use strict";e.decode=e.parse=n(26),e.encode=e.stringify=n(27)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){return l||(l=new c),l}Object.defineProperty(e,"__esModule",{value:!0}),e.Downloader=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getDefaultDownloader=o,n(25);var s=n(23),u=r(s),l=null,c=e.Downloader=function(){function t(){i(this,t),this.cache={}}return a(t,[{key:"get",value:function(t){var e=this;return this.cache[t]?u.default.resolve(this.cache[t]):fetch(t).then(function(t){return t.status>=400?u.default.reject(new Error("\n            code: "+t.status+",\n            message: "+t.statusText+"\n          ")):t.text()}).then(function(n){return e.cache[t]=n}).catch(u.default.reject)}},{key:"getJson",value:function(t){return this.get(t).then(JSON.parse).catch(function(t){console.error("getJson:",t)})}},{key:"flush",value:function(){this.cache={}}}]),t}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BubbleTreeComponent=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),c=n(8),h=(i(c),n(4)),f=(r(h),n(1)),p=i(f),d=n(3),v=i(d),g=n(24),y=i(g);window.BubbleTree=y.default;var m=new l.Api,_=e.BubbleTreeComponent=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.wrapper=null,t.bubbleTree=null,t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return s(e,t),u(e,[{key:"generateBubbleTreeData",value:function(t,e){var n=[];p.default.each(t,function(t){var r=p.default.first(t.dimensions),i=p.default.find(t.measures,{key:e.aggregates});i.value>0&&n.push({label:r.nameValue,key:r.keyValue,amount:i.value})});var r={label:"Total",key:null,amount:p.default.reduce(n,function(t,e){return t+e.amount},0),children:n};return r.amount>0?r:null}},{key:"build",value:function(t,e,n,r,i){var o=this;this.wrapper=r,o.emit("loading",o),m.downloader=this.downloader,m.aggregate(t,e,n).then(function(t){var e=o.generateBubbleTreeData(t.cells,n);e&&(o.bubbleTree=new y.default({autoColors:!0,data:e,container:r,nodeClickCallback:function(t){t.level>0&&o.emit("click",o,t)}})),o.emit("loaded",o,t),o.emit("ready",o,t,null)}).catch(function(t){o.emit("error",o,t),o.emit("ready",o,null,t)})}}]),e}(v.default.EventEmitter);e.default=_},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartComponent=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),c=n(5),h=i(c),f=n(8),p=i(f),d=n(4),v=r(d),g=n(1),y=i(g),m=n(3),_=i(m),b=new l.Api,x=e.ChartComponent=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.wrapper=null,t.chart=null,t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return s(e,t),u(e,[{key:"build",value:function(t,e,n,r,i,o){r=y.default.cloneDeep(r);var a=this;this.wrapper=i,a.emit("loading",a),"line"==t&&(r.order=r.order||[{key:y.default.first(r.group),direction:":asc"}]);var s,u=y.default.first(r.group);r.series&&(r.group=y.default.union(r.group,r.series),s=y.default.first(r.series),r.series=void 0,r.order=r.order||[{key:s,direction:"asc"},{key:r.aggregates,direction:"desc"}]),s&&"line"==t&&(t="area"),r.page=0,r.pagesize=2e3,b.downloader=this.downloader,b.aggregate(e,n,r).then(function(e){var n=v.buildC3Columns(e,u,s,r.aggregates),i={},o=y.default.map(y.default.slice(n,1),function(t){return t[0]});y.default.each(y.default.slice(n,1),function(e){i[e[0]]=t}),a.chart=p.default.generate({bindto:a.wrapper,data:{names:v.buildC3BarNames(e,r.aggregates),columns:n,color:function(e,n){var r=n.id||n;return"bar"!=t||s||(r=n.index),v.colorScale(r)},type:t||"bar",x:y.default.first(y.default.first(n)),groups:[o],types:i},point:{show:!1},grid:{focus:{show:!1}},axis:{x:{type:"category",tick:{culling:!0,fit:!0}},y:{tick:{format:h.default.format("0,000"),culling:!0,fit:!0},lines:[{value:0}]}}}),a.emit("loaded",a,e),a.emit("ready",a,e,null)}).catch(function(t){a.emit("error",a,t),a.emit("ready",a,null,t)})}}]),e}(_.default.EventEmitter);e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FactsComponent=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),l=n(1),c=r(l),h=n(3),f=r(h),p=new u.Api,d=e.FactsComponent=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return a(e,t),s(e,[{key:"getTableData",value:function(t,e,n){n=c.default.cloneDeep(n);var r=this;return r.emit("loading",r),p.downloader=this.downloader,p.facts(t,e,n).then(function(t){return r.emit("loaded",r,t),r.emit("ready",r,t,null),t}).catch(function(t){r.emit("error",r,t),r.emit("ready",r,null,t)})}}]),e}(f.default.EventEmitter);e.default=d},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=e.RadarChartComponent=e.FactsComponent=e.PivotTableComponent=e.TreeMapComponent=e.TableComponent=e.SanKeyChartComponent=e.PieChartComponent=e.ChartComponent=e.BubbleTreeComponent=void 0;var o=n(12),a=i(o),s=n(13),u=i(s),l=n(16),c=i(l),h=n(19),f=i(h),p=n(20),d=i(p),v=n(21),g=i(v),y=n(17),m=i(y),_=n(14),b=i(_),x=n(18),w=i(x),k=n(4),C=r(k);e.BubbleTreeComponent=a.default,e.ChartComponent=u.default,e.PieChartComponent=c.default,e.SanKeyChartComponent=f.default,e.TableComponent=d.default,e.TreeMapComponent=g.default,e.PivotTableComponent=m.default,e.FactsComponent=b.default,e.RadarChartComponent=w.default,e.Utils=C},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,
writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PieChartComponent=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),c=n(5),h=i(c),f=n(8),p=i(f),d=n(4),v=r(d),g=n(1),y=i(g),m=n(3),_=i(m),b=new l.Api,x=e.PieChartComponent=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.wrapper=null,t.chart=null,t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return s(e,t),u(e,[{key:"build",value:function(t,e,n,r,i){n=y.default.cloneDeep(n);var o=this;this.wrapper=r,o.emit("loading",o),b.downloader=this.downloader,b.aggregate(t,e,n).then(function(t){var e=v.buildC3PieColumns(t,n.aggregates),r={};y.default.each(e,function(t,e){r[t[0]]=v.colorScale(e)});var i=t.currency[n.aggregates],a=function(t){return v.moneyFormat(v.numberFormat(Math.round(t)),i)},s=h.default.format(".1%");o.chart=p.default.generate({bindto:o.wrapper,data:{names:v.buildC3Names(t),columns:e,colors:r,type:"pie",onclick:function(t,e){o.emit("click",o,t)}},pie:{label:{format:function(t,e,n){return a(t)}}},tooltip:{format:{value:function(t,e,n,r){return a(t)+" ("+s(e)+")"}}}}),o.emit("loaded",o,t),o.emit("ready",o,t,null)}).catch(function(t){o.emit("error",o,t),o.emit("ready",o,null,t)})}}]),e}(_.default.EventEmitter);e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PivotTableComponent=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),l=n(1),c=r(l),h=n(3),f=r(h),p=new u.Api,d=e.PivotTableComponent=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return a(e,t),s(e,[{key:"getPivotData",value:function(t,e,n){var r=this;n=c.default.cloneDeep(n),n.group=c.default.union(n.cols,n.rows);var i=n.cols,o=n.rows;n.cols=void 0,n.rows=void 0;var a=this;a.emit("loading",a);var s={},u=[];return p.downloader=this.downloader,p.getDimensions(t,e).then(function(n){return u={},c.default.each(n,function(t){u[t.key]=t.code}),p.downloader=r.downloader,p.getMeasures(t,e)}).then(function(i){return s={},c.default.each(i,function(t){s[t.key]=t.name}),n.page=0,n.pagesize=2e3,p.downloader=r.downloader,p.aggregate(t,e,n)}).then(function(t){var e={};return e.data=[],e.rows=c.default.map(o,function(t){return u[t]}),e.cols=c.default.map(i,function(t){return u[t]}),c.default.each(t.cells,function(t){var r={};c.default.each(n.group,function(e){var n=c.default.find(t.dimensions,{keyField:e});r[u[e]]=n.nameValue});var i=c.default.find(t.measures,{key:n.aggregates});r.value=i.value,e.data.push(r)}),a.emit("loaded",a,t),a.emit("ready",a,t,null),e}).catch(function(t){a.emit("error",a,t),a.emit("ready",a,null,t)})}}]),e}(f.default.EventEmitter);e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r){function i(t,e){t.each(function(){for(var t,n=h.default.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,a=1.4,s=n.attr("y"),u=n.attr("x"),l=parseFloat(n.attr("dy")),c=n.text(null).append("tspan").attr("x",u).attr("y",s).attr("dy",l+"em");t=r.pop();)i.push(t),c.text(i.join(" ")),c.node().getComputedTextLength()>e&&(i.pop(),c.text(i.join(" ")),i=[t],c=n.append("tspan").attr("x",u).attr("y",s).attr("dy",++o*a+l+"em").text(t))})}var o={w:600,h:600,margin:{top:20,right:20,bottom:20,left:20},levels:3,maxValue:0,labelFactor:1.25,wrapWidth:60,opacityArea:.35,dotRadius:4,opacityCircles:.1,strokeWidth:2,roundStrokes:!1,color:h.default.scale.category20()},a=p.default.map(e,function(t){return t.axes}),s=h.default.select(t);p.default.extend(o,r);var u=Math.max(o.maxValue,h.default.max(a,function(t){return h.default.max(t.map(function(t){return t.value}))})),l=a[0].map(function(t,e){return t.axis}),c=l.length,f=Math.min(o.w/2,o.h/2),d=h.default.format(","),v=2*Math.PI/c,g=h.default.scale.linear().range([0,f]).domain([0,u]);s.select("svg").remove();var y=s.append("svg").attr("width","100%").attr("height",o.h+o.margin.top+o.margin.bottom).attr("class","radar"),m=y.append("defs").append("filter").attr("id","glow"),_=(m.append("feGaussianBlur").attr("stdDeviation","2.5").attr("result","coloredBlur"),m.append("feMerge")),b=(_.append("feMergeNode").attr("in","coloredBlur"),_.append("feMergeNode").attr("in","SourceGraphic"),y.append("g").attr("transform","translate("+(o.w/2+o.margin.left)+","+(o.h/2+o.margin.top)+")")),x=b.append("g").attr("class","axisWrapper");x.selectAll(".levels").data(h.default.range(1,o.levels+1).reverse()).enter().append("circle").attr("class","gridCircle").attr("r",function(t,e){return f/o.levels*t}).style("fill","#CDCDCD").style("stroke","#CDCDCD").style("fill-opacity",o.opacityCircles),
//!.style('filter', 'url(#glow)');
x.selectAll(".axisLabel").data(h.default.range(1,o.levels+1).reverse()).enter().append("text").attr("class","axisLabel").attr("x",4).attr("y",function(t){return-t*f/o.levels}).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text(function(t,e){return d(u*t/o.levels)});var w=x.selectAll(".axis").data(l).enter().append("g").attr("class","axis");w.append("line").attr("x1",0).attr("y1",0).attr("x2",function(t,e){return g(1.1*u)*Math.cos(v*e-Math.PI/2)}).attr("y2",function(t,e){return g(1.1*u)*Math.sin(v*e-Math.PI/2)}).attr("class","line").style("stroke","white").style("stroke-width","2px"),w.append("text").attr("class","legend").style("font-size","11px").attr("text-anchor","middle").attr("dy","0.35em").attr("x",function(t,e){return g(u*o.labelFactor)*Math.cos(v*e-Math.PI/2)}).attr("y",function(t,e){return g(u*o.labelFactor)*Math.sin(v*e-Math.PI/2)}).text(function(t){return t}).call(i,o.wrapWidth);var k=h.default.svg.line.radial().interpolate("linear-closed").radius(function(t){return g(t.value)}).angle(function(t,e){return e*v});o.roundStrokes&&k.interpolate("cardinal-closed");var C=b.selectAll(".radarWrapper").data(a).enter().append("g").attr("class","radarWrapper");C.append("path").attr("class","radarArea").attr("d",function(t,e){return k(t)}).style("fill",function(t,e){return o.color(e)}).style("fill-opacity",o.opacityArea).on("mouseover",function(t,e){h.default.selectAll(".radarArea").transition().duration(200).style("fill-opacity",.1),h.default.select(this).transition().duration(200).style("fill-opacity",.7)}).on("mouseout",function(){h.default.selectAll(".radarArea").transition().duration(200).style("fill-opacity",o.opacityArea)});var T=(y.append("text").attr("class","title").attr("transform","translate(90,0)").attr("x",r.w-70).attr("y",10).attr("font-size","12px").attr("fill","#404040"),y.append("g").attr("class","legend").attr("height",100).attr("width",200).attr("transform","translate("+o.w+",20)"));T.selectAll("rect").data(n).enter().append("rect").attr("x",r.w-65).attr("y",function(t,e){return 20*e}).attr("width",10).attr("height",10).style("fill",function(t,e){return o.color(e)}),T.selectAll("text").data(n).enter().append("text").attr("x",r.w-52).attr("y",function(t,e){return 20*e+9}).attr("font-size","11px").attr("fill","#737373").text(function(t){return t}),C.append("path").attr("class","radarStroke").attr("d",function(t,e){return k(t)}).style("stroke-width","2px").style("stroke",function(t,e){return o.color(e)}).style("fill","none"),
//!.style('filter', 'url(#glow)');
C.selectAll(".radarCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarCircle").attr("r",o.dotRadius).attr("cx",function(t,e){return g(t.value)*Math.cos(v*e-Math.PI/2)}).attr("cy",function(t,e){return g(t.value)*Math.sin(v*e-Math.PI/2)}).style("fill",function(t,e,n){return o.color(n)}).style("fill-opacity",.8);var j=b.selectAll(".radarCircleWrapper").data(a).enter().append("g").attr("class","radarCircleWrapper");j.selectAll(".radarInvisibleCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarInvisibleCircle").attr("r",1.5*o.dotRadius).attr("cx",function(t,e){return g(t.value)*Math.cos(v*e-Math.PI/2)}).attr("cy",function(t,e){return g(t.value)*Math.sin(v*e-Math.PI/2)}).style("fill","none").style("pointer-events","all").on("mouseover",function(t,e){var n=parseFloat(h.default.select(this).attr("cx"))-10,r=parseFloat(h.default.select(this).attr("cy"))-10;E.attr("x",n).attr("y",r).text(d(t.value)).transition().duration(200).style("opacity",1)}).on("mouseout",function(){E.transition().duration(200).style("opacity",0)});var E=b.append("text").attr("class","tooltip").style("opacity",0)}Object.defineProperty(e,"__esModule",{value:!0}),e.RadarChartComponent=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),c=n(5),h=r(c),f=n(1),p=r(f),d=n(3),v=r(d),g=new l.Api,y=e.RadarChartComponent=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.wrapper=null,t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return a(e,t),u(e,[{key:"getPivotData",value:function(t,e,n){var r=this;n=p.default.cloneDeep(n),n.group=p.default.union(n.cols,n.rows);var i=n.cols,o=n.rows;n.cols=void 0,n.rows=void 0;var a={},s={};return g.downloader=this.downloader,g.getDimensions(t,e).then(function(n){return s={},p.default.each(n,function(t){s[t.key]=t.code}),g.downloader=r.downloader,g.getMeasures(t,e)}).then(function(i){return a={},p.default.each(i,function(t){a[t.key]=t.value}),n.page=0,n.pagesize=2e3,g.downloader=r.downloader,g.aggregate(t,e,n)}).then(function(t){var e={};return e.data=[],e.rows=p.default.map(o,function(t){return s[t]}),e.cols=p.default.map(i,function(t){return s[t]}),p.default.each(t.cells,function(t){var r={};p.default.each(n.group,function(e){var n=p.default.find(t.dimensions,{keyField:e});r[s[e]]=n.nameValue});var i=p.default.find(t.measures,{key:n.aggregates});r.value=i.value,e.data.push(r)}),e})}},{key:"build",value:function(t,e,n,r){var i=this;this.wrapper=r,i.emit("loading",i),this.getPivotData(t,e,n).then(function(t){var e=t.data,n=t.rows[0],o=t.cols[0],a=p.default.uniq(p.default.map(e,function(t){return t[n]})),u=p.default.uniq(p.default.map(e,function(t){return t[o]})),l=p.default.map(a,function(t){var r=p.default.map(p.default.filter(e,function(e){return e[n]==t}),function(t){return{axis:t[o],value:t.value}});r=p.default.map(u,function(t){var e=p.default.find(r,function(e){return e.axis==t});return void 0!=e?e:{axis:t,value:0}});var i=p.default.sum(p.default.map(r,function(t){return t.value}));return{className:t,axes:r,total:i}});l=p.default.reverse(p.default.sortBy(l,function(t){return t.total})),a=p.default.map(l,function(t){return t.className});var c={top:100,right:100,bottom:100,left:100},f=Math.min(700,window.innerWidth-10)-c.left-c.right,d=Math.min(f,window.innerHeight-c.top-c.bottom-20),v=h.default.scale.category10(),g={w:f,h:d,margin:c,maxValue:.5,levels:5,roundStrokes:!0,color:v};s(r,l,a,g),i.emit("loaded",i,t),i.emit("ready",i,t,null)}).catch(function(t){i.emit("error",i,t),i.emit("ready",i,null,t)})}}]),e}(v.default.EventEmitter);e.default=y},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.SanKeyChartComponent=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),c=n(5),h=i(c),f=n(4),p=r(f),d=n(1),v=i(d),g=n(3),y=i(g),m=new l.Api,_=e.SanKeyChartComponent=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.wrapper=null,t.sankey=null,t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return s(e,t),u(e,[{key:"build",value:function(t,e,n,r,i){var o=this;this.wrapper=r;var a=15,s={top:a/2,right:1,bottom:6,left:1},u=null,l=null,c={width:this.wrapper.clientWidth,height:.6*this.wrapper.clientWidth};o.emit("loading",o),n.group=[n.source,n.target];var f=n.source,d=n.target;n.source=void 0,n.target=void 0,n.order=n.order||[{key:n.aggregates,direction:"desc"},{key:f,direction:"asc"},{key:d,direction:"asc"}],n.page=0,n.pagesize=2e3,a=Math.max(400,c.height)/20,u||(u=h.default.select(r).append("svg"),u.attr("class","sankey-babbage"),l=u.append("g").attr("transform","translate("+s.left+","+s.top+")")),m.downloader=this.downloader,m.aggregate(t,e,n).then(function(t){c.height=t.cells.length*a,u.attr("height",c.height+s.top+s.bottom),u.attr("width",c.width);var e={nodes:[],links:[]},r={},i=h.default.scale.ordinal().range(["#ddd","#ccc","#eee","#bbb"]),g=t.currency[n.aggregates],y=function(t){return p.moneyFormat(p.numberFormat(Math.round(t)),g)};v.default.each(t.cells,function(t){var o=v.default.find(t.dimensions,{keyField:f}),a=v.default.find(t.dimensions,{keyField:d}),s=v.default.find(t.measures,{key:n.aggregates}),u=o.keyValue,l=a.keyValue,c={value:s.value,number:y(s.value),isLink:!0};0!=c.value&&u&&l&&(u="source-"+f+u,l="target-"+d+l,r[u]||(e.nodes.push({key:o.keyValue,name:o.nameValue,color:p.colorScale(u),isSource:!0}),r[u]={idx:e.nodes.length-1}),c.source=r[u].idx,r[l]||(e.nodes.push({key:a.keyValue,name:a.nameValue,color:i(l),isTarget:!0}),r[l]={idx:e.nodes.length-1}),c.target=r[l].idx,e.links.push(c))}),o.sankey=h.default.sankey().nodeWidth(a).nodePadding(.6*a).size([c.width,c.height]);var m=o.sankey,_=m.link();m.nodes(e.nodes).links(e.links).layout(32),l.selectAll("g").remove();var b=l.append("g").selectAll(".link").data(e.links).enter().append("path").attr("class","link").attr("d",_).style("stroke-width",function(t){return Math.max(1,t.dy)}).style("stroke",function(t){return t.source.color}).sort(function(t,e){return e.dy-t.dy}).on("click",function(t){o.emit("click",o,t)});b.append("title").text(function(t){return t.source.name+" → "+t.target.name+"\n"+t.number});var x=l.append("g").selectAll(".node").data(e.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).on("click",function(t){o.emit("click",o,t)});x.append("rect").attr("height",function(t){return t.dy}).attr("width",m.nodeWidth()).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).append("title").text(function(t){return t.name}),x.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<c.width/2}).attr("x",6+m.nodeWidth()).attr("text-anchor","start"),o.emit("loaded",o,t),o.emit("ready",o,t,null)}).catch(function(t){o.emit("error",o,t),o.emit("ready",o,null,t)})}}]),e}(y.default.EventEmitter);e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TableComponent=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),l=n(1),c=r(l),h=n(3),f=r(h),p=new u.Api,d=e.TableComponent=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return a(e,t),s(e,[{key:"showKeys",value:function(t){var e=!1;return c.default.each(t,function(t){e=e||t.name!=t.key}),e}},{key:"getHeaders",value:function(t,e,n){var r=[],i=[],o=c.default.first(n);return o&&(c.default.each(o.dimensions,function(e){var n=c.default.find(t,{key:e.keyField});i.push(n.code||n.name)}),c.default.each(o.measures,function(t){var n=c.default.find(e,{key:t.key});i.push(n.name||n.value)})),r.push(i),r}},{key:"getTableData",value:function(t,e,n){var r=this;n=c.default.cloneDeep(n);var i={headers:[],columns:[]},o=this;o.emit("loading",o);var a={},s=[];return p.downloader=this.downloader,p.getDimensions(t,e).then(function(n){return s=n,p.downloader=r.downloader,p.getMeasures(t,e)}).then(function(i){return a=i,p.downloader=r.downloader,p.aggregate(t,e,n)}).then(function(t){return i.headers=o.getHeaders(s,a,t.cells),i.columns=t.cells,o.emit("loaded",o,t),o.emit("ready",o,t,null),i}).catch(function(t){o.emit("error",o,t),o.emit("ready",o,null,t)})}}]),e}(f.default.EventEmitter);e.default=d},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(){this.style("left",function(t){return t.x+"px"}).style("top",function(t){return t.y+"px"}).style("width",function(t){return Math.max(0,t.dx-1)+"px"}).style("height",function(t){return Math.max(0,t.dy-1)+"px"})}Object.defineProperty(e,"__esModule",{value:!0}),e.TreeMapComponent=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),h=n(5),f=i(h),p=n(4),d=r(p),v=n(1),g=i(v),y=n(3),m=i(y),_=n(22),b=r(_),x=new c.Api,w=e.TreeMapComponent=function(t){function e(){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.wrapper=null,t.treemap=null,t.downloader=null,t.on("error",function(t,e){console.trace(e)}),t}return s(e,t),l(e,[{key:"build",value:function(t,e,n,r,i){n=g.default.cloneDeep(n);var o=this;this.wrapper=r;var a={width:this.wrapper.clientWidth,height:.6*this.wrapper.clientWidth};o.emit("loading",o),o.treemap=f.default.layout.treemap().size([a.width,a.height]).sticky(!0).sort(function(t,e){return t.value-e.value}).value(function(t){return t.value}),f.default.select(r).select("div").remove();var s=f.default.select(r).append("div").style("position","relative").style("width",a.width+"px").style("height",a.height+"px");x.downloader=this.downloader,x.aggregate(t,e,n).then(function(t){var e={};e.children=[],e.summary=t.summary[n.aggregates],e.currency=t.currency[n.aggregates],e.summaryFmt=d.numberFormat(t.summary[n.aggregates]),e.summaryFmtCurrency=d.moneyFormat(e.summaryFmt,e.currency),g.default.each(t.cells,function(r,o){var a=g.default.first(r.dimensions),s=g.default.find(r.measures,{key:n.aggregates}),u={};u.areaFmt=d.numberFormat(Math.round(s.value)),u.areaFmtCurrency=d.moneyFormat(u.areaFmt,e.currency),u.value=s.value,u.key=a.keyValue,u.name=a.nameValue,u.color=d.colorScale(o,i),u.percentage=s.value&&t.summary&&n.aggregates?s.value/Math.max(t.summary[n.aggregates],1):0,e.children.push(u)});var r=(s.datum(e).selectAll(".node").data(o.treemap.nodes).enter().append("a").attr("href",function(t){return t.href}).attr("class","node").call(u).style("background","#fff").html(function(t){return t.percentage<.02?"":t.children?null:"<span class='amount'>"+t.areaFmtCurrency+"</span>"+t.name}).on("click",function(t){o.emit("click",o,t)}).on("mouseover",function(t){f.default.select(this).transition().duration(200).style({background:f.default.rgb(t.color).darker()})}).on("mouseout",function(t){f.default.select(this).transition().duration(500).style({background:t.color})}).transition().duration(500).delay(function(t,e){return Math.min(30*e,1500)}).style("background",function(t){return t.color}),function(t){return $(t).empty()}),a=b.checkForTextOverflow("a.node",r);a&&o.emit("textOverflow",o),o.emit("loaded",o,t,e),o.emit("ready",o,t,null)}).catch(function(t){o.emit("error",o,t),o.emit("ready",o,null,t)})}}]),e}(m.default.EventEmitter);e.default=w},function(t,e){"use strict";t.exports.checkForTextOverflow=function(t,e){var n=!1,r=$(t);return r.each(function(t,r){($(r)[0].offsetWidth<$(r)[0].scrollWidth||$(r)[0].offsetHeight<$(r)[0].scrollHeight)&&(e(r),n=!0)}),n}},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(t){u=t}var l=t("./schedule"),c=t("./queue"),h=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},h.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new t(e);c._propagateFrom(this,1);var h=this._target();if(c._setBoundTo(l),l instanceof t){var f={promiseRejectionQueued:!1,promise:c,target:h,bindingPromise:l};h._then(e,a,void 0,c,f),l._then(s,u,void 0,c,f),c._setOnCancel(l)}else c._resolveCallback(h);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+s.classString(t)+" has no method '"+s.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a,s=t("./util"),u=s.canEvaluate;s.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,s){return function(u){var l=s._boundValue();t:for(var c=0;c<t.length;++c){var h=t[c];if(h===Error||null!=h&&h.prototype instanceof Error){if(u instanceof h)return o(n).call(l,u)}else if("function"==typeof h){var f=o(h).call(l,u);if(f===a)return f;if(f)return o(n).call(l,u)}else if(r.isObject(u)){for(var p=i(h),d=0;d<p.length;++d){var v=p[d];if(h[v]!=u[v])continue t}return o(n).call(l,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+D.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?D.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function l(t){this._onCancelField=t}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function h(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function f(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new O(this._peekContext())}function v(t,e){if(z(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=C(t);D.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),D.notEnumerableProp(t,"__stackCleaned__",!0)}}}function g(t,e,n,r,i){if(void 0===t&&null!==e&&Q){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=w(s),l=u.length-1;l>=0;--l){var c=u[l];if(!V.test(c)){var h=c.match(q);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(u.length>0)for(var f=u[0],l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(at.warnings){var i,o=new N(t);if(e)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=C(o);o.stack=a.message+"\n"+a.stack.join("\n")}et("warning",o)||T(o,"",!0)}}function _(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function x(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}function w(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||H.test(r),o=i&&rt(r);i&&!o&&($&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function k(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||H.test(r))break}return n>0&&(e=e.slice(n)),e}function C(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?k(t):["    (No stack trace)"],{message:n,stack:w(e)}}function T(t,e,n){if("undefined"!=typeof console){var r;if(D.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof R?R(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function j(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){I.throwLater(t)}"unhandledRejection"===t?et(t,n,r)||i||T(n,"Unhandled rejection "):et(t,r)}function E(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():D.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+A(e)+">, no stack trace)"}function A(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function B(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function P(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var l=B(i[u]);if(l){n=l.fileName,a=l.line;break}}for(var u=0;u<o.length;++u){var l=B(o[u]);if(l){r=l.fileName,s=l.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(rt=function(t){if(U.test(t))return!0;var e=B(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function O(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,O),e>32&&this.uncycle()}var F,M,R,L=n._getDomain,I=n._async,N=t("./errors").Warning,D=t("./util"),z=D.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,V=/\((?:timers\.js):\d+:\d+\)/,q=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,H=null,W=null,$=!1,G=!(0==D.env("BLUEBIRD_DEBUG")),X=!(0==D.env("BLUEBIRD_WARNINGS")||!G&&!D.env("BLUEBIRD_WARNINGS")),Y=!(0==D.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!D.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=D.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!D.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){j("rejectionHandled",F,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),j("unhandledRejection",M,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();M="function"==typeof t?null===e?t:D.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();F="function"==typeof t?null===e?t:D.domainBind(e,t):void 0};var K=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;at.longStackTraces=!0,K=function(){if(I.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),at.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return at.longStackTraces&&S()};var Z=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return D.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!D.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return D.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!D.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),D.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!D.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),J=function(){return D.isNode?function(){return e.emit.apply(e,arguments)}:D.global?function(t){var e="on"+t.toLowerCase(),n=D.global[e];return!!n&&(n.apply(D.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=J.apply(null,arguments)}catch(t){I.throwLater(t),e=!0}var n=!1;try{n=Z(t,tt[t].apply(null,arguments))}catch(t){I.throwLater(t),n=!0}return n||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in t){var e=t.warnings;at.warnings=!!e,Q=at.warnings,D.isObject(e)&&"wForgottenReturn"in e&&(Q=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=c,n.prototype._propagateFrom=h,n.prototype._onCancel=u,n.prototype._setOnCancel=l,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,nt=h,at.cancellation=!0}"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&at.monitoring&&(at.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=f,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;D.inherits(O,Error),r.CapturedTrace=O,O.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;s<t-1?(u._parent=e[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var l=u._length+1,c=r-2;c>=0;--c)e[c]._length=l,l++;return}}}},O.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=C(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(w(i.stack.split("\n"))),i=i._parent;x(r),b(r),D.notEnumerableProp(t,"stack",_(n,r)),D.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():E(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,H=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return U.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return H=/@/,W=e,$=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?E(e):e.toString()},null):(H=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(R=function(t){console.warn(t)},D.isNode&&e.stderr.isTTY?R=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:D.isNode||"string"!=typeof(new Error).stack||(R=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&n.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return p},checkForgottenReturns:g,setBounds:P,warn:m,deprecated:y,CapturedTrace:O,fireDomEvent:Z,fireGlobalEvent:J}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(h(this,"message","string"==typeof r?r:e),h(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function i(t){return this instanceof i?(h(this,"name","OperationalError"),h(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(h(this,"message",t.message),h(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=t("./es5"),u=s.freeze,l=t("./util"),c=l.inherits,h=l.notEnumerableProp,f=r("Warning","warning"),p=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(v.prototype[g[y]]=Array.prototype[g[y]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var m=0;v.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return m--,e},c(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},l=function(t,e,n){return t[e]=n.value,t},c=function(t){return t},h=function(t){try{return Object(t).constructor.prototype}catch(t){return a}},f=function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}};e.exports={isArray:f,keys:s,names:s,defineProperty:l,getDescriptor:u,freeze:c,getPrototypeOf:h,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function s(t){if(!o(this,t))return h.e=t,h}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==l){r._setReturnedNonUndefined();var f=n(l,r);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var p=new c("late cancellation observer");return r._attachExtraTrace(p),h.e=p,h}f.isPending()&&f._attachCancellationCallback(new i(this))}return f._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),h.e=t,h):(o(this),t)}var l=t("./util"),c=e.CancellationError,h=l.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(t);if(r._popContext(),a===f){r._pushContext();var s=e.reject(f.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{var l=this._promise=new e(r);l._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var l=t("./errors"),c=l.TypeError,h=t("./util"),f=h.errorObj,p=h.tryCatch,d=[];h.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),t=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+h.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(t,this),i=r.promise();
return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=l();this._callback=null===i?e:c.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+c.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(t,n,a,o).promise()}var l=e._getDomain,c=t("./util"),h=c.tryCatch,f=c.errorObj,p=e._async;c.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var l=this._promise,c=this._callback,p=l._boundValue();l._pushContext();var d=h(c).call(p,t,n,o),v=l._popContext();if(a.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",l),d===f)return this._reject(d.e),!0;var g=i(d,this._promise);if(g instanceof e){g=g._target();var y=g._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=g,g._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(g._reason()),!0):(this._cancel(),!0);d=g._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];u=a.isArray(l)?s(t).apply(c,l):s(t).call(c,l)}else u=s(t)();var h=r._popContext();return o.checkForgottenReturns(u,h,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&c.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=c.keys(t),i=0;i<n.length;++i){var o=n[i];h.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),s=a.maybeWrapAsError,u=t("./errors"),l=u.OperationalError,c=t("./es5"),h=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===u&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===u&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===u&&a.throwLater(i.e)}var o=t("./util"),a=e._async,s=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new _("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==x&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(x);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var l,c=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},h=function(){return new o.PromiseInspection(this._target())},f=function(t){return o.reject(new _(t))},p={},d=t("./util");l=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",l);var v=t("./es5"),g=t("./async"),y=new g;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),_=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var x=function(){},w={},k={},C=t("./thenables")(o,x),T=t("./promise_array")(o,x,C,f,r),j=t("./context")(o),E=j.create,A=t("./debuggability")(o,j),S=(A.CapturedTrace,t("./finally")(o,C)),B=t("./catch_filter")(k),P=t("./nodeback"),O=d.errorObj,F=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return f("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,B(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(h,h,void 0,this,void 0)},o.prototype.then=function(t,e){if(A.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?f("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(x);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=F(t)(P(e,n));return r===O&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new T(t).promise()},o.cast=function(t){var e=C(t);return e instanceof o||(e=new o(x),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(x);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(x),u=this._target(),c=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=l();if(0!==(50397184&c)){var f,p,v=u._settlePromiseCtx;0!==(33554432&c)?(p=u._rejectionHandler0,f=t):0!==(16777216&c)?(p=u._fulfillmentHandler0,f=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),u._attachExtraTrace(p),f=e),y.invoke(v,u,{handler:null===h?f:"function"==typeof f&&d.domainBind(h,f),promise:s,receiver:r,value:p})}else u._addCallbacks(t,e,s,r,h);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==p)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var n=C(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&A.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===w?n&&"number"==typeof n.length?o=F(t).apply(this._boundValue(),n):(o=O,o.e=new _("cannot .spread() a non-array: "+d.classString(n))):o=F(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===k?r._reject(n):o===O?r._rejectCallback(o.e,!1):(A.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,F(e).call(n,i)===O&&t._reject(O.e)):e===h?t._fulfill(h.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof T?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(u&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){A.deprecated("Promise.defer","new Promise");var t=new o(x);return{promise:t,resolve:a,reject:s}},d.notEnumerableProp(o,"_makeSelfResolutionError",c),t("./method")(o,x,C,f,A),t("./bind")(o,x,C,A),t("./cancel")(o,T,f,A),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,T,C,x,y,l),o.Promise=o,o.version="3.4.6",t("./map.js")(o,T,f,C,x,A),t("./call_get.js")(o),t("./using.js")(o,f,C,E,x,A),t("./timers.js")(o,x,A),t("./generators.js")(o,f,x,C,r,A),t("./nodeify.js")(o),t("./promisify.js")(o,x),t("./props.js")(o,T,C,f),t("./race.js")(o,x,C,f),t("./reduce.js")(o,T,f,C,x,A),t("./settle.js")(o,T,A),t("./some.js")(o,T,f),t("./filter.js")(o,x),t("./each.js")(o,x),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(x)),A.setBounds(g.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=r(this._values,this._promise);if(s instanceof e){s=s._target();var l=s._bitField;if(this._values=s,0===(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0===(33554432&l))return 0!==(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(s=u.asArray(s),null===s){var c=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(c,!1)}return 0===s.length?void(o===-5?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);u instanceof e?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!w.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(t){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=p.inheritedDataKeys(t),u=[],l=0;l<s.length;++l){var c=s[l],h=t[c],f=r===k||k(c,h,t);"function"!=typeof h||i(h)||o(t,c,e)||!r(c,h,t,f)||u.push(c,h)}return a(u,e,n),u}function u(t,r,i,o,a,s){function u(){var i=r;r===f&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof c&&this!==l?this[c]:t,u=d(o,s);try{a.apply(i,v(arguments,u))}catch(t){o._rejectCallback(g(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),c=t;return"string"==typeof c&&(t=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function l(t,e,n,r,i){for(var o=new RegExp(C(e)+"$"),a=s(t,e,o,n),u=0,l=a.length;u<l;u+=2){var c=a[u],h=a[u+1],d=c+e;if(r===T)t[d]=T(c,f,c,h,e,i);else{var v=r(h,function(){return T(c,f,c,h,e,i)});p.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return p.toFastProperties(t),t}function c(t,e,n){return T(t,e,void 0,t,null,n)}var h,f={},p=t("./util"),d=t("./nodeback"),v=p.withAppended,g=p.maybeWrapAsError,y=p.canEvaluate,m=t("./errors").TypeError,_="Async",b={__isPromisified__:!0},x=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+x.join("|")+")$"),k=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},C=function(t){return t.replace(/([$])/,"\\$")},T=y?h:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+p.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?f:e.context,o=!!e.multiArgs,a=c(t,n,o);return p.copyDescriptors(t,a,r),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=_);var i=e.filter;"function"!=typeof i&&(i=k);var o=e.promisifier;if("function"!=typeof o&&(o=T),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&p.isClass(u)&&(l(u.prototype,r,i,o,n),l(u,r,i,o,n))}return l(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=h(t),n=!0;else{var r=c.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=r(t);return l(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=t("./util"),l=u.isObject,c=t("./es5");"function"==typeof Map&&(s=Map);var h=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),f=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=f(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return s(u);if(t=a.asArray(t),null===t)return i("expecting an array or an iterable object but got "+a.classString(t));var l=new e(n);void 0!==o&&l._propagateFrom(o,3);for(var c=l._fulfill,h=l._reject,f=0,p=t.length;f<p;++f){var d=t[f];(void 0!==d||f in t)&&e.cast(d)._then(c,h,void 0,l,null)}return l}var a=t("./util"),s=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r,i){this.constructor$(t);var a=f();this._fn=null===a?n:p.domainBind(a,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function l(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+p.classString(e));var o=new s(t,e,n,i);return o.promise()}function c(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(h,void 0,void 0,this,void 0)):h.call(this,n)}function h(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var f=e._getDomain,p=t("./util"),d=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},s.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(c,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return l(this,t,e,null)},e.reduce=function(t,e,n,r){return l(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var a,s=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},l=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=n.setImmediate,h=e.nextTick;a=s.isRecentNode?function(t){c.call(n,t)}:function(t){h.call(e,t)}}else if("function"==typeof l&&"function"==typeof l.resolve){var f=l.resolve();a=function(t){f.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,a=t("./util");a.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,l=a.isArray,c={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()));
}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==c&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(c(t)){if(t instanceof e)return t;var i=o(t);if(i===l){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return s(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(t){return l.e=t,l}}function a(t){try{return h.call(t,"_promise0")}catch(t){return!1}}function s(t,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,h,!0),s=null)}var s=new e(n),c=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var h=!0,f=u.tryCatch(r).call(t,o,a);return h=!1,s&&f===l&&(s._rejectCallback(f.e,!0,!0),s=null),c}var u=t("./util"),l=u.errorObj,c=u.isObject,h={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(l,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),s=setTimeout(function(){a._fulfill()},+t),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return c(t,this)};var h=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,u=new i(setTimeout(function(){n.isPending()&&h(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function l(t,n){function i(){if(a>=l)return c._fulfill();var o=u(t[a++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(t){return s(t)}if(o instanceof e)return o._then(i,s,null,null,null)}i()}var a=0,l=t.length,c=new e(o);return i(),c}function c(t,e,n){this._data=t,this._promise=e,this._context=n}function h(t,e,n){this.constructor$(t,e,n)}function f(t){return c.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,g=t("./util").inherits,y=d.errorObj,m=d.tryCatch,_={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_},c.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==_?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},c.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},g(h,c),h.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},p.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,s=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,s=!1):(o=arguments,t--);for(var u=new p(t),h=0;h<t;++h){var v=o[h];if(c.isDisposer(v)){var g=v;v=v.promise(),v._setDisposable(g)}else{var _=r(v);_ instanceof e&&(v=_._then(f,null,null,{resources:u,index:h},void 0))}u[h]=v}for(var b=new Array(u.length),h=0;h<b.length;++h)b[h]=e.resolve(u[h]).reflect();var x=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void x.cancel();t[e]=n.value()}w._pushContext(),i=m(i);var r=s?i.apply(void 0,t):i(t),o=w._popContext();return a.checkForgottenReturns(r,o,"Promise.using",w),r}),w=x.lastly(function(){var t=new e.PromiseInspection(x);return l(u,t)});return u.promise=w,w._setOnCancel(u),w},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new h(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=P;return P=null,t.apply(this,arguments)}catch(t){return B.e=t,B}}function a(t){return P=t,o}function s(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function l(t){return s(t)?new Error(m(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function h(t,e,n){if(!A.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function f(t,e,n){if(s(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return A.defineProperty(t,e,r),t}function p(t){throw t}function d(t){try{if("function"==typeof t){var e=A.names(t.prototype),n=A.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=R.test(t+"")&&A.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function g(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(t){return"[no string representation]"}}function _(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{f(t,"isOperational",!0)}catch(t){}}function x(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function w(t){return _(t)&&A.propertyIsWritable(t,"stack")}function k(t){return{}.toString.call(t)}function C(t,e,n){for(var r=A.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{A.defineProperty(e,o,A.getDescriptor(t,o))}catch(t){}}}function T(t,n){return z?e.env[t]:n}function j(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function E(t,e){return t.bind(e)}var A=t("./es5"),S="undefined"==typeof navigator,B={e:{}},P,O="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,F=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},M=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(A.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(t,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}t=A.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),R=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return w(t)?t:new Error(m(t))}:function(t){if(w(t))return t;try{throw new Error(m(t))}catch(t){return t}}}(),N=function(t){return A.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var D="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};N=function(t){return A.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?D(t):null}}var z="undefined"!=typeof e&&"[object process]"===k(e).toLowerCase(),U={isClass:d,isIdentifier:g,inheritedDataKeys:M,getDataPropertyOrDefault:h,thrower:p,isArray:A.isArray,asArray:N,notEnumerableProp:f,isPrimitive:s,isObject:u,isError:_,canEvaluate:S,errorObj:B,tryCatch:a,inherits:F,withAppended:c,maybeWrapAsError:l,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:w,ensureErrorObject:I,originatesFromRejection:x,markAsOriginatingFromRejection:b,classString:k,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:z,env:T,global:O,getNativePromise:j,domainBind:E};U.isRecentNode=U.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),U.isNode&&U.toFastProperties(e);try{throw new Error}catch(t){U.lastLineError=t}r.exports=U},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(6),function(){return this}(),n(7).setImmediate)},function(t,e,n){if("object"==typeof t&&"object"==typeof t.exports){var r=n(34),i=void 0;try{i=n(28)}catch(t){i=n(32)}var o=n(29)}var a=function(){};a.log=function(){try{null!==window.console&&console.log.apply(this,arguments)}catch(t){}},a.str2time=function(t){var e=t.split(".");return Math.round(.001*Date.UTC(2e3+e[0],e[1]-1,e[2]))},a.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},a.formatNumber_ksep=".",a.formatNumber_dsep=",",a.formatNumber=function(t,e){t=""+t;for(var n="",r=0,i=t.length-1;i>=0;i--)r>0&&r<t.length&&r%3==0&&(n=a.formatNumber_ksep+n),n=t[i]+n,r++;return n},a.parseTSV=function(t,e){var n,i,o=t.split("\n"),a=[];for(i=0;i<o.length;i++){var s=o[i];if(""!==s)if(e)if(0===i)n=s.split("\t");else{var u={},l=s.split("\t");if(l.length!=n.length)return"wrong tsv format";for(var c=0;c<n.length;c++)u[r.trim(n[c])]=r.trim(l[c]);a.push(u)}else a.push(s.split("\t"))}return a},a.map=function(t,e){for(var n={},r=0;r<t.length;r++)n[t[r][e]]=t[r];return n},a.DelayedTask=function(){var t=this;t.init=function(t){var e=this,n=[];for(var r in t)r>2&&n.push(t[r]);e.func=t[2],e.scope=t[1],e.args=n,e.running=!0,e.timer=window.setTimeout(this.run.bind(e),t[0])},t.run=function(){var t=this;t.func.apply(t.scope,t.args),t.running=!1},t.cancel=function(){a.log("canceling timer",this),window.clearTimeout(this.timer),this.running=!1},t.init(arguments)};var s=function(t,e,n,i){this.url=t,this.id=e,this.type=n,this.loader=i,this.load=function(){r.get(this.url,this.processContent.bind(this))},this.processContent=function(t){"tsv"==this.type?this.data=a.parseTSV(t,!0):"json"==this.type?this.data="string"==typeof t?r.parseJSON(t):t:this.data=t,this.loader.itemLoaded()}},u=function(){this.items=[],this.byID={},this.add=function(t,e,n){null===n&&(n="text");var r=new s(t,e,n,this);this.items.push(r),this.byID[e]=r},this.load=function(t){this.callback=t,this.loaded=0;for(var e=0;e<this.items.length;e++)this.items[e].load()},this.itemLoaded=function(){this.loaded++,this.loaded==this.items.length&&this.callback(this)},this.get=function(t){return this.byID[t].data}},l=function(t){this.h=0,this.s=.5,this.l=.8,this.v=1,this.i=1,this.r=255,this.g=0,this.b=0,this.x="#FF0000",this.u=0,this.br=1,this.K=1/180*Math.PI,"hsi"!=t&&"hsl"!=t&&"hsb"!=t&&"hsv"!=t||(this.mode=t),this.log=function(t){null!==window.console&&console.log(t)},this.cos=function(t){return Math.cos(t*this.K)},this.trim=function(t){return Math.max(0,Math.min(1,t))},this.setMode=function(t){"hsv"!=t&&"hsi"!=t&&"hsl"!=t&&"hsb"!=t&&this.log("unknown color mode "+t),this.mode=t,this.rgb2hsx()},this.setHexColor=function(t){"#"!=t.charAt(0)&&(t="#"+t),4==t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),7!=t.length&&this.log("invalid hex color"),this.x=t,this.hex2int(),this.int2rgb(),this.rgb2hsx()},this.setRGBColor=function(t,e,n){this.r=t,this.b=n,this.g=e,this.rgb2int(),this.int2hex(),this.rgb2hsx()},this.setHSVColor=function(t,e,n){"hsv"!=this.mode&&(this.mode="hsv"),this.h=t,this.s=this.trim(e),this.v=this.trim(n),this.hsv2rgb(),this.rgb2int(),this.int2hex()},this.setHSLColor=function(t,e,n){"hsl"!=this.mode&&(this.mode="hsl"),this.h=t,this.s=this.trim(e),this.l=this.trim(n),this.hsl2rgb(),this.rgb2int(),this.int2hex()},this.setHSBColor=function(t,e,n){"hsb"!=this.mode&&(this.mode="hsb"),this.h=t,this.s=this.trim(e),this.b=this.trim(n),this.hsb2rgb(),this.rgb2int(),this.int2hex()},this.setHSIColor=function(t,e,n){"hsi"!=this.mode&&(this.mode="hsi"),this.h=t,this.s=this.trim(e),this.i=this.trim(n),this.hsi2rgb(),this.rgb2int(),this.int2hex()},this.onChange=function(){},this.rgb2int=function(){this.u=this.r<<16|this.g<<8|this.b,this.onChange()},this.int2rgb=function(){this.r=this.u>>16,this.g=this.u>>8&255,this.b=255&this.u},this.hex2int=function(){this.u=parseInt(this.x.substr(1),16),this.onChange()},this.int2hex=function(){var t="000000"+this.u.toString(16).toUpperCase();this.x="#"+t.substr(t.length-6),this.onChange()},this.int2rgb=function(){this.r=this.u>>16,this.g=this.u>>8&255,this.b=255&this.u},this.hsx2rgb=function(){switch(this.mode){case"hsv":this.hsv2rgb();break;case"hsi":this.hsi2rgb();break;case"hsl":this.hsl2rgb();break;case"hsb":this.hsb2rgb()}},this.rgb2hsx=function(){switch(this.mode){case"hsv":this.rgb2hsv();break;case"hsi":this.rgb2hsi();break;case"hsl":this.rgb2hsl();break;case"hsb":this.rgb2hsb()}},this.hue=function(t){return this._evaluate(t,"h"),this.hsx2rgb(),this.rgb2int(),this.int2hex(),this},this.saturation=function(t){return this._evaluate(t,"s"),this.hsx2rgb(),this.rgb2int(),this.int2hex(),this},this.lightness=function(t){return"hsl"!=this.mode?void this.log("WARNING: lightness property not available in "+this.mode+" mode"):(this._evaluate(t,"l"),this.hsx2rgb(),this.rgb2int(),this.int2hex(),this)},this.brightness=function(t){return"hsb"!=this.mode?void this.log("WARNING: brightness property not available in "+this.mode+" mode"):(this._evaluate(t,"br"),this.hsx2rgb(),this.rgb2int(),this.int2hex(),this)},this.value=function(t){return"hsv"!=this.mode?void this.log("WARNING: value property not available in "+this.mode+" mode"):(this._evaluate(t,"v"),this.hsx2rgb(),this.rgb2int(),this.int2hex(),this)},this.intensity=function(t){return"hsi"!=this.mode?void this.log("WARNING: intensity property not available in "+this.mode+" mode"):(this._evaluate(t,"i"),this.hsx2rgb(),this.rgb2int(),this.int2hex(),this)},this._evaluate=function(t,e){"string"==typeof t?("+"!=t.charAt(0)||isNaN(t.substr(1))?"-"!=t.charAt(0)||isNaN(t.substr(1))||(this[e]=this[e]-Number(t.substr(1))):this[e]=Number(this[e])+Number(t.substr(1)),"*"!=t.charAt(0)||isNaN(t.substr(1))?"/"!=t.charAt(0)||isNaN(t.substr(1))||(this[e]=this[e]/Number(t.substr(1))):this[e]=this[e]*Number(t.substr(1))):isNaN(t)||(this[e]=Number(t))},this.rgb=function(){return[this.r,this.g,this.b]},this.hsl=function(){return[this.h,this.s,this.l]},this.rgb2hsv=function(){var t=Math.min(Math.min(this.r,this.g),this.b),e=Math.max(Math.max(this.r,this.g),this.b),n=e-t;this.v=e/255,this.s=n/e,0===this.s?this.h=void 0:(this.r==e&&(this.h=(this.g-this.b)/n),this.g==e&&(this.h=2+(this.b-this.r)/n),this.b==e&&(this.h=4+(this.r-this.g)/n),this.h*=60,this.h<0&&(this.h+=360))},this.hsv2rgb=function(){var t,e,n,r,i,o=this.h,a=this.s,s=this._rgb,u=255*this.v;if(0===this.s&&isNaN(o))this.r=this.g=this.b=u;else switch(360==o&&(o=0),o/=60,t=Math.floor(o),e=o-t,n=u*(1-a),r=u*(1-a*e),i=u*(1-a*(1-e)),t){case 0:s(u,i,n);break;case 1:s(r,u,n);break;case 2:s(n,u,i);break;case 3:s(n,r,u);break;case 4:s(i,n,u);break;case 5:s(u,n,r)}},this._rgb=function(t,e,n){this.r=t,this.g=e,this.b=n},this.rgb2hsl=function(){var t=this.r/255,e=this.g/255,n=this.b/255,r=Math.min(Math.min(t,e),n),i=Math.max(Math.max(t,e),n);this.l=(i+r)/2,i==r?(this.s=0,this.h=void 0):this.l<.5?this.s=(i-r)/(i+r):this.s=(i-r)/(2-i-r),t==i?this.h=(e-n)/(i-r):e==i?this.h=2+(n-t)/(i-r):n==i&&(this.h=4+(t-e)/(i-r)),this.h*=60,this.h<0&&(this.h+=360)},this.hsl2rgb=function(){if(0===this.s)this.r=this.g=this.b=255*this.l;else{var t,e,n=[0,0,0],r=[0,0,0];e=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,t=2*this.l-e;var i=this.h/360;n[0]=i+1/3,n[1]=i,n[2]=i-1/3;for(var o=0;o<3;o++)n[o]<0&&(n[o]+=1),n[o]>1&&(n[o]-=1),6*n[o]<1?r[o]=t+6*(e-t)*n[o]:2*n[o]<1?r[o]=e:3*n[o]<2?r[o]=t+(e-t)*(2/3-n[o])*6:r[o]=t;this.r=255*r[0],this.g=255*r[1],this.b=255*r[2]}},this.rgb2hsb=function(){this.rgb2hsl(),this.br=this._rgbLuminance()},this._rgbLuminance=function(){return(.2126*this.r+.7152*this.g+.0722*this.b)/255},this.hsb2rgb=function(){var t,e=.001,n=0,r=1,i=.5;this.l=i,this.hsl2rgb(),t=this._rgbLuminance();for(var o=0;Math.abs(t-this.br)>e&&o<100;)t>this.br?r=i:n=i,i=(n+r)/2,this.l=i,this.hsl2rgb(),t=this._rgbLuminance(),o++;this.br=t},this.rgb2hsi=function(){var t,e=this.r,n=this.g,r=this.b,i=(Math.max(Math.max(e,n),r),e+n+r);e/=i,n/=i,r/=i,t=Math.min(Math.min(e,n),r),this.i=(e+n+r)/765,this.h=this.acos((e-.5*n-.5*r)/Math.sqrt((e-n)*(e-n)+(e-r)*(n-r))),this.s=1-3*t,r>n&&(this.h=360-this.h)},this.hsi2rgb=function(){var t,e,n,r=this.h,i=this.i,o=this.s,a=this.cos;r<=120?(e=(1-o)/3,t=(1+o*a(r)/a(60-r))/3,n=1-(e+t)):r<=240?(r-=120,t=(1-o)/3,n=(1+o*a(r)/a(60-r))/3,e=1-(t+n)):(r-=240,n=(1-o)/3,e=(1+o*a(r)/a(60-r))/3,t=1-(n+e)),t=Math.min(255,t*i*3*255),n=Math.min(255,n*i*3*255),e=Math.min(255,e*i*3*255)}};l.fromHex=function(t,e){null==e&&(e="hsl");var n=new l(e);return n.setHexColor(t),n},l.fromRGB=function(t,e,n,r){null===r&&(r="hsl");var i=new l(r);return i.setRGBolor(t,e,n),i},l.fromHSV=function(t,e,n,r){null===r&&(r="hsl");var i=new l(r);return i.setHSVColor(t,e,n),i},l.fromHSL=function(t,e,n,r){null===r&&(r="hsl");var i=new l(r);return i.setHSLColor(t,e,n),i},l.fromHSB=function(t,e,n,r){null===r&&(r="hsl");var i=new l(r);return i.setHSBColor(t,e,n),i},l.fromHSI=function(t,e,n,r){null===r&&(r="hsl");var i=new l(r);return i.setHSIColor(t,e,n),i};/*!
	 * BubbleTree 2.0.2
	 *
	 * Copyright (c) 2011 Gregor Aisch (http://driven-by-data.net)
	 * Licensed under the MIT license
	 *
	 */
var c=function(t,e,n){var s=r.history||{callback:null,options:null,init:function(t,e){this.callback=t,this.options=e,this.load("/")},load:function(t){"function"==typeof this.callback&&this.callback(t)}},u=this;if(u.version="2.0.2",u.$container=r(t.container).empty(),u.config=r.extend({clearColors:!1,autoColors:!1,rootPath:"",minRadiusLabels:40,minRadiusAmounts:20,minRadiusHideLabels:0,cutLabelsAt:50},t),u.tooltip=t.tooltipCallback?t.tooltipCallback:function(){},t.tooltip&&(u.tooltip=t.tooltip),u.style=t.bubbleStyles,u.ns=c,u.nodesByUrlToken={},u.nodeList=[],u.iconsByUrlToken={},u.globalNodeCounter=0,u.displayObjects=[],u.bubbleScale=1,u.globRotation=0,u.currentYear=t.initYear,u.currentCenter=void 0,u.currentTransition=void 0,u.baseUrl="",u.loadData=function(t){r.ajax({url:t,dataType:"json",success:this.setData.bind(this)})},u.setData=function(t){var e=this;t||(t=e.config.data),e.initData(t),e.initPaper(),e.initBubbles(),e.initTween(),e.initHistory()},u.initData=function(t){var e=this;t.level=0,e.preprocessData(t),e.traverse(t,0),e.treeRoot=t},u.preprocessData=function(t){var e=this,n=e.config.maxNodesPerLevel;if(n&&n<t.children.length){var r=e.sortChildren(t.children);r.reverse();var i,o=[],a=[],s=0;for(var u in t.children)u<n?o.push(t.children[u]):(a.push(t.children[u]),s+=Math.max(0,t.children[u].amount));t.children=o,t.children.push({label:"More",name:"more",amount:s,children:a,breakdown:i})}},u.traverse=function(t,e){var n,i,o=this,a=o.config.bubbleStyles;if(t.children||(t.children=[]),o.nodeList.push(t),t.famount=o.ns.Utils.formatNumber(t.amount),t.parent&&(t.level=t.parent.level+1),o.config.clearColors===!0&&(t.color=!1),a){var s=["color","shortLabel","icon"];r.each(s,function(e,n){a.hasOwnProperty("id")&&a.id.hasOwnProperty(t.id)&&a.id[t.id].hasOwnProperty(n)?t[n]=a.id[t.id][n]:t.hasOwnProperty("name")&&a.hasOwnProperty("name")&&a.name.hasOwnProperty(t.name)&&a.name[t.name].hasOwnProperty(n)?t[n]=a.name[t.name][n]:t.hasOwnProperty("taxonomy")&&a.hasOwnProperty(t.taxonomy)&&a[t.taxonomy].hasOwnProperty(t.name)&&a[t.taxonomy][t.name].hasOwnProperty(n)&&(t[n]=a[t.taxonomy][t.name][n])})}if(!t.color)if(o.config.autoColors)if(0==t.level)t.color=l.fromHSL(45,.9,.5).x;else if(1==t.level){var u=t.parent.children.length;t.color=l.fromHSL(e/u*360,.7,.5).x}else t.color=l.fromHex(t.parent.color).lightness("*"+(.5+.5*Math.random())).x;else t.level>0?t.color=t.parent.color:t.color="#999999";for(t.children.length<2&&t.color&&(t.color=l.fromHex(t.color).saturation("*.86").x),t.level>0&&(n=t.parent.children,n.length>1&&(t.left=n[(e-1+n.length)%n.length],t.right=n[(Number(e)+1)%n.length],t.right==t.left&&(t.right=void 0))),i=void 0!==t.label&&""!==t.label?t.label:void 0!==t.token&&""!==t.token?t.token:""+o.globalNodeCounter,o.globalNodeCounter++,"number"==typeof i?t.urlToken=i.toString():t.urlToken=i.toLowerCase().replace(/\W/g,"-");o.nodesByUrlToken.hasOwnProperty(t.urlToken);)t.urlToken+="-";o.nodesByUrlToken[t.urlToken]=t,t.maxChildAmount=0,t.children=o.sortChildren(t.children,!0,o.config.sortBy),r.each(t.children,function(e,n){n.parent=t,t.maxChildAmount=Math.max(t.maxChildAmount,n.amount),o.traverse(n,e)}),t.breakdowns&&(t.breakdownsByName={},r.each(t.breakdowns,function(e,n){n.famount=o.ns.Utils.formatNumber(n.amount),n.name&&(t.breakdownsByName[n.name]=n)}))},u.sortChildren=function(t,e,n){var r=[],i=!0;if("label"==n?(n=u.compareLabels,e=!1):n=u.compareAmounts,t.sort(n),e){for(;t.length>0;)r.push(i?t.pop():t.shift()),i=!i;return r}return t},u.compareAmounts=function(t,e){return t.amount>e.amount?1:t.amount==e.amount?0:-1},u.compareLabels=function(t,e){return t.label>e.label?1:t.label==e.label?0:-1},u.initPaper=function(){var t,e=this,n=e.$container,o=e.treeRoot,a=n.width(),s=n.height(),u=i(n[0],a,s),l=.5*Math.min(a,s)-40,c=e.ns.Vector,h=new c(.5*a,.5*s);e.width=a,e.height=s,e.paper=u,t=Math.pow((Math.pow(o.amount,.6)+2*Math.pow(o.maxChildAmount,.6))/l,1.6666666667),e.a2radBase=e.ns.a2radBase=t,e.origin=h,r(window).resize(e.onResize.bind(e))},u.onResize=function(){var t,e=this,n=e.$container,i=n.width(),o=n.height(),a=.5*Math.min(i,o)-40,s=e.treeRoot;e.paper.setSize(i,o),e.origin.x=.5*i,e.origin.y=.5*o,e.width=i,e.height=o,t=Math.pow((Math.pow(s.amount,.6)+2*Math.pow(s.maxChildAmount,.6))/a,1.6666666667),e.a2radBase=e.ns.a2radBase=t,r.each(e.displayObjects,function(t,n){"bubble"==n.className&&(n.bubbleRad=e.ns.Utils.amount2rad(n.node.amount))}),e.currentCenter&&e.changeView(e.currentCenter.urlToken)},u.initTween=function(){this.tweenTimer=setInterval(this.loop,1e3/120)},u.initBubbles=function(){var t=this,e=t.treeRoot,n=!1;t.ns.Bubbles;t.bubbleClasses=[],t.config.hasOwnProperty("bubbleType")||(t.config.bubbleType=["plain"]),r.isArray(t.config.bubbleType)||(t.config.bubbleType=[t.config.bubbleType]),r.isArray(t.config.bubbleType)&&r.each(t.config.bubbleType,function(e){"icon"==t.config.bubbleType[e]&&(n=!0),t.bubbleClasses.push(t.getBubbleType(t.config.bubbleType[e]))});var i=t.createBubble(e,t.origin,0,0,e.color);t.traverseBubbles(i)},u.getBubbleType=function(t){var e=this,n=e.ns.Bubbles;switch(t){case"pie":return n.Pies;case"donut":return n.Donut;case"multi":return n.Multi;case"icon":return n.Icon;default:return n.Plain}},u.traverseBubbles=function(t){var e,n,i,o,s,u=this,l=u.ns.Utils.amount2rad,c=0,h=0,f=2*Math.PI;n=t.node.children,r.each(n,function(t,e){c+=l(e.amount)}),n.length>0&&(e=u.createRing(t.node,t.pos,0,{stroke:"#888","stroke-dasharray":"-"})),r.each(n,function(e,n){o=l(n.amount)/c*f,s=h+.5*o,isNaN(s)&&a.log(h,o,n.amount,c,f),n.centerAngle=s,i=u.createBubble(n,t.pos,0,s,n.color),h+=o,u.traverseBubbles(i)})},u.createBubble=function(t,e,n,r,i){var o,a=this,s=(a.ns,t.level);return isNaN(s)&&(s=0),s=Math.min(s,a.bubbleClasses.length-1),o=new a.bubbleClasses[s](t,a,e,n,r,i),a.displayObjects.push(o),o},u.createRing=function(t,e,n,r){var i,o=this,a=o.ns;return i=new a.Ring(t,o,e,n,r),o.displayObjects.push(i),i},u.changeView=function(t){var e,n,i,o=this,s=(o.paper,.35*Math.min(o.width,o.height)),u=o.ns,l=u.Utils,c=o.origin,h=l.amount2rad,f=o.treeRoot,p=o.nodesByUrlToken,d=p.hasOwnProperty(t)?p[t]:null,v=new u.Layout,g=2*Math.PI,y=o.getBubble.bind(o),m=o.getRing.bind(o),_=o.unifyAngle;if(null!==d){var b,x,w,k,C,T,j,E,A,S,B,P=!1,O=!1;for(i in o.displayObjects)o.displayObjects[i].hideFlag=!0;if(d==f||d.parent==f&&d.children.length<2){v.$(o).bubbleScale=1,v.$(c).x=.5*o.width,v.$(c).y=.5*o.height,b=y(f),d!=f&&(b.childRotation=-d.centerAngle),C=h(f.amount)+h(f.maxChildAmount)+20,A=m(f),v.$(A).rad=C;for(i in f.children)k=f.children[i],e=y(k),v.$(e).angle=_(k.centerAngle+b.childRotation),v.$(e).rad=C}else{var F=d;d.children.length<2&&(d=d.parent),S=s/(h(d.amount)+2*h(d.maxChildAmount)),v.$(o).bubbleScale=S,b=y(d),o.currentCenter&&o.currentCenter==d.left?O=!0:o.currentCenter&&o.currentCenter==d.right&&(P=!0);var M=o.shortestAngleTo;v.$(b).angle=M(b.angle,0),C=(h(d.amount)+h(d.maxChildAmount))*S+20,A=m(d),v.$(A).rad=C,x=y(d.parent),x.childRotation=-d.centerAngle;for(var R=x;R&&R.node.parent;)R=y(R.node.parent,!0),v.$(R).rad=0;v.$(x).rad=0;var L=.5*o.width;if(T=0-Math.max(.8*L-S*(h(d.parent.amount)+h(Math.max(1.15*d.amount+1.15*d.maxChildAmount,.85*d.left.amount,.85*d.right.amount))),S*h(d.parent.amount)*-1+.15*L)+L,d.left&&d.right){S*h(Math.max(d.left.amount,d.right.amount))}B=C+T,v.$(c).x=.5*o.width-T-(d!=F?.35*C:0),v.$(c).y=.5*o.height,new a.DelayedTask(1500,a,a.log,c,x.pos),T+=.1*o.width,A=m(d.parent),v.$(A).rad=T,v.$(b).rad=T;var I=0-(d!=F?F.centerAngle+b.childRotation:0);for(i in d.children)k=d.children[i],e=y(k),v.$(e).angle=o.shortestAngleTo(e.angle,k.centerAngle+b.childRotation+I),v.$(e).rad=C;var N=.07*o.height;d.left&&(w=d.left,j=h(w.amount)*S,E=g-Math.asin((.5*o.paper.height+j-N)/T),e=y(w),v.$(e).rad=T,v.$(e).angle=M(e.angle,E)),d.right&&(w=d.right,j=h(w.amount)*S,E=Math.asin((.5*o.paper.height+j-N)/T),e=y(w),v.$(e).rad=T,v.$(e).angle=M(e.angle,E)),d=F}for(i in o.displayObjects){var D=o.displayObjects[i];D.hideFlag&&D.visible?(v.$(D).alpha=0,"bubble"==D.className&&D.node.level>1&&(v.$(D).rad=0),v.hide(D)):D.hideFlag||(v.$(D).alpha=1,D.visible||(D.alpha=0,v.show(D)))}n=new u.Transitioner(o.currentCenter==d?0:1e3),n.changeLayout(v),o.currentTransition=n,!o.currentCenter&&r.isFunction(o.config.firstNodeCallback)&&o.config.firstNodeCallback(d),o.currentCenter=d}else l.log("node "+t+" not found")},u.unifyAngle=function(t){for(var e=Math.PI,n=2*e;t>=n;)t-=n;for(;t<0;)t+=n;return t},u.shortestAngle=function(t,e){var n=Math.PI,r=2*n,i=u.unifyAngle;t=i(t),e=i(e);var o=e-t;return o>n&&(o-=r),o<-n&&(o+=r),o},u.shortestAngleTo=function(t,e){return t+u.shortestAngle(t,e)},u.shortestLeftTurn=function(t,e){var n=u.shortestAngle(t,e);return n>0&&(n-=2*Math.PI),t+n},u.shortestRightTurn=function(t,e){var n=u.shortestAngle(t,e);return n<0&&(n=2*Math.PI+n),t+n},u.getBubble=function(t,e){return this.getDisplayObject("bubble",t,e)},u.getRing=function(t){return this.getDisplayObject("ring",t)},u.getDisplayObject=function(t,e,n){var r,i,o=this;for(r in o.displayObjects)if(i=o.displayObjects[r],i.className==t&&i.node==e)return n||(i.hideFlag=!1),i;a.log(t+" not found for node",e)},u.initHistory=function(){s.init(u.urlChanged.bind(u),{unescape:",/"})},u.freshUrl="",u.urlChanged=function(t){var e=this,n=e.currentTransition;e.freshUrl||t.indexOf("/~/")&&(e.baseUrl=t.substr(0,t.indexOf("/~/"))),e.freshUrl=t,n&&n.running?(a.log("transition is running at the moment, adding listener"),n.onComplete(e.changeUrl.bind(e))):e.changeUrl()},u.changeUrl=function(){var t,e=this,n=e.freshUrl.split("/"),r=n[n.length-1];""===e.freshUrl&&e.navigateTo(e.treeRoot),e.nodesByUrlToken.hasOwnProperty(r)?(t=e.getUrlForNode(e.nodesByUrlToken[r]),e.freshUrl!=t?s.load(t):e.navigateTo(e.nodesByUrlToken[r],!0)):e.navigateTo(e.treeRoot)},u.navigateTo=function(t,e){var n=this;e?n.changeView(t.urlToken):s.load(n.getUrlForNode(t)),r(".bubbletree-label, .bubbletree-label2",n.$container).removeClass("current"),r(".bubbletree-label2."+t.id,n.$container).addClass("current"),r(".bubbletree-label."+t.id,n.$container).addClass("current")},u.getUrlForNode=function(t){var e=[];for(e.push(t.urlToken);t.parent;)e.push(t.parent.urlToken),t=t.parent;return e.reverse(),u.baseUrl+"/~/"+e.join("/")},u.onNodeClick=function(t){r.isFunction(u.config.nodeClickCallback)&&u.config.nodeClickCallback(t)},u.clean=function(){r(".bubbletree-label").remove()},this.loop=function(){o.update()},!u.config.hasOwnProperty("data"))throw new Error("no data");"string"==typeof u.config.data?u.loadData():new a.DelayedTask(1e3,u,u.setData,u.config.data)};c.Styles={},c.Layout=function(){var t=this;t.objects=[],t.props=[],t.toHide=[],t.toShow=[],t.$=function(t){var e,n,r,i=this;for(e in i.objects)if(n=i.objects[e],n==t)return i.props[e];return i.objects.push(t),r={},i.props.push(r),r},t.show=function(t){var e=this;e.toShow.push(t)},t.hide=function(t){var e=this;e.toHide.push(t)}},c.Line=function(t,e,n,r,i,o){this.bc=t,this.o=n,this.angle=r,this.fromRad=i,this.attr=e,this.toRad=o,this.getXY=function(){this.x1=this.o.x+Math.cos(this.angle)*this.fromRad,this.y1=this.o.y-Math.sin(this.angle)*this.fromRad,this.x2=this.o.x+Math.cos(this.angle)*this.toRad,this.y2=this.o.y-Math.sin(this.angle)*this.toRad},this.init=function(){this.getXY(),console.log("foo","M"+this.x1+" "+this.y1+"L"+this.x2+" "+this.y2,e),this.path=this.bc.paper.path("M"+this.x1+" "+this.y1+"L"+this.x2+" "+this.y2).attr(this.attr)},this.draw=function(){this.getXY(),this.path.attr({path:"M"+this.x1+" "+this.y1+"L"+this.x2+" "+this.y2})},this.init()},c.Loader=function(t){var e=this;e.config=t,e.ns=c,e.loadData=function(){var t=this,e=t.config.data;console.log("loading url ",e),r.ajax({url:e,context:t,dataType:"json",success:function(t){this.run(t)}})},e.run=function(t){var e=this,n=new c(e.config);n.setData(t),e.config.instance=n},!e.config.hasOwnProperty("data"),"string"==typeof e.config.data?e.loadData():e.run(e.config.data)},c.MouseEventGroup=function(t,e){var n=this;n.target=t,n.members=e,n.click=function(t){var e,n,i=this,o=i.members;i.clickCallback=t;for(e in o)n=o[e],r(n).click(i.handleClick.bind(i))},n.handleClick=function(t){var e=this;e.clickCallback({target:e.target,origEvent:t,mouseEventGroup:e})},n.hover=function(t){var e,n,i=this,o=i.members;i.hoverCallback=t;for(e in o)n=o[e],r(n).hover(i.handleMemberHover.bind(i),i.handleMemberUnHover.bind(i))},n.unhover=function(t){var e=this;e.unhoverCallback=t},n.wasHovering=!1,n.mouseIsOver=!1,n.handleMemberHover=function(t){var e=this;new a.DelayedTask(25,e,e.handleMemberHoverDelayed,t)},n.handleMemberHoverDelayed=function(t){var e=this;e.mouseIsOver=!0,e.wasHovering||(e.wasHovering=!0,r.isFunction(e.hoverCallback)&&e.hoverCallback({target:e.target,origEvent:t,mouseEventGroup:e}))},n.handleMemberUnHover=function(t){var e=this;e.mouseIsOver=!1,new a.DelayedTask(40,e,e.handleMemberUnHoverDelayed,t)},n.handleMemberUnHoverDelayed=function(t){var e=this;e.mouseIsOver||(e.wasHovering=!1,r.isFunction(e.unhoverCallback)&&e.unhoverCallback({target:e.target,origEvent:t,mouseEventGroup:e}))},n.addMember=function(t){var e=this;e.hoverCallback&&r(t).hover(e.handleMemberHover.bind(e),e.handleMemberUnHover.bind(e)),e.members.push(t)},n.removeMember=function(t){var e,n=this,i=n.members,o=[];n.clickCallback&&r(t).unbind("click"),n.hoverCallback&&r(t).unbind("mouseenter mouseleave");for(e in i)i[e]!=t&&o.push(i[e]);n.members=o}},c.Ring=function(t,e,n,r,i){var o=this;o.className="ring",o.rad=r,o.bc=e,o.attr=i,o.origin=n,o.alpha=1,o.visible=!1,o.node=t,o.init=function(){},o.draw=function(){var t=this,e=t.origin;t.visible&&t.circle.attr({cx:e.x,cy:e.y,r:t.rad,"stroke-opacity":t.alpha})},o.hide=function(){var t=this;t.circle.remove(),t.visible=!1},o.show=function(){var t=this;t.circle=t.bc.paper.circle(n.x,n.y,t.rad).attr(t.attr),t.visible=!0,t.circle.toBack()},o.init()},c.Transitioner=function(t){var e=this;e.duration=t,e.running=!1,e.completeCallbacks=[],e.changeLayout=function(t){var e,n,i,a,s=this;s.running=!0,s.layout=t;for(e in t.toShow)n=t.toShow[e],r.isFunction(n.show)&&n.show();for(e in t.objects)if(n=t.objects[e],void 0!==n&&null!==n)if(i=t.props[e],s.duration>0){var u=new o.Tween(n),l={};for(a in i)l[a]=i[a];u.to(l,s.duration),u.easing(o.Easing.Exponential.Out),r.isFunction(n.draw)&&u.onUpdate(n.draw.bind(n)),e==t.objects.length-1&&u.onComplete(s._completed.bind(s)),u.start()}else{for(a in i)n[a]=i[a];n&&r.isFunction(n.draw)&&n.draw()}if(0===s.duration){for(e in t.objects)n=t.objects[e],n&&r.isFunction(n.draw)&&n.draw();s._completed()}},e.onComplete=function(t){var e=this;try{r.isFunction(t)&&e.completeCallbacks.push(t)}catch(t){}},e._completed=function(){var t,e,n=this,i=n.completeCallbacks;n.running=!1;for(t in n.layout.objects)e=n.layout.objects[t],e&&r.isFunction(e.draw)&&e.draw();for(t in n.layout.toHide)e=n.layout.toHide[t],e&&r.isFunction(e.hide)&&e.hide();for(t in i)i[t]()}},c.Utils={},c.Utils.log=function(){try{window.hasOwnProperty("console")&&console.log.apply(this,arguments)}catch(t){}},c.Utils.amount2rad=function(t){return Math.pow(Math.max(0,t)/c.a2radBase,.6)},c.Utils.formatNumber=function(t){var e="";return t<0&&(t*=-1,e="-"),t>=1e12?e+Math.round(t/1e11)/10+"t":t>=1e9?e+Math.round(t/1e8)/10+"b":t>=1e6?e+Math.round(t/1e5)/10+"m":t>=1e3?e+Math.round(t/100)/10+"k":e+t},c.Vector=function(t,e){var n=this;n.x=t,n.y=e,n.length=function(){var t=this;return Math.sqrt(t.x*t.x+t.y*t.y)},n.normalize=function(t){var e=this,n=e.length();t||(t=1),e.x*=t/n,e.y*=t/n},n.clone=function(){var t=this;return new c.Vector(t.x,t.y)}},c.Bubbles=c.Bubbles||{},c.Bubbles.Plain=function(t,e,n,o,a,s){var u=c,l=u.Utils,h=this;h.className="bubble",h.node=t,h.paper=e.paper,h.origin=n,h.bc=e,h.rad=o,h.angle=a,h.color=s,h.alpha=1,h.visible=!1,h.ns=u,h.pos=u.Vector(0,0),h.bubbleRad=l.amount2rad(this.node.amount),h.container=h.bc.$container,h.childRotation=0,h.getXY=function(){var t=this,e=t.origin,n=t.angle,r=t.rad;void 0===t.pos&&(t.pos=new t.ns.Vector(0,0)),t.pos.x=e.x+Math.cos(n)*r,t.pos.y=e.y-Math.sin(n)*r},h.init=function(){var t=this;t.getXY();t.node.shortLabel||(t.node.shortLabel=t.node.label.length>t.bc.config.cutLabelsAt+3?t.node.label.substr(0,t.bc.config.cutLabelsAt)+"...":t.node.label),t.initialized=!0},h.onclick=function(t){var e=this;e.bc.onNodeClick(e.node),e.bc.navigateTo(e.node)},h.onhover=function(t){var e=this,n=e.bc.$container[0];t.node=e.node,t.target=e,t.bubblePos={x:e.pos.x,y:e.pos.y},t.mousePos={x:t.origEvent.pageX-n.offsetLeft,y:t.origEvent.pageY-n.offsetTop},t.type="SHOW",e.bc.tooltip(t)},h.onunhover=function(t){var e=this,n=e.bc.$container[0];t.node=e.node,t.type="HIDE",t.target=e,t.bubblePos={x:e.pos.x,y:e.pos.y},t.mousePos={x:t.origEvent.pageX-n.offsetLeft,y:t.origEvent.pageY-n.offsetTop},e.bc.tooltip(t)},h.draw=function(){var t=this,e=Math.max(5,t.bubbleRad*t.bc.bubbleScale),n=(t.pos.x,t.pos.y,t.getXY(),t.pos.x),r=t.pos.y;if(t.visible){t.circle.attr({cx:t.pos.x,cy:t.pos.y,r:e,"fill-opacity":t.alpha}),t.node.children.length>1?t.dashedBorder.attr({cx:t.pos.x,cy:t.pos.y,r:e-4,"stroke-opacity":.9*t.alpha}):t.dashedBorder.attr({"stroke-opacity":0}),t.label.show(),t.label.find("*").show(),t.label2.show(),e>=t.bc.config.minRadiusLabels?t.label2.hide():e>=t.bc.config.minRadiusAmounts?t.label.find(".bubbletree-desc").hide():e>=t.bc.config.minRadiusHideLabels?t.label.hide():(t.label.hide(),t.label2.hide()),t.label.css({width:2*e+"px",opacity:t.alpha}),t.label.css({left:t.pos.x-e+"px",top:t.pos.y-.5*t.label.height()+"px"});var i=Math.max(70,3*e);t.label2.css({width:i+"px",opacity:t.alpha}),t.label2.css({left:n-.5*i+"px",top:r+e+"px"})}},h.hide=function(){var t=this;t.circle.remove(),t.dashedBorder.remove(),t.label.remove(),t.label2.remove(),t.visible=!1},h.show=function(){var t=this,e=t.pos.x,n=t.pos.y,i=Math.max(5,t.bubbleRad*t.bc.bubbleScale);t.circle=t.paper.circle(e,n,i).attr({stroke:!1,fill:t.color}),t.dashedBorder=t.paper.circle(e,n,i-3).attr({stroke:"#ffffff","stroke-dasharray":"- "}),t.label=r('<div class="bubbletree-label '+t.node.id+'"><div class="bubbletree-amount">'+l.formatNumber(t.node.amount)+'</div><div class="bubbletree-desc">'+t.node.shortLabel+"</div></div>"),t.container.append(t.label),t.node.children.length>0&&(r(t.circle.node).css({cursor:"pointer"}),r(t.label).css({cursor:"pointer"})),t.label2=r('<div class="bubbletree-label2 '+t.node.id+'"><span>'+t.node.shortLabel+"</span></div>"),t.container.append(t.label2);var o=[t.circle.node,t.label,t.dashedBorder.node],a=new t.ns.MouseEventGroup(t,o);a.click(t.onclick.bind(t)),a.hover(t.onhover.bind(t)),a.unhover(t.onunhover.bind(t)),t.visible=!0},h.addOverlay=function(){var t=this;t.overlay=t.paper.circle(t.circle.attrs.cx,t.circle.attrs.cy,t.circle.attrs.r).attr({stroke:!1,fill:"#fff",opacity:0}),i.svg&&t.overlay.node.setAttribute("class",t.node.id),r(t.overlay.node).css({cursor:"pointer"}),r(t.overlay.node).click(t.onclick.bind(t)),r(t.label).click(t.onclick.bind(t))},h.init()},c.Bubbles=c.Bubbles||{},c.Bubbles.Donut=function(t,e,n,i,o,s){var u=c,l=u.Utils,h=this;h.className="bubble",h.node=t,h.paper=e.paper,h.origin=n,h.bc=e,h.rad=i,h.angle=o,h.color=s,h.alpha=1,h.visible=!1,h.ns=u,h.bubbleRad=l.amount2rad(this.node.amount),h.childRotation=0,h.getXY=function(){var t=this,e=t.origin,n=t.angle,r=t.rad;t.pos.x=e.x+Math.cos(n)*r,t.pos.y=e.y-Math.sin(n)*r},h.init=function(){var t=this;t.pos=new t.ns.Vector(0,0),t.getXY();var e,n,r,i=[],o=[],a=t.bc.config.bubbleStyles;t.node.shortLabel||(t.node.shortLabel=t.node.label.length>50?t.node.label.substr(0,30)+"...":t.node.label),t.breakdownOpacities=[.2,.7,.45,.6,.35],t.breakdownColors=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];for(n in t.node.breakdowns)e=t.node.breakdowns[n],e.famount=l.formatNumber(e.amount),r=e.amount/t.node.amount,i.push(r),o.push(e),a&&a.hasOwnProperty("name")&&a.name.hasOwnProperty(e.name)&&a.name[e.name].hasOwnProperty("opacity")&&(t.breakdownOpacities[o.length-1]=a.name[e.name].opacity),a&&a.hasOwnProperty("name")&&a.name.hasOwnProperty(e.name)&&a.name[e.name].hasOwnProperty("color")&&(t.breakdownColors[o.length-1]=a.name[e.name].color,t.breakdownOpacities[o.length-1]=1);t.node.breakdowns=o,t.breakdown=i;t.initialized=!0},h.onclick=function(t){var e=this;e.bc.navigateTo(e.node)},h.onhover=function(t){var e=this,n=e.bc.$container[0];t.node=e.node,t.target=e,t.bubblePos={x:e.pos.x,y:e.pos.y},t.mousePos={x:t.origEvent.pageX-n.offsetLeft,y:t.origEvent.pageY-n.offsetTop},t.type="SHOW",e.bc.tooltip(t)},h.onunhover=function(t){var e=this,n=e.bc.$container[0];t.node=e.node,t.target=e,t.type="HIDE",t.bubblePos={x:e.pos.x,y:e.pos.y},t.mousePos={x:t.origEvent.pageX-n.offsetLeft,y:t.origEvent.pageY-n.offsetTop},e.bc.tooltip(t)},this.draw=function(){var t=this,e=Math.max(5,t.bubbleRad*t.bc.bubbleScale),n=(t.pos.x,t.pos.y,t.getXY(),e>20),r=t.pos.x,i=t.pos.y;if(t.visible){if(t.circle.attr({cx:r,cy:i,r:e,"fill-opacity":t.alpha}),t.node.children.length>1?t.dashedBorder.attr({cx:r,cy:i,r:.85*e,"stroke-opacity":.8*t.alpha}):t.dashedBorder.attr({"stroke-opacity":0}),t.breakdown.length>1){var o,a,s,u,l,c,h,f,p,d,v=.85*e,g=.5*-Math.PI;for(o in t.breakdown){d=t.breakdown[o]*Math.PI*2,a=r+Math.cos(g)*v,c=i+Math.sin(g)*v,s=r+Math.cos(g+d)*v,h=i+Math.sin(g+d)*v,u=r+Math.cos(g+d)*e,f=i+Math.sin(g+d)*e,l=r+Math.cos(g)*e,p=i+Math.sin(g)*e,g+=d;var y="M"+a+" "+c+" A"+v+","+v+" 0 "+(d>Math.PI?"1,1":"0,1")+" "+s+","+h+" L"+u+" "+f+" A"+e+","+e+" 0 "+(d>Math.PI?"1,0":"0,0")+" "+l+" "+p+" Z";t.breakdownArcs[o].attr({path:y,"stroke-opacity":.2*t.alpha,"fill-opacity":t.breakdownOpacities[o]*t.alpha})}}n?(t.label.show(),e<40?(t.label.find(".bubbletree-desc").hide(),t.label2.show()):(t.label.find(".bubbletree-desc").show(),t.label2.hide())):(t.label.hide(),t.label2.show()),t.label.css({width:2*e*.9+"px",opacity:t.alpha}),t.label.css({left:t.pos.x-.9*e+"px",top:t.pos.y-.53*t.label.height()+"px"});var m=Math.max(80,3*e);t.label2.css({width:m+"px",opacity:t.alpha}),t.label2.css({left:r-.5*m+"px",top:i+e+"px"})}},this.hide=function(){var t,e=this;e.circle.remove(),e.dashedBorder.remove(),e.label.remove(),e.label2.remove(),e.visible=!1;for(t in e.breakdownArcs)e.breakdownArcs[t].remove()},h.show=function(){var t,e=this,n=Math.max(5,e.bubbleRad*e.bc.bubbleScale);e.circle=e.paper.circle(e.pos.x,e.pos.y,n).attr({stroke:!1,fill:e.color}),r.isFunction(e.bc.config.initTooltip)&&e.bc.config.initTooltip(e.node,e.circle.node),e.dashedBorder=e.paper.circle(e.pos.x,e.pos.y,.85*n).attr({stroke:"#fff","stroke-opacity":.4*e.alpha,"stroke-dasharray":". ",fill:!1}),e.label=r('<div class="bubbletree-label '+e.node.id+'"><div class="bubbletree-amount">'+l.formatNumber(e.node.amount)+'</div><div class="bubbletree-desc">'+e.node.shortLabel+"</div></div>"),e.bc.$container.append(e.label),e.node.children.length>1&&(r(e.circle.node).css({cursor:"pointer"}),r(e.label).css({cursor:"pointer"})),e.label2=r('<div class="bubbletree-label2 '+e.node.id+'"><span>'+e.node.shortLabel+"</span></div>"),e.bc.$container.append(e.label2);var i=[e.circle.node,e.label];if(e.breakdown.length>1){e.breakdownArcs={};for(t in e.breakdown){var o=e.breakdownColors[t]?e.breakdownColors[t]:"#fff",a=e.paper.path("M 0 0 L 2 2").attr({fill:o,"fill-opacity":.4*Math.random()+.3,stroke:"#fff"});e.breakdownArcs[t]=a,r.isFunction(e.bc.config.initTooltip)&&e.bc.config.initTooltip(e.node.breakdowns[t],a.node)}for(t in e.breakdownArcs)r(e.breakdownArcs[t].node).click(e.onclick.bind(e))}var s=new e.ns.MouseEventGroup(e,i);s.click(e.onclick.bind(e)),s.hover(e.onhover.bind(e)),s.unhover(e.onunhover.bind(e)),e.visible=!0},h.arcHover=function(t){var e,n=this,r=n.bc.$container[0],i=n.breakdownArcs,o=n.node.breakdowns;for(e in i)if(i[e].node==t.target)return t.node=o[e],t.bubblePos={x:n.pos.x,y:n.pos.y},t.mousePos={x:t.pageX-r.offsetLeft,y:t.pageY-r.offsetTop},t.target=n,t.type="SHOW",void n.bc.tooltip(t);a.log("cant find the breakdown node")},h.arcUnhover=function(t){var e,n=this,r=n.bc.$container[0],i=n.breakdownArcs,o=n.node.breakdowns;for(e in i)if(i[e].node==t.target)return t.node=o[e],t.bubblePos={x:n.pos.x,y:n.pos.y},t.mousePos={x:t.pageX-r.offsetLeft,y:t.pageY-r.offsetTop},t.type="HIDE",t.target=n,void n.bc.tooltip(t);a.log("cant find the breakdown node")},h.init()},c.Bubbles=c.Bubbles||{},c.Bubbles.Icon=function(t,e,n,o,a,s){var l=c,h=l.Utils,f=this;f.className="bubble",f.node=t,f.paper=e.paper,f.origin=n,f.bc=e,f.rad=o,f.angle=a,f.color=s,f.alpha=1,f.visible=!1,f.ns=l,f.pos=l.Vector(0,0),f.bubbleRad=h.amount2rad(this.node.amount),f.iconLoaded=!1,f.childRotation=0,f.getXY=function(){var t=this,e=t.origin,n=t.angle,r=t.rad;void 0===t.pos&&(t.pos=new t.ns.Vector(0,0)),t.pos.x=e.x+Math.cos(n)*r,t.pos.y=e.y-Math.sin(n)*r},f.init=function(){var t=this;t.getXY(),t.hasIcon=t.node.hasOwnProperty("icon"),t.node.shortLabel||(t.node.shortLabel=t.node.label.length>50?t.node.label.substr(0,30)+"...":t.node.label),t.initialized=!0},f.show=function(){var t=this,e=t.pos.x,n=t.pos.y,i=Math.max(5,t.bubbleRad*t.bc.bubbleScale);t.circle=t.paper.circle(e,n,i).attr({stroke:!1,fill:t.color}),t.dashedBorder=t.paper.circle(e,n,Math.min(i-3,.95*i)).attr({stroke:"#ffffff","stroke-dasharray":"- "}),r.isFunction(t.bc.config.initTooltip)&&t.bc.config.initTooltip(t.node,t.circle.node),t.label=r('<div class="bubbletree-label '+t.node.id+'"><div class="bubbletree-amount">'+h.formatNumber(t.node.amount)+'</div><div class="bubbletree-desc">'+t.node.shortLabel+"</div></div>"),t.bc.$container.append(t.label),r.isFunction(t.bc.config.initTooltip)&&t.bc.config.initTooltip(t.node,t.label[0]),t.label2=r('<div class="bubbletree-label2 '+t.node.id+'"><span>'+t.node.shortLabel+"</span></div>"),t.bc.$container.append(t.label2),t.node.children.length>0&&(r(t.circle.node).css({cursor:"pointer"}),r(t.label).css({cursor:"pointer"})),t.visible=!0,t.hasIcon?t.iconLoaded?t.displayIcon():t.loadIcon():t.addOverlay()},f.loadIcon=function(){var t=this,e=new u;e.add(t.bc.config.rootPath+t.node.icon),e.load(t.iconLoadComplete.bind(t))},f.iconLoadComplete=function(t){var e,n,i,o=this;e=t.items[0].data,o.iconPathData="",e=r(e),i=r("path",e);for(n in i)i[n]&&r.isFunction(i[n].getAttribute)&&(o.iconPathData+=String(i[n].getAttribute("d"))+" ");o.iconLoaded=!0,o.displayIcon()},f.displayIcon=function(){var t,e=this;e.iconPaths=[],t=e.paper.path(e.iconPathData),t.attr({fill:"#fff",stroke:"none"}).translate(-50,-50),e.iconPaths.push(t),e.addOverlay()},f.addOverlay=function(){var t=this;if(t.overlay=t.paper.circle(t.circle.attrs.cx,t.circle.attrs.cy,t.circle.attrs.r).attr({stroke:!1,fill:"#fff","fill-opacity":0}),i.svg&&t.overlay.node.setAttribute("class",t.node.id),r(t.overlay.node).css({cursor:"pointer"}),r(t.overlay.node).click(t.onclick.bind(t)),r(t.label).click(t.onclick.bind(t)),r(t.label2).click(t.onclick.bind(t)),r.isPlainObject(t.bc.tooltip)){var e=t.bc.tooltip.content(t.node);r(t.overlay.node).qtip({position:{target:"mouse",viewport:r(window),adjust:{x:7,y:7}},show:{delay:t.bc.tooltip.delay||100},content:{title:e[0],text:e[1]}})}},f.removeIcon=function(){var t,e=this;for(t in e.iconPaths)e.iconPaths[t].remove();e.iconPaths=[]},f.draw=function(){var t,e,n,r,o,a=this,s=Math.max(5,a.bubbleRad*a.bc.bubbleScale),u=(a.pos.x,a.pos.y,a.getXY(),a.pos.x),l=a.pos.y,c=a.hasIcon&&s>15,h=a.hasIcon?s>40:s>20;if(a.visible){a.circle.attr({cx:u,cy:l,r:s,"fill-opacity":a.alpha}),a.overlay&&a.overlay.attr({cx:u,cy:l,r:Math.max(10,s)}),a.node.children.length>1?a.dashedBorder.attr({cx:a.pos.x,cy:a.pos.y,r:Math.min(s-3,s-4),"stroke-opacity":.9*a.alpha}):a.dashedBorder.attr({"stroke-opacity":0}),h?(a.label.show(),c&&s<70||!c&&s<40?(a.label.find(".bubbletree-desc").hide(),a.label2.show()):(a.label.find(".bubbletree-desc").show(),a.label2.hide())):(a.label.hide(),a.label2.show()),o=c?l+.77*s-a.label.height():l-.5*a.label.height(),a.label.css({width:(c?1.2*s:2*s)+"px",opacity:a.alpha}),a.label.css({left:(c?u-.6*s:u-s)+"px",top:o+"px"});var f=Math.max(80,3*s);if(a.label2.css({width:f+"px",opacity:a.alpha}),a.label2.css({left:u-.5*f+"px",top:l+s+"px"}),a.hasIcon)if(c){n=(s-(h?.5*a.label.height():0))/60;for(t in a.iconPaths)e=a.iconPaths[t],r="1"==i.version[0]?"scale("+n+") translate("+u/n+", "+(l+(h?a.label.height()*-.5:0))/n+")":"scale("+n+") translate("+(u/n-50)+", "+((l+(h?a.label.height()*-.5:0))/n-50)+")",e.node.setAttribute("transform",r),e.attr({"fill-opacity":a.alpha})}else for(t in a.iconPaths)e=a.iconPaths[t],e.attr({"fill-opacity":0})}},f.hide=function(){var t=this;t.circle.remove(),t.dashedBorder.remove(),t.label.remove(),t.label2.remove(),t.visible=!1,t.hasIcon&&t.removeIcon(),t.overlay&&t.overlay.remove()},f.onclick=function(t){var e=this;e.bc.onNodeClick(e.node),e.bc.navigateTo(e.node)},f.onhover=function(t){var e=this,n=e.bc.$container[0];t.node=e.node,t.bubblePos={x:e.pos.x,y:e.pos.y},t.mousePos={x:t.origEvent.pageX-n.offsetLeft,y:t.origEvent.pageY-n.offsetTop},t.type="SHOW",t.target=e,e.bc.tooltip(t)},f.onunhover=function(t){var e=this,n=e.bc.$container[0];t.node=e.node,t.type="HIDE",t.target=e,t.bubblePos={x:e.pos.x,y:e.pos.y},t.mousePos={x:t.origEvent.pageX-n.offsetLeft,y:t.origEvent.pageY-n.offsetTop},e.bc.tooltip(t)},f.init()},"object"==typeof t&&"object"==typeof t.exports&&(t.exports=c)},function(t,e,n){n(33),t.exports=self.fetch.bind(self)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,h,f,p,d=t[l].replace(a,"%20"),v=d.indexOf(r);v>=0?(c=d.substr(0,v),h=d.substr(v+1)):(c=d,h=""),f=decodeURIComponent(c),p=decodeURIComponent(h),n(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,i;r=[n(1),n(3),n(4)],i=function(t){return t}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(2)],i=function(t){function e(n){if(e.is(n,"function"))return _?n():t.on("raphael.DOMload",n);if(e.is(n,$))return e._engine.create[A](e,n.splice(0,3+e.is(n[0],H))).add(n);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var i=r.pop();return _?i.call(e._engine.create[A](e,r)):t.on("raphael.DOMload",function(){i.call(e._engine.create[A](e,r))})}return e._engine.create[A](e,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var r in t)t[C](r)&&(e[r]=n(t[r]));return e}function r(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function i(t,e,n){function i(){var o=Array.prototype.slice.call(arguments,0),a=o.join("␀"),s=i.cache=i.cache||{},u=i.count=i.count||[];return s[C](a)?(r(u,a),n?n(s[a]):s[a]):(u.length>=1e3&&delete s[u.shift()],u.push(a),s[a]=t[A](e,o),n?n(s[a]):s[a])}return i}function o(){return this.hex}function a(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y]);
}return n}function s(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n}function u(t,e,n,r,i,o,a,u,l){null==l&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,v=0;v<h;v++){var g=c*f[v]+c,y=s(g,t,n,i,a),m=s(g,e,r,o,u),_=y*y+m*m;d+=p[v]*N.sqrt(_)}return c*d}function l(t,e,n,r,i,o,a,s,l){if(!(l<0||u(t,e,n,r,i,o,a,s)<l)){var c,h=1,f=h/2,p=h-f,d=.01;for(c=u(t,e,n,r,i,o,a,s,p);U(c-l)>d;)f/=2,p+=(c<l?1:-1)*f,c=u(t,e,n,r,i,o,a,s,p);return p}}function c(t,e,n,r,i,o,a,s){if(!(D(t,n)<z(i,a)||z(t,n)>D(i,a)||D(e,r)<z(o,s)||z(e,r)>D(o,s))){var u=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),l=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var h=u/c,f=l/c,p=+h.toFixed(2),d=+f.toFixed(2);if(!(p<+z(t,n).toFixed(2)||p>+D(t,n).toFixed(2)||p<+z(i,a).toFixed(2)||p>+D(i,a).toFixed(2)||d<+z(e,r).toFixed(2)||d>+D(e,r).toFixed(2)||d<+z(o,s).toFixed(2)||d>+D(o,s).toFixed(2)))return{x:h,y:f}}}}function h(t,n,r){var i=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(i,o))return r?0:[];for(var a=u.apply(0,t),s=u.apply(0,n),l=D(~~(a/5),1),h=D(~~(s/5),1),f=[],p=[],d={},v=r?0:[],g=0;g<l+1;g++){var y=e.findDotsAtSegment.apply(e,t.concat(g/l));f.push({x:y.x,y:y.y,t:g/l})}for(g=0;g<h+1;g++)y=e.findDotsAtSegment.apply(e,n.concat(g/h)),p.push({x:y.x,y:y.y,t:g/h});for(g=0;g<l;g++)for(var m=0;m<h;m++){var _=f[g],b=f[g+1],x=p[m],w=p[m+1],k=U(b.x-_.x)<.001?"y":"x",C=U(w.x-x.x)<.001?"y":"x",T=c(_.x,_.y,b.x,b.y,x.x,x.y,w.x,w.y);if(T){if(d[T.x.toFixed(4)]==T.y.toFixed(4))continue;d[T.x.toFixed(4)]=T.y.toFixed(4);var j=_.t+U((T[k]-_[k])/(b[k]-_[k]))*(b.t-_.t),E=x.t+U((T[C]-x[C])/(w[C]-x[C]))*(w.t-x.t);j>=0&&j<=1.001&&E>=0&&E<=1.001&&(r?v++:v.push({x:T.x,y:T.y,t1:z(j,1),t2:z(E,1)}))}}return v}function f(t,n,r){t=e._path2curve(t),n=e._path2curve(n);for(var i,o,a,s,u,l,c,f,p,d,v=r?0:[],g=0,y=t.length;g<y;g++){var m=t[g];if("M"==m[0])i=u=m[1],o=l=m[2];else{"C"==m[0]?(p=[i,o].concat(m.slice(1)),i=p[6],o=p[7]):(p=[i,o,i,o,u,l,u,l],i=u,o=l);for(var _=0,b=n.length;_<b;_++){var x=n[_];if("M"==x[0])a=c=x[1],s=f=x[2];else{"C"==x[0]?(d=[a,s].concat(x.slice(1)),a=d[6],s=d[7]):(d=[a,s,a,s,c,f,c,f],a=c,s=f);var w=h(p,d,r);if(r)v+=w;else{for(var k=0,C=w.length;k<C;k++)w[k].segment1=g,w[k].segment2=_,w[k].bez1=p,w[k].bez2=d;v=v.concat(w)}}}}}return v}function p(t,e,n,r,i,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+O+this.y+O+this.width+" × "+this.height}function v(t,e,n,r,i,o){function a(t){return((h*t+c)*t+l)*t}function s(t,e){var n=u(t,e);return((d*n+p)*n+f)*n}function u(t,e){var n,r,i,o,s,u;for(i=t,u=0;u<8;u++){if(o=a(i)-t,U(o)<e)return i;if(s=(3*h*i+2*c)*i+l,U(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,i<n)return n;if(i>r)return r;for(;n<r;){if(o=a(i),U(o-t)<e)return i;t>o?n=i:r=i,i=(r-n)/2+n}return i}var l=3*e,c=3*(r-e)-l,h=1-l-c,f=3*n,p=3*(i-n)-f,d=1-f-p;return s(t,1/(200*o))}function g(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var i in t)t[C](i)&&(r[Z(i)]=t[i],n.push(Z(i)));n.sort(ct)}this.anim=r,this.top=n[n.length-1],this.percents=n}function y(n,r,i,o,a,s){i=Z(i);var u,l,c,h,f,d,g=n.ms,y={},m={},_={};if(o)for(w=0,k=oe.length;w<k;w++){var b=oe[w];if(b.el.id==r.id&&b.anim==n){b.percent!=i?(oe.splice(w,1),c=1):l=b,r.attr(b.totalOrigin);break}}else o=+m;for(var w=0,k=n.percents.length;w<k;w++){if(n.percents[w]==i||n.percents[w]>o*n.top){i=n.percents[w],f=n.percents[w-1]||0,g=g/n.top*(i-f),h=n.percents[w+1],u=n.anim[i];break}o&&r.attr(n.anim[n.percents[w]])}if(u){if(l)l.initstatus=o,l.start=new Date-l.ms*o;else{for(var T in u)if(u[C](T)&&(nt[C](T)||r.paper.customAttributes[C](T)))switch(y[T]=r.attr(T),null==y[T]&&(y[T]=et[T]),m[T]=u[T],nt[T]){case H:_[T]=(m[T]-y[T])/g;break;case"colour":y[T]=e.getRGB(y[T]);var j=e.getRGB(m[T]);_[T]={r:(j.r-y[T].r)/g,g:(j.g-y[T].g)/g,b:(j.b-y[T].b)/g};break;case"path":var E=Mt(y[T],m[T]),A=E[1];for(y[T]=E[0],_[T]=[],w=0,k=y[T].length;w<k;w++){_[T][w]=[0];for(var B=1,P=y[T][w].length;B<P;B++)_[T][w][B]=(A[w][B]-y[T][w][B])/g}break;case"transform":var O=r._,R=Dt(O[T],m[T]);if(R)for(y[T]=R.from,m[T]=R.to,_[T]=[],_[T].real=!0,w=0,k=y[T].length;w<k;w++)for(_[T][w]=[y[T][w][0]],B=1,P=y[T][w].length;B<P;B++)_[T][w][B]=(m[T][w][B]-y[T][w][B])/g;else{var L=r.matrix||new p,I={_:{transform:O.transform},getBBox:function(){return r.getBBox(1)}};y[T]=[L.a,L.b,L.c,L.d,L.e,L.f],It(I,m[T]),m[T]=I._.transform,_[T]=[(I.matrix.a-L.a)/g,(I.matrix.b-L.b)/g,(I.matrix.c-L.c)/g,(I.matrix.d-L.d)/g,(I.matrix.e-L.e)/g,(I.matrix.f-L.f)/g]}break;case"csv":var N=F(u[T])[M](x),D=F(y[T])[M](x);if("clip-rect"==T)for(y[T]=D,_[T]=[],w=D.length;w--;)_[T][w]=(N[w]-y[T][w])/g;m[T]=N;break;default:for(N=[][S](u[T]),D=[][S](y[T]),_[T]=[],w=r.paper.customAttributes[T].length;w--;)_[T][w]=((N[w]||0)-(D[w]||0))/g}var z=u.easing,U=e.easing_formulas[z];if(!U)if(U=F(z).match(Q),U&&5==U.length){var V=U;U=function(t){return v(t,+V[1],+V[2],+V[3],+V[4],g)}}else U=ht;if(d=u.start||n.start||+new Date,b={anim:n,percent:i,timestamp:d,start:d+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:U,from:y,diff:_,to:m,el:r,callback:u.callback,prev:f,next:h,repeat:s||n.times,origin:r.attr(),totalOrigin:a},oe.push(b),o&&!l&&!c&&(b.stop=!0,b.start=new Date-g*o,1==oe.length))return se();c&&(b.start=new Date-b.ms*o),1==oe.length&&ae(se)}t("raphael.anim.start."+r.id,r,n)}}function m(t){for(var e=0;e<oe.length;e++)oe[e].el.paper==t&&oe.splice(e--,1)}e.version="2.2.0",e.eve=t;var _,b,x=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,C="hasOwnProperty",T={doc:document,win:window},j={was:Object.prototype[C].call(T.win,"Raphael"),is:T.win.Raphael},E=function(){this.ca=this.customAttributes={}},A="apply",S="concat",B="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,P="",O=" ",F=String,M="split",R="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[M](O),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},I=F.prototype.toLowerCase,N=Math,D=N.max,z=N.min,U=N.abs,V=N.pow,q=N.PI,H="number",W="string",$="array",G=Object.prototype.toString,X=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Y={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=N.round,Z=parseFloat,J=parseInt,tt=F.prototype.toUpperCase,et=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},nt=e._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},ot=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ut=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ct=function(t,e){return Z(t)-Z(e)},ht=function(t){return t},ft=e._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},pt=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},dt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},vt=e.mapPath=function(t,e){if(!e)return t;var n,r,i,o,a,s,u;for(t=Mt(t),i=0,a=t.length;i<a;i++)for(u=t[i],o=1,s=u.length;o<s;o+=2)n=e.x(u[o],u[o+1]),r=e.y(u[o],u[o+1]),u[o]=n,u[o+1]=r;return t};if(e._g=T,e.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var gt,yt=T.doc.createElement("div");if(yt.innerHTML='<v:shape adj="1"/>',gt=yt.firstChild,gt.style.behavior="url(#default#VML)",!gt||"object"!=typeof gt.adj)return e.type=P;yt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=E,e.fn=b=E.prototype=e.prototype,e._id=0,e.is=function(t,e){return e=I.call(e),"finite"==e?!Y[C](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||G.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,r,i,o,a){if(null==o){var s=t-r,u=n-i;return s||u?(180+180*N.atan2(-u,-s)/q+360)%360:0}return e.angle(t,n,o,a)-e.angle(r,i,o,a)},e.rad=function(t){return t%360*q/180},e.deg=function(t){return Math.round(180*t/q%360*1e3)/1e3},e.snapTo=function(t,n,r){if(r=e.is(r,"finite")?r:10,e.is(t,$)){for(var i=t.length;i--;)if(U(t[i]-n)<=r)return t[i]}else{t=+t;var o=n%t;if(o<r)return n-o;if(o>t-r)return n-o+t}return n};e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*N.random()|0,n="x"==t?e:3&e|8;return n.toString(16)});e.setWindow=function(n){t("raphael.setWindow",e,T.win,n),T.win=n,T.doc=T.win.document,e._engine.initWin&&e._engine.initWin(T.win)};var mt=function(t){if(e.vml){var n,r=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var a=n.createTextRange();mt=i(function(t){try{n.style.color=F(t).replace(r,P);var e=a.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var s=T.doc.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",T.doc.body.appendChild(s),mt=i(function(t){return s.style.color=t,T.doc.defaultView.getComputedStyle(s,P).getPropertyValue("color")})}return mt(t)},_t=function(){return"hsb("+[this.h,this.s,this.b]+")"},bt=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},wt=function(t,n,r){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r),null==n&&e.is(t,W)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}return(t>1||n>1||r>1)&&(t/=255,n/=255,r/=255),[t,n,r]},kt=function(t,n,r,i){t*=255,n*=255,r*=255;var o={r:t,g:n,b:r,hex:e.rgb(t,n,r),toString:xt};return e.is(i,"finite")&&(o.opacity=i),o};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=xt,t},e.hsb2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),t*=360;var i,o,a,s,u;return t=t%360/60,u=n*e,s=u*(1-U(t%2-1)),i=o=a=n-u,t=~~t,i+=[u,s,0,0,s,u][t],o+=[s,u,u,s,0,0][t],a+=[0,0,s,u,u,s][t],kt(i,o,a,r)},e.hsl2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var i,o,a,s,u;return t=t%360/60,u=2*e*(n<.5?n:1-n),s=u*(1-U(t%2-1)),i=o=a=n-u/2,t=~~t,i+=[u,s,0,0,s,u][t],o+=[s,u,u,s,0,0][t],a+=[0,0,s,u,u,s][t],kt(i,o,a,r)},e.rgb2hsb=function(t,e,n){n=wt(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a;return o=D(t,e,n),a=o-z(t,e,n),r=0==a?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:_t}},e.rgb2hsl=function(t,e,n){n=wt(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a,s,u;return a=D(t,e,n),s=z(t,e,n),u=a-s,r=0==u?null:a==t?(e-n)/u:a==e?(n-t)/u+2:(t-e)/u+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==u?0:o<.5?u/(2*o):u/(2-2*o),{h:r,s:i,l:o,toString:bt}},e._path2string=function(){return this.join(",").replace(ot,"$1")};e._preload=function(t,e){var n=T.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},n.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(n),n.src=t};e.getRGB=i(function(t){if(!t||(t=F(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(it[C](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=mt(t));var n,r,i,a,s,u,l=t.match(X);return l?(l[2]&&(i=J(l[2].substring(5),16),r=J(l[2].substring(3,5),16),n=J(l[2].substring(1,3),16)),l[3]&&(i=J((s=l[3].charAt(3))+s,16),r=J((s=l[3].charAt(2))+s,16),n=J((s=l[3].charAt(1))+s,16)),l[4]&&(u=l[4][M](rt),n=Z(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Z(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=Z(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(a=Z(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100)),l[5]?(u=l[5][M](rt),n=Z(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Z(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=Z(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(a=Z(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),e.hsb2rgb(n,r,i,a)):l[6]?(u=l[6][M](rt),n=Z(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Z(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=Z(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(a=Z(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),e.hsl2rgb(n,r,i,a)):(l={r:n,g:r,b:i,toString:o},l.hex="#"+(16777216|i|r<<8|n<<16).toString(16).slice(1),e.is(a,"finite")&&(l.opacity=a),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},e),e.hsb=i(function(t,n,r){return e.hsb2rgb(t,n,r).hex}),e.hsl=i(function(t,n,r){return e.hsl2rgb(t,n,r).hex}),e.rgb=i(function(t,e,n){function r(t){return t+.5|0}return"#"+(16777216|r(n)|r(e)<<8|r(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=Ct(t);if(n.arr)return jt(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return e.is(t,$)&&e.is(t[0],$)&&(i=jt(t)),i.length||F(t).replace(at,function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(ut,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(i.push([e][S](o.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)i.push([e][S](o));else for(;o.length>=r[a]&&(i.push([e][S](o.splice(0,r[a]))),r[a]););}),i.toString=e._path2string,n.arr=jt(i),i},e.parseTransformString=i(function(t){if(!t)return null;var n=[];return e.is(t,$)&&e.is(t[0],$)&&(n=jt(t)),n.length||F(t).replace(st,function(t,e,r){var i=[];I.call(e);r.replace(ut,function(t,e){e&&i.push(+e)}),n.push([e][S](i))}),n.toString=e._path2string,n});var Ct=function(t){var e=Ct.ps=Ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[C](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};e.findDotsAtSegment=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=V(l,3),h=V(l,2),f=u*u,p=f*u,d=c*t+3*h*u*n+3*l*u*u*i+p*a,v=c*e+3*h*u*r+3*l*u*u*o+p*s,g=t+2*u*(n-t)+f*(i-2*n+t),y=e+2*u*(r-e)+f*(o-2*r+e),m=n+2*u*(i-n)+f*(a-2*i+n),_=r+2*u*(o-r)+f*(s-2*o+r),b=l*t+u*n,x=l*e+u*r,w=l*i+u*a,k=l*o+u*s,C=90-180*N.atan2(g-m,y-_)/q;return(g>m||y<_)&&(C+=180),{x:d,y:v,m:{x:g,y:y},n:{x:m,y:_},start:{x:b,y:x},end:{x:w,y:k},alpha:C}},e.bezierBBox=function(t,n,r,i,o,a,s,u){e.is(t,"array")||(t=[t,n,r,i,o,a,s,u]);var l=Ft.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var r=e.isPointInsideBBox;return r(n,t.x,t.y)||r(n,t.x2,t.y)||r(n,t.x,t.y2)||r(n,t.x2,t.y2)||r(t,n.x,n.y)||r(t,n.x2,n.y)||r(t,n.x,n.y2)||r(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,n,r){var i=e.pathBBox(t);return e.isPointInsideBBox(i,n,r)&&f(t,[["M",n,r],["H",i.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Tt=e.pathBBox=function(t){var e=Ct(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Mt(t);for(var r,i=0,o=0,a=[],s=[],u=0,l=t.length;u<l;u++)if(r=t[u],"M"==r[0])i=r[1],o=r[2],a.push(i),s.push(o);else{var c=Ft(i,o,r[1],r[2],r[3],r[4],r[5],r[6]);a=a[S](c.min.x,c.max.x),s=s[S](c.min.y,c.max.y),i=r[5],o=r[6]}var h=z[A](0,a),f=z[A](0,s),p=D[A](0,a),d=D[A](0,s),v=p-h,g=d-f,y={x:h,y:f,x2:p,y2:d,width:v,height:g,cx:h+v/2,cy:f+g/2};return e.bbox=n(y),y},jt=function(t){var r=n(t);return r.toString=e._path2string,r},Et=e._pathToRelative=function(t){var n=Ct(t);if(n.rel)return jt(n.rel);e.is(t,$)&&e.is(t&&t[0],$)||(t=e.parsePathString(t));var r=[],i=0,o=0,a=0,s=0,u=0;"M"==t[0][0]&&(i=t[0][1],o=t[0][2],a=i,s=o,u++,r.push(["M",i,o]));for(var l=u,c=t.length;l<c;l++){var h=r[l]=[],f=t[l];if(f[0]!=I.call(f[0]))switch(h[0]=I.call(f[0]),h[0]){case"a":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+(f[6]-i).toFixed(3),h[7]=+(f[7]-o).toFixed(3);break;case"v":h[1]=+(f[1]-o).toFixed(3);break;case"m":a=f[1],s=f[2];default:for(var p=1,d=f.length;p<d;p++)h[p]=+(f[p]-(p%2?i:o)).toFixed(3)}else{h=r[l]=[],"m"==f[0]&&(a=f[1]+i,s=f[2]+o);for(var v=0,g=f.length;v<g;v++)r[l][v]=f[v]}var y=r[l].length;switch(r[l][0]){case"z":i=a,o=s;break;case"h":i+=+r[l][y-1];break;case"v":o+=+r[l][y-1];break;default:i+=+r[l][y-2],o+=+r[l][y-1]}}return r.toString=e._path2string,n.rel=jt(r),r},At=e._pathToAbsolute=function(t){var n=Ct(t);if(n.abs)return jt(n.abs);if(e.is(t,$)&&e.is(t&&t[0],$)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r=[],i=0,o=0,s=0,u=0,l=0;"M"==t[0][0]&&(i=+t[0][1],o=+t[0][2],s=i,u=o,l++,r[0]=["M",i,o]);for(var c,h,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=l,d=t.length;p<d;p++){if(r.push(c=[]),h=t[p],h[0]!=tt.call(h[0]))switch(c[0]=tt.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+i),c[7]=+(h[7]+o);break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+i;break;case"R":for(var v=[i,o][S](h.slice(1)),g=2,y=v.length;g<y;g++)v[g]=+v[g]+i,v[++g]=+v[g]+o;r.pop(),r=r[S](a(v,f));break;case"M":s=+h[1]+i,u=+h[2]+o;default:for(g=1,y=h.length;g<y;g++)c[g]=+h[g]+(g%2?i:o)}else if("R"==h[0])v=[i,o][S](h.slice(1)),r.pop(),r=r[S](a(v,f)),c=["R"][S](h.slice(-2));else for(var m=0,_=h.length;m<_;m++)c[m]=h[m];switch(c[0]){case"Z":i=s,o=u;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":s=c[c.length-2],u=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return r.toString=e._path2string,n.abs=jt(r),r},St=function(t,e,n,r){return[t,e,n,r,n,r]},Bt=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},Pt=function(t,e,n,r,o,a,s,u,l,c){var h,f=120*q/180,p=q/180*(+o||0),d=[],v=i(function(t,e,n){var r=t*N.cos(n)-e*N.sin(n),i=t*N.sin(n)+e*N.cos(n);return{x:r,y:i}});if(c)C=c[0],T=c[1],w=c[2],k=c[3];else{h=v(t,e,-p),t=h.x,e=h.y,h=v(u,l,-p),u=h.x,l=h.y;var g=(N.cos(q/180*o),N.sin(q/180*o),(t-u)/2),y=(e-l)/2,m=g*g/(n*n)+y*y/(r*r);m>1&&(m=N.sqrt(m),n*=m,r*=m);var _=n*n,b=r*r,x=(a==s?-1:1)*N.sqrt(U((_*b-_*y*y-b*g*g)/(_*y*y+b*g*g))),w=x*n*y/r+(t+u)/2,k=x*-r*g/n+(e+l)/2,C=N.asin(((e-k)/r).toFixed(9)),T=N.asin(((l-k)/r).toFixed(9));C=t<w?q-C:C,T=u<w?q-T:T,C<0&&(C=2*q+C),T<0&&(T=2*q+T),s&&C>T&&(C-=2*q),!s&&T>C&&(T-=2*q)}var j=T-C;if(U(j)>f){var E=T,A=u,B=l;T=C+f*(s&&T>C?1:-1),u=w+n*N.cos(T),l=k+r*N.sin(T),d=Pt(u,l,n,r,o,0,s,A,B,[T,E,w,k])}j=T-C;var P=N.cos(C),O=N.sin(C),F=N.cos(T),R=N.sin(T),L=N.tan(j/4),I=4/3*n*L,D=4/3*r*L,z=[t,e],V=[t+I*O,e-D*P],H=[u+I*R,l-D*F],W=[u,l];if(V[0]=2*z[0]-V[0],V[1]=2*z[1]-V[1],c)return[V,H,W][S](d);d=[V,H,W][S](d).join()[M](",");for(var $=[],G=0,X=d.length;G<X;G++)$[G]=G%2?v(d[G-1],d[G],p).y:v(d[G],d[G+1],p).x;return $},Ot=function(t,e,n,r,i,o,a,s,u){var l=1-u;return{x:V(l,3)*t+3*V(l,2)*u*n+3*l*u*u*i+V(u,3)*a,y:V(l,3)*e+3*V(l,2)*u*r+3*l*u*u*o+V(u,3)*s}},Ft=i(function(t,e,n,r,i,o,a,s){var u,l=i-2*n+t-(a-2*i+n),c=2*(n-t)-2*(i-n),h=t-n,f=(-c+N.sqrt(c*c-4*l*h))/2/l,p=(-c-N.sqrt(c*c-4*l*h))/2/l,d=[e,s],v=[t,a];return U(f)>"1e12"&&(f=.5),U(p)>"1e12"&&(p=.5),f>0&&f<1&&(u=Ot(t,e,n,r,i,o,a,s,f),v.push(u.x),d.push(u.y)),p>0&&p<1&&(u=Ot(t,e,n,r,i,o,a,s,p),v.push(u.x),d.push(u.y)),l=o-2*r+e-(s-2*o+r),c=2*(r-e)-2*(o-r),h=e-r,f=(-c+N.sqrt(c*c-4*l*h))/2/l,p=(-c-N.sqrt(c*c-4*l*h))/2/l,U(f)>"1e12"&&(f=.5),U(p)>"1e12"&&(p=.5),f>0&&f<1&&(u=Ot(t,e,n,r,i,o,a,s,f),v.push(u.x),d.push(u.y)),p>0&&p<1&&(u=Ot(t,e,n,r,i,o,a,s,p),v.push(u.x),d.push(u.y)),{min:{x:z[A](0,v),y:z[A](0,d)},max:{x:D[A](0,v),y:D[A](0,d)}}}),Mt=e._path2curve=i(function(t,e){var n=!e&&Ct(t);if(!e&&n.curve)return jt(n.curve);for(var r=At(t),i=e&&At(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(t,e,n){var r,i,o={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in o)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][S](Pt[A](0,[e.x,e.y][S](t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i][S](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][S](Bt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][S](Bt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][S](St(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][S](St(e.x,e.y,t[1],e.y));break;case"V":t=["C"][S](St(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][S](St(e.x,e.y,e.X,e.Y))}return t}),u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",i&&(h[e]="A"),t.splice(e++,0,["C"][S](n.splice(0,6)));t.splice(e,1),v=D(r.length,i&&i.length||0)}},l=function(t,e,n,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],v=D(r.length,i&&i.length||0))},c=[],h=[],f="",p="",d=0,v=D(r.length,i&&i.length||0);d<v;d++){r[d]&&(f=r[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),r[d]=s(r[d],o,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),u(r,d),i&&(i[d]&&(f=i[d][0]),"C"!=f&&(h[d]=f,d&&(p=h[d-1])),i[d]=s(i[d],a,p),"A"!=h[d]&&"C"==f&&(h[d]="C"),u(i,d)),l(r,i,o,a,d),l(i,r,a,o,d);var g=r[d],y=i&&i[d],m=g.length,_=i&&y.length;o.x=g[m-2],o.y=g[m-1],o.bx=Z(g[m-4])||o.x,o.by=Z(g[m-3])||o.y,a.bx=i&&(Z(y[_-4])||a.x),a.by=i&&(Z(y[_-3])||a.y),a.x=i&&y[_-2],a.y=i&&y[_-1]}return i||(n.curve=jt(r)),i?[r,i]:r},null,jt),Rt=(e._parseDots=i(function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(a[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),n.push(o)}for(r=1,i=n.length-1;r<i;r++)if(!n[r].offset){for(var s=Z(n[r-1].offset||0),u=0,l=r+1;l<i;l++)if(n[l].offset){u=n[l].offset;break}u||(u=100,l=i),u=Z(u);for(var c=(u-s)/(l-r+1);r<l;r++)s+=c,n[r].offset=s+"%"}return n}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Lt=(e._tofront=function(t,e){e.top!==t&&(Rt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Rt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Rt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Rt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=Tt(t),r={_:{transform:P},getBBox:function(){return n}};return It(r,e),r.matrix}),It=(e.transformPath=function(t,e){return vt(t,Lt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=F(n).replace(/\.{3}|\u2026/g,t._.transform||P);var r=e.parseTransformString(n),i=0,o=0,a=0,s=1,u=1,l=t._,c=new p;if(l.transform=r||[],r)for(var h=0,f=r.length;h<f;h++){var d,v,g,y,m,_=r[h],b=_.length,x=F(_[0]).toLowerCase(),w=_[0]!=x,k=w?c.invert():0;"t"==x&&3==b?w?(d=k.x(0,0),v=k.y(0,0),g=k.x(_[1],_[2]),y=k.y(_[1],_[2]),c.translate(g-d,y-v)):c.translate(_[1],_[2]):"r"==x?2==b?(m=m||t.getBBox(1),c.rotate(_[1],m.x+m.width/2,m.y+m.height/2),i+=_[1]):4==b&&(w?(g=k.x(_[2],_[3]),y=k.y(_[2],_[3]),c.rotate(_[1],g,y)):c.rotate(_[1],_[2],_[3]),i+=_[1]):"s"==x?2==b||3==b?(m=m||t.getBBox(1),c.scale(_[1],_[b-1],m.x+m.width/2,m.y+m.height/2),s*=_[1],u*=_[b-1]):5==b&&(w?(g=k.x(_[3],_[4]),y=k.y(_[3],_[4]),c.scale(_[1],_[2],g,y)):c.scale(_[1],_[2],_[3],_[4]),s*=_[1],u*=_[2]):"m"==x&&7==b&&c.add(_[1],_[2],_[3],_[4],_[5],_[6]),l.dirtyT=1,t.matrix=c}t.matrix=c,l.sx=s,l.sy=u,l.deg=i,l.dx=o=c.e,l.dy=a=c.f,1==s&&1==u&&!i&&l.bbox?(l.bbox.x+=+o,l.bbox.y+=+a):l.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Dt=e._equaliseTransform=function(t,n){n=F(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var r,i,o,a,s=D(t.length,n.length),u=[],l=[],c=0;c<s;c++){if(o=t[c]||Nt(n[c]),a=n[c]||Nt(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(u[c]=[],l[c]=[],r=0,i=D(o.length,a.length);r<i;r++)r in o&&(u[c][r]=o[r]),r in a&&(l[c][r]=a[r])}return{from:u,to:l}};e._getContainer=function(t,n,r,i){var o;if(o=null!=i||e.is(t,"object")?t:T.doc.getElementById(t),null!=o)return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:r}:{container:1,x:t,y:n,width:r,height:i}},e.pathToRelative=Et,e._engine={},e.path2curve=Mt,e.matrix=function(t,e,n,r,i,o){return new p(t,e,n,r,i,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=N.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,r,i,o){var a,s,u,l,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,i],[e,r,o],[0,0,1]];for(t&&t instanceof p&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(l=0,u=0;u<3;u++)l+=h[a][u]*f[u][s];c[a][s]=l}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},t.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var i=+N.cos(t).toFixed(9),o=+N.sin(t).toFixed(9);this.add(i,o,-o,i,n,r),this.add(1,0,0,1,-n,-r)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[F.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=N.sqrt(n(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=N.sqrt(n(i[1])),r(i[1]),t.shear/=t.scaley;var o=-i[0][1],a=i[1][1];return a<0?(t.rotate=e.deg(N.acos(a)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(N.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[M]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:P)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:P)+(e.rotate?"r"+[e.rotate,0,0]:P)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);for(var zt=function(){this.returnValue=!1},Ut=function(){return this.originalEvent.preventDefault()},Vt=function(){this.cancelBubble=!0},qt=function(){return this.originalEvent.stopPropagation()},Ht=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,n=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Wt=function(){return T.doc.addEventListener?function(t,e,n,r){var i=function(t){var e=Ht(t);return n.call(r,t,e.x,e.y)};if(t.addEventListener(e,i,!1),
B&&L[e]){var o=function(e){for(var i=Ht(e),o=e,a=0,s=e.targetTouches&&e.targetTouches.length;a<s;a++)if(e.targetTouches[a].target==t){e=e.targetTouches[a],e.originalEvent=o,e.preventDefault=Ut,e.stopPropagation=qt;break}return n.call(r,e,i.x,i.y)};t.addEventListener(L[e],o,!1)}return function(){return t.removeEventListener(e,i,!1),B&&L[e]&&t.removeEventListener(L[e],o,!1),!0}}:T.doc.attachEvent?function(t,e,n,r){var i=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,i=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+i,a=t.clientY+e;return t.preventDefault=t.preventDefault||zt,t.stopPropagation=t.stopPropagation||Vt,n.call(r,t,o,a)};t.attachEvent("on"+e,i);var o=function(){return t.detachEvent("on"+e,i),!0};return o}:void 0}(),$t=[],Gt=function(e){for(var n,r=e.clientX,i=e.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,a=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,s=$t.length;s--;){if(n=$t[s],B&&e.touches){for(var u,l=e.touches.length;l--;)if(u=e.touches[l],u.identifier==n.el._drag.id){r=u.clientX,i=u.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,h=n.el.node,f=h.nextSibling,p=h.parentNode,d=h.style.display;T.win.opera&&p.removeChild(h),h.style.display="none",c=n.el.paper.getElementByPoint(r,i),h.style.display=d,T.win.opera&&(f?p.insertBefore(h,f):p.appendChild(h)),c&&t("raphael.drag.over."+n.el.id,n.el,c),r+=a,i+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,e)}},Xt=function(n){e.unmousemove(Gt).unmouseup(Xt);for(var r,i=$t.length;i--;)r=$t[i],r.el._drag={},t("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);$t=[]},Yt=e.el={},Qt=R.length;Qt--;)!function(t){e[t]=Yt[t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Wt(this.shape||this.node||T.doc,t,n,r||this)})),this},e["un"+t]=Yt["un"+t]=function(n){for(var r=this.events||[],i=r.length;i--;)r[i].name!=t||!e.is(n,"undefined")&&r[i].f!=n||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}}(R[Qt]);Yt.data=function(n,r){var i=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[C](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,i[n],n),i[n]}return i[n]=r,t("raphael.data.set."+this.id,this,r,n),this},Yt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Yt.getData=function(){return n(lt[this.id]||{})},Yt.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},Yt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Kt=[];Yt.drag=function(n,r,i,o,a,s){function u(u){(u.originalEvent||u).preventDefault();var l=u.clientX,c=u.clientY,h=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,f=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=u.identifier,B&&u.touches)for(var p,d=u.touches.length;d--;)if(p=u.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){l=p.clientX,c=p.clientY;break}this._drag.x=l+f,this._drag.y=c+h,!$t.length&&e.mousemove(Gt).mouseup(Xt),$t.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&t.on("raphael.drag.start."+this.id,r),n&&t.on("raphael.drag.move."+this.id,n),i&&t.on("raphael.drag.end."+this.id,i),t("raphael.drag.start."+this.id,a||o||this,u.clientX+f,u.clientY+h,u)}return this._drag={},Kt.push({el:this,start:u}),this.mousedown(u),this},Yt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Yt.undrag=function(){for(var n=Kt.length;n--;)Kt[n].el==this&&(this.unmousedown(Kt[n].start),Kt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Kt.length&&e.unmousemove(Gt).unmouseup(Xt),$t=[]},b.circle=function(t,n,r){var i=e._engine.circle(this,t||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},b.rect=function(t,n,r,i,o){var a=e._engine.rect(this,t||0,n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},b.ellipse=function(t,n,r,i){var o=e._engine.ellipse(this,t||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(o),o},b.path=function(t){t&&!e.is(t,W)&&!e.is(t[0],$)&&(t+=P);var n=e._engine.path(e.format[A](e,arguments),this);return this.__set__&&this.__set__.push(n),n},b.image=function(t,n,r,i,o){var a=e._engine.image(this,t||"about:blank",n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},b.text=function(t,n,r){var i=e._engine.text(this,t||0,n||0,F(r));return this.__set__&&this.__set__.push(i),i},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new le(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},b.setViewBox=function(t,n,r,i,o){return e._engine.setViewBox.call(this,t,n,r,i,o)},b.top=b.bottom=null,b.raphael=e;var Zt=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=e.top+(T.win.pageYOffset||i.scrollTop||r.scrollTop)-o,u=e.left+(T.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:u}};b.getElementByPoint=function(t,e){var n=this,r=n.canvas,i=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==i.tagName){var o=Zt(r),a=r.createSVGRect();a.x=t-o.x,a.y=e-o.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},b.getElementsByBBox=function(t){var n=this.set();return this.forEach(function(r){e.isBBoxIntersect(r.getBBox(),t)&&n.push(r)}),n},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var n=this.bottom;n;){if(t.call(e,n)===!1)return this;n=n.next}return this},b.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},Yt.isPointInside=function(t,n){var r=this.realPath=dt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=e.transformPath(r,this.attr("transform"))),e.isPointInsidePath(r,t,n)},Yt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=dt[this.type](this),e.bboxwt=Tt(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=dt[this.type](this)),e.bbox=Tt(vt(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Yt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Yt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),o=this.realPath||dt[this.type](this);o=this.matrix?vt(o,this.matrix):o;for(var a=1;a<n+1;a++)i.push(r.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*a).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Jt=function(t,n,r,i,o,a,s,c,h){return null==h?u(t,n,r,i,o,a,s,c):e.findDotsAtSegment(t,n,r,i,o,a,s,c,l(t,n,r,i,o,a,s,c,h))},te=function(t,n){return function(r,i,o){r=Mt(r);for(var a,s,u,l,c,h="",f={},p=0,d=0,v=r.length;d<v;d++){if(u=r[d],"M"==u[0])a=+u[1],s=+u[2];else{if(l=Jt(a,s,u[1],u[2],u[3],u[4],u[5],u[6]),p+l>i){if(n&&!f.start){if(c=Jt(a,s,u[1],u[2],u[3],u[4],u[5],u[6],i-p),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return h;f.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,u[5],u[6]].join(),p+=l,a=+u[5],s=+u[6];continue}if(!t&&!n)return c=Jt(a,s,u[1],u[2],u[3],u[4],u[5],u[6],i-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=l,a=+u[5],s=+u[6]}h+=u.shift()+u}return f.end=h,c=t?p:n?f:e.findDotsAtSegment(a,s,u[0],u[1],u[2],u[3],u[4],u[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},ee=te(1),ne=te(),re=te(0,1);e.getTotalLength=ee,e.getPointAtLength=ne,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return re(t,e).end;var r=re(t,n,1);return e?re(r,e).end:r},Yt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():ee(t)},Yt.getPointAtLength=function(t){var e=this.getPath();if(e)return ne(e,t)},Yt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Yt.getSubpath=function(t,n){var r=this.getPath();if(r)return e.getSubpath(r,t,n)};var ie=e.easing_formulas={linear:function(t){return t},"<":function(t){return V(t,1.7)},">":function(t){return V(t,.48)},"<>":function(t){var e=.48-t/1.04,n=N.sqrt(.1734+e*e),r=n-e,i=V(U(r),1/3)*(r<0?-1:1),o=-n-e,a=V(U(o),1/3)*(o<0?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:V(2,-10*t)*N.sin((t-.075)*(2*q)/.3)+1},bounce:function(t){var e,n=7.5625,r=2.75;return t<1/r?e=n*t*t:t<2/r?(t-=1.5/r,e=n*t*t+.75):t<2.5/r?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e}};ie.easeIn=ie["ease-in"]=ie["<"],ie.easeOut=ie["ease-out"]=ie[">"],ie.easeInOut=ie["ease-in-out"]=ie["<>"],ie["back-in"]=ie.backIn,ie["back-out"]=ie.backOut;var oe=[],ae=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},se=function(){for(var n=+new Date,r=0;r<oe.length;r++){var i=oe[r];if(!i.el.removed&&!i.paused){var o,a,s=n-i.start,u=i.ms,l=i.easing,c=i.from,h=i.diff,f=i.to,p=(i.t,i.el),d={},v={};if(i.initstatus?(s=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*u,i.status=i.initstatus,delete i.initstatus,i.stop&&oe.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(s/u))/i.anim.top,!(s<0))if(s<u){var g=l(s/u);for(var m in c)if(c[C](m)){switch(nt[m]){case H:o=+c[m]+g*u*h[m];break;case"colour":o="rgb("+[ue(K(c[m].r+g*u*h[m].r)),ue(K(c[m].g+g*u*h[m].g)),ue(K(c[m].b+g*u*h[m].b))].join(",")+")";break;case"path":o=[];for(var _=0,b=c[m].length;_<b;_++){o[_]=[c[m][_][0]];for(var x=1,w=c[m][_].length;x<w;x++)o[_][x]=+c[m][_][x]+g*u*h[m][_][x];o[_]=o[_].join(O)}o=o.join(O);break;case"transform":if(h[m].real)for(o=[],_=0,b=c[m].length;_<b;_++)for(o[_]=[c[m][_][0]],x=1,w=c[m][_].length;x<w;x++)o[_][x]=c[m][_][x]+g*u*h[m][_][x];else{var k=function(t){return+c[m][t]+g*u*h[m][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==m)for(o=[],_=4;_--;)o[_]=+c[m][_]+g*u*h[m][_];break;default:var T=[][S](c[m]);for(o=[],_=p.paper.customAttributes[m].length;_--;)o[_]=+T[_]+g*u*h[m][_]}d[m]=o}p.attr(d),function(e,n,r){setTimeout(function(){t("raphael.anim.frame."+e,n,r)})}(p.id,p,i.anim)}else{if(function(n,r,i){setTimeout(function(){t("raphael.anim.frame."+r.id,r,i),t("raphael.anim.finish."+r.id,r,i),e.is(n,"function")&&n.call(r)})}(i.callback,p,i.anim),p.attr(f),oe.splice(r--,1),i.repeat>1&&!i.next){for(a in f)f[C](a)&&(v[a]=i.totalOrigin[a]);i.el.attr(v),y(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&y(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}oe.length&&ae(se)},ue=function(t){return t>255?255:t<0?0:t};Yt.animateWith=function(t,n,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var u=r instanceof g?r:e.animation(r,i,o,a);y(u,s,u.percents[0],null,s.attr());for(var l=0,c=oe.length;l<c;l++)if(oe[l].anim==n&&oe[l].el==t){oe[c-1].start=oe[l].start;break}return s},Yt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=N.floor(D(t,0))||1,e},e.animation=function(t,n,r,i){if(t instanceof g)return t;!e.is(r,"function")&&r||(i=i||r||null,r=null),t=Object(t),n=+n||0;var o,a,s={};for(a in t)t[C](a)&&Z(a)!=a&&Z(a)+"%"!=a&&(o=!0,s[a]=t[a]);if(o)return r&&(s.easing=r),i&&(s.callback=i),new g({100:s},n);if(i){var u=0;for(var l in t){var c=J(l);t[C](l)&&c>u&&(u=c)}u+="%",!t[u].callback&&(t[u].callback=i)}return new g(t,n)},Yt.animate=function(t,n,r,i){var o=this;if(o.removed)return i&&i.call(o),o;var a=t instanceof g?t:e.animation(t,n,r,i);return y(a,o,a.percents[0],null,o.attr()),o},Yt.setTime=function(t,e){return t&&null!=e&&this.status(t,z(e,t.ms)/t.ms),this},Yt.status=function(t,e){var n,r,i=[],o=0;if(null!=e)return y(t,this,-1,z(e,1)),this;for(n=oe.length;o<n;o++)if(r=oe[o],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},Yt.pause=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||t("raphael.anim.pause."+this.id,this,oe[n].anim)!==!1&&(oe[n].paused=!0);return this},Yt.resume=function(e){for(var n=0;n<oe.length;n++)if(oe[n].el.id==this.id&&(!e||oe[n].anim==e)){var r=oe[n];t("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status))}return this},Yt.stop=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||t("raphael.anim.stop."+this.id,this,oe[n].anim)!==!1&&oe.splice(n--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Yt.toString=function(){return"Raphaël’s object"};var le=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Yt.constructor&&t[e].constructor!=le||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ce=le.prototype;ce.push=function(){for(var t,e,n=0,r=arguments.length;n<r;n++)t=arguments[n],!t||t.constructor!=Yt.constructor&&t.constructor!=le||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ce.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ce.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};for(var he in Yt)Yt[C](he)&&(ce[he]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][A](n,e)})}}(he));return ce.attr=function(t,n){if(t&&e.is(t,$)&&e.is(t[0],"object"))for(var r=0,i=t.length;r<i;r++)this.items[r].attr(t[r]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(t,n);return this},ce.clear=function(){for(;this.length;)this.pop()},ce.splice=function(t,e,n){t=t<0?D(this.length+t,0):t,e=D(0,z(this.length-t,e));var r,i=[],o=[],a=[];for(r=2;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<e;r++)o.push(this[t+r]);for(;r<this.length-t;r++)i.push(this[t+r]);var s=a.length;for(r=0;r<s+i.length;r++)this.items[t+r]=this[t+r]=r<s?a[r]:i[r-s];for(r=this.items.length=this.length-=e-s;this[r];)delete this[r++];return new le(o)},ce.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},ce.animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var o,a,s=this.items.length,u=s,l=this;if(!s)return this;i&&(a=function(){!--s&&i.call(l)}),r=e.is(r,W)?r:a;var c=e.animation(t,n,r,a);for(o=this.items[--u].animate(c);u--;)this.items[u]&&!this.items[u].removed&&this.items[u].animateWith(o,c,c),this.items[u]&&!this.items[u].removed||s--;return this},ce.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ce.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return t=z[A](0,t),e=z[A](0,e),n=D[A](0,n),r=D[A](0,r),{x:t,y:e,x2:n,y2:r,width:n-t,height:r-e}},ce.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},ce.toString=function(){return"Raphaël‘s set"},ce.glow=function(t){var e=this.paper.set();return this.forEach(function(n,r){var i=n.glow(t);null!=i&&i.forEach(function(t,n){e.push(t)})}),e},ce.isPointInside=function(t,e){var n=!1;return this.forEach(function(r){if(r.isPointInside(t,e))return n=!0,!1}),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[C](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=J(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[C](i)){var o=t.glyphs[i];if(e.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[C](a)&&(e.glyphs[i].k[a]=o.k[a])}}return t},b.getFont=function(t,n,r,i){if(i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o=e.fonts[t];if(!o){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,P)+"(\\s|$)","i");for(var s in e.fonts)if(e.fonts[C](s)&&a.test(s)){o=e.fonts[s];break}}var u;if(o)for(var l=0,c=o.length;l<c&&(u=o[l],u.face["font-weight"]!=n||u.face["font-style"]!=r&&u.face["font-style"]||u.face["font-stretch"]!=i);l++);return u}},b.print=function(t,n,r,i,o,a,s,u){a=a||"middle",s=D(z(s||0,1),-1),u=D(z(u||1,3),1);var l,c=F(r)[M](P),h=0,f=0,p=P;if(e.is(i,"string")&&(i=this.getFont(i)),i){l=(o||16)/i.face["units-per-em"];for(var d=i.face.bbox[M](x),v=+d[0],g=d[3]-d[1],y=0,m=+d[1]+("baseline"==a?g+ +i.face.descent:g/2),_=0,b=c.length;_<b;_++){if("\n"==c[_])h=0,k=0,f=0,y+=g*u;else{var w=f&&i.glyphs[c[_-1]]||{},k=i.glyphs[c[_]];h+=f?(w.w||i.w)+(w.k&&w.k[c[_]]||0)+i.w*s:0,f=1}k&&k.d&&(p+=e.transformPath(k.d,["t",h*l,y*l,"s",l,l,v,m,"t",(t-v)/l,(n-m)/l]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var n,r=this.set(),i=0,o=t.length;i<o;i++)n=t[i]||{},w[C](n.type)&&r.push(this[n.type]().attr(n));return r},e.format=function(t,n){var r=e.is(n,$)?[0][S](n):arguments;return t&&e.is(t,W)&&r.length-1&&(t=t.replace(k,function(t,e){return null==r[++e]?P:r[e]})),t||P},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return String(e).replace(t,function(t,e){return n(t,e,r)})}}(),e.ninja=function(){if(j.was)T.win.Raphael=j.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=ce,t.on("raphael.DOMload",function(){_=!0}),function(t,n,r){function i(){/in/.test(t.readyState)?setTimeout(i,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(n,r=function(){t.removeEventListener(n,r,!1),t.readyState="complete"},!1),t.readyState="loading"),i()}(document,"DOMContentLoaded"),e}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;!function(n){var o,a,s="0.5.0",u="hasOwnProperty",l=/[\.\/]/,c=/\s*,\s*/,h="*",f=function(t,e){return t-e},p={n:{}},d=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},v=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},g=Object.prototype.toString,y=String,m=Array.isArray||function(t){return t instanceof Array||"[object Array]"==g.call(t)};eve=function(t,e){var n,r=a,i=Array.prototype.slice.call(arguments,2),s=eve.listeners(t),u=0,l=[],c={},h=[],p=o;h.firstDefined=d,h.lastDefined=v,o=t,a=0;for(var g=0,y=s.length;g<y;g++)"zIndex"in s[g]&&(l.push(s[g].zIndex),s[g].zIndex<0&&(c[s[g].zIndex]=s[g]));for(l.sort(f);l[u]<0;)if(n=c[l[u++]],h.push(n.apply(e,i)),a)return a=r,h;for(g=0;g<y;g++)if(n=s[g],"zIndex"in n)if(n.zIndex==l[u]){if(h.push(n.apply(e,i)),a)break;do if(u++,n=c[l[u]],n&&h.push(n.apply(e,i)),a)break;while(n)}else c[n.zIndex]=n;else if(h.push(n.apply(e,i)),a)break;return a=r,o=p,h},eve._events=p,eve.listeners=function(t){var e,n,r,i,o,a,s,u,c=m(t)?t:t.split(l),f=p,d=[f],v=[];for(i=0,o=c.length;i<o;i++){for(u=[],a=0,s=d.length;a<s;a++)for(f=d[a].n,n=[f[c[i]],f[h]],r=2;r--;)e=n[r],e&&(u.push(e),v=v.concat(e.f||[]));d=u}return v},eve.separator=function(t){t?(t=y(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",l=new RegExp(t)):l=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=m(t)?m(t[0])?t:[t]:y(t).split(c),r=0,i=n.length;r<i;r++)!function(t){for(var n,r=m(t)?t:y(t).split(l),i=p,o=0,a=r.length;o<a;o++)i=i.n,i=i.hasOwnProperty(r[o])&&i[r[o]]||(i[r[o]]={n:{}});for(i.f=i.f||[],o=0,a=i.f.length;o<a;o++)if(i.f[o]==e){n=!0;break}!n&&i.f.push(e)}(n[r]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){a=1},eve.nt=function(t){var e=m(o)?o.join("."):o;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return m(o)?o:o.split(l)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=p={n:{}});var n=m(t)?m(t[0])?t:[t]:y(t).split(c);if(n.length>1)for(var r=0,i=n.length;r<i;r++)eve.off(n[r],e);else{n=m(t)?t:y(t).split(l);var o,a,s,r,i,f,d,v=[p];for(r=0,i=n.length;r<i;r++)for(f=0;f<v.length;f+=s.length-2){if(s=[f,1],o=v[f].n,n[r]!=h)o[n[r]]&&s.push(o[n[r]]);else for(a in o)o[u](a)&&s.push(o[a]);v.splice.apply(v,s)}for(r=0,i=v.length;r<i;r++)for(o=v[r];o.n;){if(e){if(o.f){for(f=0,d=o.f.length;f<d;f++)if(o.f[f]==e){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(a in o.n)if(o.n[u](a)&&o.n[a].f){var g=o.n[a].f;for(f=0,d=g.length;f<d;f++)if(g[f]==e){g.splice(f,1);break}!g.length&&delete o.n[a].f}}else{delete o.f;for(a in o.n)o.n[u](a)&&o.n[a].f&&delete o.n[a].f}o=o.n}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version=s,eve.toString=function(){return"You are running Eve "+s},"undefined"!=typeof t&&t.exports?t.exports=eve:(r=[],i=function(){return eve}.apply(e,r),!(void 0!==i&&(t.exports=i)))}(this)},function(t,e,n){var r,i;r=[n(1)],i=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,u=o.pow,l=/[, ]+/,c=t.eve,h="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},v={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(r,i){if(i){"string"==typeof r&&(r=g(r));for(var o in i)i[e](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(p,o.substring(6),n(i[o])):r.setAttribute(o,n(i[o])))}else r=t._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},y=function(e,i){var l="linear",c=e.id+i,f=.5,p=.5,d=e.node,v=e.paper,y=d.style,m=t._g.doc.getElementById(c);if(!m){if(i=n(i).replace(t._radial_gradient,function(t,e,n){if(l="radial",e&&n){f=r(e),p=r(n);var i=2*(p>.5)-1;u(f-.5,2)+u(p-.5,2)>.25&&(p=o.sqrt(.25-u(f-.5,2))*i+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*i)}return h}),i=i.split(/\s*\-\s*/),"linear"==l){var b=i.shift();if(b=-r(b),isNaN(b))return null;var x=[0,0,o.cos(t.rad(b)),o.sin(t.rad(b))],w=1/(a(s(x[2]),s(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var k=t._parseDots(i);if(!k)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(v.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){m=g(l+"Gradient",{id:c}),e.gradient=m,g(m,"radial"==l?{fx:f,fy:p}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),v.defs.appendChild(m);for(var C=0,T=k.length;C<T;C++)m.appendChild(g("stop",{offset:k[C].offset?k[C].offset:C?"100%":"0%","stop-color":k[C].color||"#fff","stop-opacity":isFinite(k[C].opacity)?k[C].opacity:1}))}}return g(d,{fill:_(c),opacity:1,"fill-opacity":1}),y.fill=h,y.opacity=1,y.fillOpacity=1,1},m=function(){var t=document.documentMode;return t&&(9===t||10===t)},_=function(t){if(m())return"url('#"+t+"')";var e=document.location,n=e.protocol+"//"+e.host+e.pathname+e.search;return"url('"+n+"#"+t+"')"},b=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(r,i,o){if("path"==r.type){for(var a,s,u,l,c,f=n(i).toLowerCase().split("-"),p=r.paper,y=o?"end":"start",m=r.node,_=r.attrs,b=_["stroke-width"],x=f.length,w="classic",k=3,C=3,T=5;x--;)switch(f[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[x];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,T+=2,u=1,l=o?4:1,c={fill:"none",stroke:_.stroke}):(l=u=k/2,c={fill:_.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&v[r._.arrows.endPath]--,r._.arrows.endMarker&&v[r._.arrows.endMarker]--):(r._.arrows.startPath&&v[r._.arrows.startPath]--,r._.arrows.startMarker&&v[r._.arrows.startMarker]--):r._.arrows={},"none"!=w){var j="raphael-marker-"+w,E="raphael-marker-"+y+w+k+C+"-obj"+r.id;t._g.doc.getElementById(j)?v[j]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:d[w],id:j})),v[j]=1);var A,S=t._g.doc.getElementById(E);S?(v[E]++,A=S.getElementsByTagName("use")[0]):(S=g(g("marker"),{id:E,markerHeight:C,markerWidth:k,orient:"auto",refX:l,refY:C/2}),A=g(g("use"),{"xlink:href":"#"+j,transform:(o?"rotate(180 "+k/2+" "+C/2+") ":h)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),S.appendChild(A),p.defs.appendChild(S),v[E]=1),g(A,c);var B=u*("diamond"!=w&&"oval"!=w);o?(a=r._.arrows.startdx*b||0,s=t.getTotalLength(_.path)-B*b):(a=B*b,s=t.getTotalLength(_.path)-(r._.arrows.enddx*b||0)),c={},c["marker-"+y]="url(#"+E+")",(s||a)&&(c.d=t.getSubpath(_.path,a,s)),g(m,c),r._.arrows[y+"Path"]=j,r._.arrows[y+"Marker"]=E,r._.arrows[y+"dx"]=B,r._.arrows[y+"Type"]=w,r._.arrows[y+"String"]=i}else o?(a=r._.arrows.startdx*b||0,s=t.getTotalLength(_.path)-a):(a=0,s=t.getTotalLength(_.path)-(r._.arrows.enddx*b||0)),r._.arrows[y+"Path"]&&g(m,{d:t.getSubpath(_.path,a,s)}),delete r._.arrows[y+"Path"],delete r._.arrows[y+"Marker"],delete r._.arrows[y+"dx"],delete r._.arrows[y+"Type"],delete r._.arrows[y+"String"];for(c in v)if(v[e](c)&&!v[c]){var P=t._g.doc.getElementById(c);P&&P.parentNode.removeChild(P)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},k=function(t,e,r){if(e=w[n(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*i+(s%2?1:-1)*o;g(t.node,{"stroke-dasharray":a.join(",")})}else g(t.node,{"stroke-dasharray":"none"})},C=function(r,o){var u=r.node,c=r.attrs,f=u.style.visibility;u.style.visibility="hidden";for(var d in o)if(o[e](d)){if(!t._availableAttrs[e](d))continue;var v=o[d];switch(c[d]=v,d){case"blur":r.blur(v);break;case"title":var m=u.getElementsByTagName("title");if(m.length&&(m=m[0]))m.firstChild.nodeValue=v;else{m=g("title");var _=t._g.doc.createTextNode(v);m.appendChild(_),u.appendChild(m)}break;case"href":case"target":var w=u.parentNode;if("a"!=w.tagName.toLowerCase()){var C=g("a");w.insertBefore(C,u),C.appendChild(u),w=C}"target"==d?w.setAttributeNS(p,"show","blank"==v?"new":v):w.setAttributeNS(p,d,v);break;case"cursor":u.style.cursor=v;break;case"transform":r.transform(v);break;case"arrow-start":x(r,v);break;case"arrow-end":x(r,v,1);break;case"clip-rect":var T=n(v).split(l);if(4==T.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var E=g("clipPath"),A=g("rect");E.id=t.createUUID(),g(A,{x:T[0],y:T[1],width:T[2],height:T[3]}),E.appendChild(A),r.paper.defs.appendChild(E),g(u,{"clip-path":"url(#"+E.id+")"}),r.clip=A}if(!v){var S=u.getAttribute("clip-path");if(S){var B=t._g.doc.getElementById(S.replace(/(^url\(#|\)$)/g,h));B&&B.parentNode.removeChild(B),g(u,{"clip-path":h}),delete r.clip}}break;case"path":"path"==r.type&&(g(u,{d:v?c.path=t._pathToAbsolute(v):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1)));break;case"width":if(u.setAttribute(d,v),r._.dirty=1,!c.fx)break;d="x",v=c.x;case"x":c.fx&&(v=-c.x-(c.width||0));case"rx":if("rx"==d&&"rect"==r.type)break;case"cx":u.setAttribute(d,v),r.pattern&&b(r),r._.dirty=1;break;case"height":if(u.setAttribute(d,v),r._.dirty=1,!c.fy)break;d="y",v=c.y;case"y":c.fy&&(v=-c.y-(c.height||0));case"ry":if("ry"==d&&"rect"==r.type)break;case"cy":u.setAttribute(d,v),r.pattern&&b(r),r._.dirty=1;break;case"r":"rect"==r.type?g(u,{rx:v,ry:v}):u.setAttribute(d,v),r._.dirty=1;break;case"src":"image"==r.type&&u.setAttributeNS(p,"href",v);break;case"stroke-width":1==r._.sx&&1==r._.sy||(v/=a(s(r._.sx),s(r._.sy))||1),u.setAttribute(d,v),c["stroke-dasharray"]&&k(r,c["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"stroke-dasharray":k(r,v,o);break;case"fill":var P=n(v).match(t._ISURL);if(P){E=g("pattern");var O=g("image");E.id=t.createUUID(),g(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(O,{x:0,y:0,"xlink:href":P[1]}),E.appendChild(O),function(e){t._preload(P[1],function(){var t=this.offsetWidth,n=this.offsetHeight;g(e,{width:t,height:n}),g(O,{width:t,height:n})})}(E),r.paper.defs.appendChild(E),g(u,{fill:"url(#"+E.id+")"}),r.pattern=E,r.pattern&&b(r);break}var F=t.getRGB(v);if(F.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(v).charAt())&&y(r,v)){if("opacity"in c||"fill-opacity"in c){var M=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(M){var R=M.getElementsByTagName("stop");g(R[R.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=v,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&g(u,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&g(u,{"fill-opacity":c["fill-opacity"]});F[e]("opacity")&&g(u,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=t.getRGB(v),u.setAttribute(d,F.hex),"stroke"==d&&F[e]("opacity")&&g(u,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==d&&r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(v).charAt())&&y(r,v);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&g(u,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(c.gradient){M=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,h)),M&&(R=M.getElementsByTagName("stop"),g(R[R.length-1],{"stop-opacity":v}));break}default:"font-size"==d&&(v=i(v,10)+"px");var L=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});u.style[L]=v,r._.dirty=1,u.setAttribute(d,v)}}j(r,o),u.style.visibility=f},T=1.2,j=function(r,o){if("text"==r.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var a=r.attrs,s=r.node,u=s.firstChild?i(t._g.doc.defaultView.getComputedStyle(s.firstChild,h).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);
for(var l,c=n(o.text).split("\n"),f=[],p=0,d=c.length;p<d;p++)l=g("tspan"),p&&g(l,{dy:u*T,x:a.x}),l.appendChild(t._g.doc.createTextNode(c[p])),s.appendChild(l),f[p]=l}else for(f=s.getElementsByTagName("tspan"),p=0,d=f.length;p<d;p++)p?g(f[p],{dy:u*T,x:a.x}):g(f[0],{dy:0});g(s,{x:a.x,y:a.y}),r._.dirty=1;var v=r._getBBox(),y=a.y-(v.y+v.height/2);y&&t.is(y,"finite")&&g(f[0],{dy:y})}},E=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},A=function(e,n){function r(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}this[0]=this.node=e,e.raphael=!0,this.id=r(),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},S=t.el;A.prototype=S,S.constructor=A,t._engine.path=function(t,e){var n=g("path");e.canvas&&e.canvas.appendChild(n);var r=new A(n,e);return r.type="path",C(r,{fill:"none",stroke:"#000",path:t}),r},S.rotate=function(t,e,i){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var o=this.getBBox(1);e=o.x+o.width/2,i=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},S.scale=function(t,e,i,o){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=r(t[1]),i=r(t[2]),o=r(t[3])),t=r(t[0]),null==e&&(e=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,i,o]])),this},S.translate=function(t,e){return this.removed?this:(t=n(t).split(l),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},S.transform=function(n){var r=this._;if(null==n)return r.transform;if(t._extractTransform(this,n),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},S.hide=function(){return this.removed||(this.node.style.display="none"),this},S.show=function(){return this.removed||(this.node.style.display=""),this},S.remove=function(){var e=E(this.node);if(!this.removed&&e.parentNode){var n=this.paper;n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData();for(var r in this)this[r]="function"==typeof this[r]?t._removedFactory(r):null;this.removed=!0}},S._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var r={};try{r=this.node.getBBox()}catch(t){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(e.display="none")}return t&&this.hide(),r},S.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(l),s={},u=0,h=a.length;u<h;u++)n=a[u],n in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return h-1?s:s[a[0]]}if(null==r&&t.is(n,"array")){for(s={},u=0,h=n.length;u<h;u++)s[n[u]]=this.attr(n[u]);return s}if(null!=r){var f={};f[n]=r}else null!=n&&t.is(n,"object")&&(f=n);for(var p in f)c("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var v in d)d[e](v)&&(f[v]=d[v])}return C(this,f),this},S.toFront=function(){if(this.removed)return this;var e=E(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},S.toBack=function(){if(this.removed)return this;var e=E(this.node),n=e.parentNode;n.insertBefore(e,n.firstChild),t._toback(this,this.paper);this.paper;return this},S.insertAfter=function(e){if(this.removed||!e)return this;var n=E(this.node),r=E(e.node||e[e.length-1].node);return r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},S.insertBefore=function(e){if(this.removed||!e)return this;var n=E(this.node),r=E(e.node||e[0].node);return r.parentNode.insertBefore(n,r),t._insertbefore(this,e,this.paper),this},S.blur=function(e){var n=this;if(0!==+e){var r=g("filter"),i=g("feGaussianBlur");n.attrs.blur=e,r.id=t.createUUID(),g(i,{stdDeviation:+e||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,g(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,r){var i=g("circle");t.canvas&&t.canvas.appendChild(i);var o=new A(i,t);return o.attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},o.type="circle",g(i,o.attrs),o},t._engine.rect=function(t,e,n,r,i,o){var a=g("rect");t.canvas&&t.canvas.appendChild(a);var s=new A(a,t);return s.attrs={x:e,y:n,width:r,height:i,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",g(a,s.attrs),s},t._engine.ellipse=function(t,e,n,r,i){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var a=new A(o,t);return a.attrs={cx:e,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",g(o,a.attrs),a},t._engine.image=function(t,e,n,r,i,o){var a=g("image");g(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(a);var s=new A(a,t);return s.attrs={x:n,y:r,width:i,height:o,src:e},s.type="image",s},t._engine.text=function(e,n,r,i){var o=g("text");e.canvas&&e.canvas.appendChild(o);var a=new A(o,e);return a.attrs={x:n,y:r,"text-anchor":"middle",text:i,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",C(a,a.attrs),a},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,r=e.x,i=e.y,o=e.width,a=e.height;if(!n)throw new Error("SVG container not found.");var s,u=g("svg"),l="overflow:hidden;";return r=r||0,i=i||0,o=o||512,a=a||342,g(u,{height:a,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(u.style.cssText=l+"position:absolute;left:"+r+"px;top:"+i+"px",t._g.doc.body.appendChild(u),s=1):(u.style.cssText=l+"position:relative",n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)),n=new t._Paper,n.width=o,n.height=a,n.canvas=u,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,r,i){c("raphael.setViewBox",this,this._viewBox,[t,e,n,r,i]);var o,s,u=this.getSize(),l=a(n/u.width,r/u.height),h=this.top,p=i?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=l,o=t+f+e+f+n+f+r),g(this.canvas,{viewBox:o,preserveAspectRatio:p});l&&h;)s="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":s}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,r,!!i],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,i=-t.f%1;(r||i)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),i&&(this._top=(this._top+i)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var B=t.st;for(var P in S)S[e](P)&&!B[e](P)&&(B[P]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(P))}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(1)],i=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,r=parseFloat,i=Math,o=i.round,a=i.max,s=i.min,u=i.abs,l="fill",c=/[, ]+/,h=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,y=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,_="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,x={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var r=/[ahqstv]/gi,i=t._pathToAbsolute;if(n(e).match(r)&&(i=t._path2curve),r=/[clmz]/g,i==t._pathToAbsolute&&!n(e).match(r)){var a=n(e).replace(g,function(t,e,n){var r=[],i="m"==e.toLowerCase(),a=v[e];return n.replace(m,function(t){i&&2==r.length&&(a+=r+v["m"==e?"l":"L"],r=[]),r.push(o(t*b))}),a+r});return a}var s,u,l=i(e);a=[];for(var c=0,h=l.length;c<h;c++){s=l[c],u=l[c][0].toLowerCase(),"z"==u&&(u="x");for(var f=1,y=s.length;f<y;f++)u+=o(s[f]*b)+(f!=y-1?",":d);a.push(u)}return a.join(p)},C=function(e,n,r){var i=t.matrix();return i.rotate(-e,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},T=function(t,e,n,r,i,o){var a=t._,s=t.matrix,c=a.fillpos,h=t.node,f=h.style,d=1,v="",g=b/e,y=b/n;if(f.visibility="hidden",e&&n){if(h.coordsize=u(g)+p+u(y),f.rotation=o*(e*n<0?-1:1),o){var m=C(o,r,i);r=m.dx,i=m.dy}if(e<0&&(v+="x"),n<0&&(v+=" y")&&(d=-1),f.flip=v,h.coordorigin=r*-g+p+i*-y,c||a.fillsize){var _=h.getElementsByTagName(l);_=_&&_[0],h.removeChild(_),c&&(m=C(o,s.x(c[0],c[1]),s.y(c[0],c[1])),_.position=m.dx*d+p+m.dy*d),a.fillsize&&(_.size=a.fillsize[0]*u(e)+p+a.fillsize[1]*u(n)),h.appendChild(_)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var j=function(t,e,r){for(var i=n(e).toLowerCase().split("-"),o=r?"end":"start",a=i.length,s="classic",u="medium",l="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":l=i[a];break;case"long":case"short":u=i[a]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=s,c[o+"arrowlength"]=u,c[o+"arrowwidth"]=l},E=function(i,u){i.attrs=i.attrs||{};var h=i.node,f=i.attrs,v=h.style,g=x[i.type]&&(u.x!=f.x||u.y!=f.y||u.width!=f.width||u.height!=f.height||u.cx!=f.cx||u.cy!=f.cy||u.rx!=f.rx||u.ry!=f.ry||u.r!=f.r),y=w[i.type]&&(f.cx!=u.cx||f.cy!=u.cy||f.r!=u.r||f.rx!=u.rx||f.ry!=u.ry),m=i;for(var _ in u)u[e](_)&&(f[_]=u[_]);if(g&&(f.path=t._getPath[i.type](i),i._.dirty=1),u.href&&(h.href=u.href),u.title&&(h.title=u.title),u.target&&(h.target=u.target),u.cursor&&(v.cursor=u.cursor),"blur"in u&&i.blur(u.blur),(u.path&&"path"==i.type||g)&&(h.path=k(~n(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[f.x,f.y],i._.fillsize=[f.width,f.height],T(i,1,1,0,0,0))),"transform"in u&&i.transform(u.transform),y){var C=+f.cx,E=+f.cy,S=+f.rx||+f.r||0,B=+f.ry||+f.r||0;h.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((C-S)*b),o((E-B)*b),o((C+S)*b),o((E+B)*b),o(C*b)),i._.dirty=1}if("clip-rect"in u){var O=n(u["clip-rect"]).split(c);if(4==O.length){O[2]=+O[2]+ +O[0],O[3]=+O[3]+ +O[1];var F=h.clipRect||t._g.doc.createElement("div"),M=F.style;M.clip=t.format("rect({1}px {2}px {3}px {0}px)",O),h.clipRect||(M.position="absolute",M.top=0,M.left=0,M.width=i.paper.width+"px",M.height=i.paper.height+"px",h.parentNode.insertBefore(F,h),F.appendChild(h),h.clipRect=F)}u["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(i.textpath){var R=i.textpath.style;u.font&&(R.font=u.font),u["font-family"]&&(R.fontFamily='"'+u["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),u["font-size"]&&(R.fontSize=u["font-size"]),u["font-weight"]&&(R.fontWeight=u["font-weight"]),u["font-style"]&&(R.fontStyle=u["font-style"])}if("arrow-start"in u&&j(m,u["arrow-start"]),"arrow-end"in u&&j(m,u["arrow-end"],1),null!=u.opacity||null!=u.fill||null!=u.src||null!=u.stroke||null!=u["stroke-width"]||null!=u["stroke-opacity"]||null!=u["fill-opacity"]||null!=u["stroke-dasharray"]||null!=u["stroke-miterlimit"]||null!=u["stroke-linejoin"]||null!=u["stroke-linecap"]){var L=h.getElementsByTagName(l),I=!1;if(L=L&&L[0],!L&&(I=L=P(l)),"image"==i.type&&u.src&&(L.src=u.src),u.fill&&(L.on=!0),null!=L.on&&"none"!=u.fill&&null!==u.fill||(L.on=!1),L.on&&u.fill){var N=n(u.fill).match(t._ISURL);if(N){L.parentNode==h&&h.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var D=i.getBBox(1);L.position=D.x+p+D.y,i._.fillpos=[D.x,D.y],t._preload(N[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=t.getRGB(u.fill).hex,L.src=d,L.type="solid",t.getRGB(u.fill).error&&(m.type in{circle:1,ellipse:1}||"r"!=n(u.fill).charAt())&&A(m,u.fill,L)&&(f.fill="none",f.gradient=u.fill,L.rotate=!1)}if("fill-opacity"in u||"opacity"in u){var z=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(u.fill).o+1||2)-1);z=s(a(z,0),1),L.opacity=z,L.src&&(L.color="none")}h.appendChild(L);var U=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],V=!1;!U&&(V=U=P("stroke")),(u.stroke&&"none"!=u.stroke||u["stroke-width"]||null!=u["stroke-opacity"]||u["stroke-dasharray"]||u["stroke-miterlimit"]||u["stroke-linejoin"]||u["stroke-linecap"])&&(U.on=!0),("none"==u.stroke||null===u.stroke||null==U.on||0==u.stroke||0==u["stroke-width"])&&(U.on=!1);var q=t.getRGB(u.stroke);U.on&&u.stroke&&(U.color=q.hex),z=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+q.o+1||2)-1);var H=.75*(r(u["stroke-width"])||1);if(z=s(a(z,0),1),null==u["stroke-width"]&&(H=f["stroke-width"]),u["stroke-width"]&&(U.weight=H),H&&H<1&&(z*=H)&&(U.weight=1),U.opacity=z,u["stroke-linejoin"]&&(U.joinstyle=u["stroke-linejoin"]||"miter"),U.miterlimit=u["stroke-miterlimit"]||8,u["stroke-linecap"]&&(U.endcap="butt"==u["stroke-linecap"]?"flat":"square"==u["stroke-linecap"]?"square":"round"),"stroke-dasharray"in u){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};U.dashstyle=W[e](u["stroke-dasharray"])?W[u["stroke-dasharray"]]:d}V&&h.appendChild(U)}if("text"==m.type){m.paper.canvas.style.display=d;var $=m.paper.span,G=100,X=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);v=$.style,f.font&&(v.font=f.font),f["font-family"]&&(v.fontFamily=f["font-family"]),f["font-weight"]&&(v.fontWeight=f["font-weight"]),f["font-style"]&&(v.fontStyle=f["font-style"]),X=r(f["font-size"]||X&&X[0])||10,v.fontSize=X*G+"px",m.textpath.string&&($.innerHTML=n(m.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=$.getBoundingClientRect();m.W=f.w=(Y.right-Y.left)/G,m.H=f.h=(Y.bottom-Y.top)/G,m.X=f.x,m.Y=f.y+m.H/2,("x"in u||"y"in u)&&(m.path.v=t.format("m{0},{1}l{2},{1}",o(f.x*b),o(f.y*b),o(f.x*b)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Z=Q.length;K<Z;K++)if(Q[K]in u){m._.dirty=1;break}switch(f["text-anchor"]){case"start":m.textpath.style["v-text-align"]="left",m.bbx=m.W/2;break;case"end":m.textpath.style["v-text-align"]="right",m.bbx=-m.W/2;break;default:m.textpath.style["v-text-align"]="center",m.bbx=0}m.textpath.style["v-text-kern"]=!0}},A=function(e,o,a){e.attrs=e.attrs||{};var s=(e.attrs,Math.pow),u="linear",l=".5 .5";if(e.attrs.gradient=o,o=n(o).replace(t._radial_gradient,function(t,e,n){return u="radial",e&&n&&(e=r(e),n=r(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),l=e+p+n),d}),o=o.split(/\s*\-\s*/),"linear"==u){var c=o.shift();if(c=-r(c),isNaN(c))return null}var h=t._parseDots(o);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(a),a.on=!0,a.method="none",a.color=h[0].color,a.color2=h[h.length-1].color;for(var f=[],v=0,g=h.length;v<g;v++)h[v].offset&&f.push(h[v].offset+p+h[v].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==u?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=l,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),e.appendChild(a)}return 1},S=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},B=t.el;S.prototype=B,B.constructor=S,B.transform=function(e){if(null==e)return this._.transform;var r,i=this.paper._viewBoxShift,o=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:d;i&&(r=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,o+e);var a,s=this.matrix.clone(),u=this.skew,l=this.node,c=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),h||c||"image"==this.type)if(u.matrix="1 0 0 1",u.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){l.style.filter=s.toFilter();var f=this.getBBox(),v=this.getBBox(1),g=f.x-v.x,y=f.y-v.y;l.coordorigin=g*-b+p+y*-b,T(this,1,1,g,y,0)}else l.style.filter=d,T(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else l.style.filter=d,u.matrix=n(s),u.offset=s.offset();return null!==r&&(this._.transform=r,t._extractTransform(this,r)),this},B.rotate=function(t,e,i){if(this.removed)return this;if(null!=t){if(t=n(t).split(c),t.length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var o=this.getBBox(1);e=o.x+o.width/2,i=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this}},B.translate=function(t,e){return this.removed?this:(t=n(t).split(c),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},B.scale=function(t,e,i,o){if(this.removed)return this;if(t=n(t).split(c),t.length-1&&(e=r(t[1]),i=r(t[2]),o=r(t[3]),isNaN(i)&&(i=null),isNaN(o)&&(o=null)),t=r(t[0]),null==e&&(e=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,i,o]])),this._.dirtyT=1,this},B.hide=function(){return!this.removed&&(this.node.style.display="none"),this},B.show=function(){return!this.removed&&(this.node.style.display=d),this},B.auxGetBBox=t.el.getBBox,B.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},B._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},B.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},B.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if(n==l&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(c),s={},u=0,f=a.length;u<f;u++)n=a[u],n in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[a[0]]}if(this.attrs&&null==r&&t.is(n,"array")){for(s={},u=0,f=n.length;u<f;u++)s[n[u]]=this.attr(n[u]);return s}var p;null!=r&&(p={},p[n]=r),null==r&&t.is(n,"object")&&(p=n);for(var d in p)h("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var v=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var g in v)v[e](g)&&(p[g]=v[g])}p.text&&"text"==this.type&&(this.textpath.string=p.text),E(this,p)}return this},B.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},B.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},B.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},B.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},B.blur=function(e){var n=this.node.runtimeStyle,r=n.filter;return r=r.replace(y,d),0!==+e?(this.attrs.blur=e,n.filter=r+p+f+".Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=P("shape");n.style.cssText=_,n.coordsize=b+p+b,n.coordorigin=e.coordorigin;var r=new S(n,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),r.type="path",r.path=[],r.Path=d,E(r,i),e.canvas&&e.canvas.appendChild(n);var o=P("skew");return o.on=!0,n.appendChild(o),r.skew=o,r.transform(d),r},t._engine.rect=function(e,n,r,i,o,a){var s=t._rectPath(n,r,i,o,a),u=e.path(s),l=u.attrs;return u.X=l.x=n,u.Y=l.y=r,u.W=l.width=i,u.H=l.height=o,l.r=a,l.path=s,u.type="rect",u},t._engine.ellipse=function(t,e,n,r,i){var o=t.path();o.attrs;return o.X=e-r,o.Y=n-i,o.W=2*r,o.H=2*i,o.type="ellipse",E(o,{cx:e,cy:n,rx:r,ry:i}),o},t._engine.circle=function(t,e,n,r){var i=t.path();i.attrs;return i.X=e-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",E(i,{cx:e,cy:n,r:r}),i},t._engine.image=function(e,n,r,i,o,a){var s=t._rectPath(r,i,o,a),u=e.path(s).attr({stroke:"none"}),c=u.attrs,h=u.node,f=h.getElementsByTagName(l)[0];return c.src=n,u.X=c.x=r,u.Y=c.y=i,u.W=c.width=o,u.H=c.height=a,c.path=s,u.type="image",f.parentNode==h&&h.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",u._.fillpos=[r,i],u._.fillsize=[o,a],h.appendChild(f),T(u,1,1,0,0,0),u},t._engine.text=function(e,r,i,a){var s=P("shape"),u=P("path"),l=P("textpath");r=r||0,i=i||0,a=a||"",u.v=t.format("m{0},{1}l{2},{1}",o(r*b),o(i*b),o(r*b)+1),u.textpathok=!0,l.string=n(a),l.on=!0,s.style.cssText=_,s.coordsize=b+p+b,s.coordorigin="0 0";var c=new S(s,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};c.shape=s,c.path=u,c.textpath=l,c.type="text",c.attrs.text=n(a),c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,E(c,h),s.appendChild(l),s.appendChild(u),e.canvas.appendChild(s);var f=P("skew");return f.on=!0,s.appendChild(f),c.skew=f,c.transform(d),c},t._engine.setSize=function(e,n){var r=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),r.width=e,r.height=n,r.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,r,i,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,r,i,o]);var a,s,u=this.getSize(),l=u.width,c=u.height;return o&&(a=c/i,s=l/r,r*a<l&&(e-=(l-r*a)/2/a),i*s<c&&(n-=(c-i*s)/2/s)),this._viewBox=[e,n,r,i,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:u},this.forEach(function(t){t.transform("...")}),this};var P;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){P=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,r=e.height,i=e.width,o=e.x,a=e.y;if(!n)throw new Error("VML container not found.");var s=new t._Paper,u=s.canvas=t._g.doc.createElement("div"),l=u.style;return o=o||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=1e3*b+p+1e3*b,s.coordorigin="0 0",s.span=t._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",u.appendChild(s.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==n?(t._g.doc.body.appendChild(u),l.left=o+"px",l.top=a+"px",l.position="absolute"):n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u),s.renderfix=function(){},s},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var O=t.st;for(var F in B)B[e](F)&&!O[e](F)&&(O[F]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(F))}}.apply(e,r),!(void 0!==i&&(t.exports=i))}])})},function(t,e,n){var r,i;(function(n){var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:o.now();r<t.length;)t[r].update(e)||n?r++:t.splice(r,1);return!0}}}();!function(){void 0===this.window&&void 0!==this.process?o.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e3}:void 0!==this.window&&void 0!==window.performance&&void 0!==window.performance.now?o.now=window.performance.now.bind(window.performance):void 0!==Date.now?o.now=Date.now:o.now=function(){return(new Date).getTime()}}(),o.Tween=function(t){var e=t,n={},r={},i={},a=1e3,s=0,u=!1,l=!1,c=!1,h=0,f=null,p=o.Easing.Linear.None,d=o.Interpolation.Linear,v=[],g=null,y=!1,m=null,_=null,b=null;for(var x in t)n[x]=parseFloat(t[x],10);this.to=function(t,e){return void 0!==e&&(a=e),r=t,this},this.start=function(t){o.add(this),l=!0,y=!1,f=void 0!==t?t:o.now(),f+=h;for(var a in r){if(r[a]instanceof Array){if(0===r[a].length)continue;r[a]=[e[a]].concat(r[a])}void 0!==n[a]&&(n[a]=e[a],n[a]instanceof Array==!1&&(n[a]*=1),i[a]=n[a]||0)}return this},this.stop=function(){return l?(o.remove(this),l=!1,null!==b&&b.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,e=v.length;t<e;t++)v[t].stop()},this.delay=function(t){return h=t,this},this.repeat=function(t){return s=t,this},this.yoyo=function(t){return u=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return d=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return g=t,this},this.onUpdate=function(t){return m=t,this},this.onComplete=function(t){return _=t,this},this.onStop=function(t){return b=t,this},this.update=function(t){var o,l,b;if(t<f)return!0;y===!1&&(null!==g&&g.call(e),y=!0),l=(t-f)/a,l=l>1?1:l,b=p(l);for(o in r)if(void 0!==n[o]){var x=n[o]||0,w=r[o];w instanceof Array?e[o]=d(w,b):("string"==typeof w&&(w="+"===w.charAt(0)||"-"===w.charAt(0)?x+parseFloat(w,10):parseFloat(w,10)),"number"==typeof w&&(e[o]=x+(w-x)*b))}if(null!==m&&m.call(e,b),1===l){if(s>0){isFinite(s)&&s--;for(o in i){if("string"==typeof r[o]&&(i[o]=i[o]+parseFloat(r[o],10)),u){var k=i[o];i[o]=r[o],r[o]=k}n[o]=i[o]}return u&&(c=!c),f=t+h,!0}null!==_&&_.call(e);for(var C=0,T=v.length;C<T;C++)v[C].start(f+a);return!1}return!0}},o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}},o.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=o.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],r):e>1?a(t[n],t[n-1],n-r):a(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,a=o.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-e,r-s)*i(e,s)*t[s]*a(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=o.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),a(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):a(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=o.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){
var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i,u=i*s;return(2*e-2*n+o+a)*u+(-3*e+3*n-2*o-a)*s+o*i+e}}},function(n){r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i))}(this)}).call(e,n(6))},function(t,e,n){var r;(function(t,i){!function(o){function a(t){throw RangeError(O[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(P,".");var i=t.split("."),o=s(i,e).join(".");return r+o}function l(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function c(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=R(t>>>10&1023|55296),t=56320|1023&t),e+=R(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?M(t/T):t>>1,t+=M(t/e);t>F*k>>1;r+=x)t=M(t/F);return M(r+(F+1)*t/(t+C))}function d(t){var e,n,r,i,o,s,u,l,f,d,v=[],g=t.length,y=0,m=E,_=j;for(n=t.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&a("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,s=1,u=x;i>=g&&a("invalid-input"),l=h(t.charCodeAt(i++)),(l>=x||l>M((b-y)/s))&&a("overflow"),y+=l*s,f=u<=_?w:u>=_+k?k:u-_,!(l<f);u+=x)d=x-f,s>M(b/d)&&a("overflow"),s*=d;e=v.length+1,_=p(y-o,e,0==o),M(y/e)>b-m&&a("overflow"),m+=M(y/e),y%=e,v.splice(y++,0,m)}return c(v)}function v(t){var e,n,r,i,o,s,u,c,h,d,v,g,y,m,_,C=[];for(t=l(t),g=t.length,e=E,n=0,o=j,s=0;s<g;++s)v=t[s],v<128&&C.push(R(v));for(r=i=C.length,i&&C.push(A);r<g;){for(u=b,s=0;s<g;++s)v=t[s],v>=e&&v<u&&(u=v);for(y=r+1,u-e>M((b-n)/y)&&a("overflow"),n+=(u-e)*y,e=u,s=0;s<g;++s)if(v=t[s],v<e&&++n>b&&a("overflow"),v==e){for(c=n,h=x;d=h<=o?w:h>=o+k?k:h-o,!(c<d);h+=x)_=c-d,m=x-d,C.push(R(f(d+_%m,0))),c=M(_/m);C.push(R(f(c,0))),o=p(n,y,r==i),n=0,++r}++n,++e}return C.join("")}function g(t){return u(t,function(t){return S.test(t)?d(t.slice(4).toLowerCase()):t})}function y(t){return u(t,function(t){return B.test(t)?"xn--"+v(t):t})}var m=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);m.global!==m&&m.window!==m&&m.self!==m||(o=m);var _,b=2147483647,x=36,w=1,k=26,C=38,T=700,j=72,E=128,A="-",S=/^xn--/,B=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=x-w,M=Math.floor,R=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:l,encode:c},decode:d,encode:v,toASCII:y,toUnicode:g},r=function(){return _}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(10)(t),function(){return this}())},function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&l(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return null===t}function h(t){return null==t}var f=n(30);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(v),y=["'"].concat(g),m=["%","/","?",";","#"].concat(y),_=["/","?","#"],b=255,x=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=n(9);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&C[i]||(r=r.substr(2),this.slashes=!0)}if(!C[i]&&(a||i&&!T[i])){for(var s=-1,l=0;l<_.length;l++){var c=r.indexOf(_[l]);c!==-1&&(s===-1||c<s)&&(s=c)}var h,d;d=s===-1?r.lastIndexOf("@"):r.lastIndexOf("@",s),d!==-1&&(h=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(h)),s=-1;for(var l=0;l<m.length;l++){var c=r.indexOf(m[l]);c!==-1&&(s===-1||c<s)&&(s=c)}s===-1&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),l=0,E=g.length;l<E;l++){var A=g[l];if(A&&!A.match(x)){for(var S="",B=0,P=A.length;B<P;B++)S+=A.charCodeAt(B)>127?"x":A[B];if(!S.match(x)){var O=g.slice(0,l),F=g.slice(l+1),M=A.match(w);M&&(O.push(M[1]),F.unshift(M[2])),F.length&&(r="/"+F.join(".")+r),this.hostname=O.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var R=this.hostname.split("."),L=[],l=0;l<R.length;++l){var I=R[l];L.push(I.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(I):I)}this.hostname=L.join(".")}var N=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+N,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!k[o])for(var l=0,E=y.length;l<E;l++){var z=y[l],U=encodeURIComponent(z);U===z&&(U=escape(z)),r=r.split(z).join(U)}var V=r.indexOf("#");V!==-1&&(this.hash=r.substr(V),r=r.slice(0,V));var q=r.indexOf("?");if(q!==-1?(this.search=r.substr(q),this.query=r.substr(q+1),e&&(this.query=j.parse(this.query)),r=r.slice(0,q)):e&&(this.search="",this.query={}),r&&(this.pathname=r),T[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",I=this.search||"";this.path=N+I}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=j.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),T[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!T[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||C[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=l||s||n.host&&t.pathname,p=f,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!T[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),f=f&&(""===i[0]||""===d[0])),l)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!h(t.search)){if(v){n.hostname=n.host=d.shift();var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=t.search,n.query=t.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=d.slice(-1)[0],m=(n.host||t.host)&&("."===y||".."===y)||""===y,_=0,b=d.length;b>=0;b--)y=d[b],"."==y?d.splice(b,1):".."===y?(d.splice(b,1),_++):_&&(d.splice(b,1),_--);if(!f&&!p)for(;_--;_)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),m&&"/"!==d.join("/").substr(-1)&&d.push("");var x=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=x?"":d.length?d.shift():"";var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return f=f||n.host&&d.length,f&&!x&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){var r,i,o,i,a,i,s,i,u;!function(i,o){!(r=function(){return o()}.call(e,n,e,t))}(this,function(){var t,e,n="0.4.2",r="hasOwnProperty",i=/[\.\/]/,o="*",a=function(){},s=function(t,e){return t-e},u={n:{}},l=function(n,r){n=String(n);var i,o=e,a=Array.prototype.slice.call(arguments,2),u=l.listeners(n),c=0,h=[],f={},p=[],d=t;t=n,e=0;for(var v=0,g=u.length;g>v;v++)"zIndex"in u[v]&&(h.push(u[v].zIndex),u[v].zIndex<0&&(f[u[v].zIndex]=u[v]));for(h.sort(s);h[c]<0;)if(i=f[h[c++]],p.push(i.apply(r,a)),e)return e=o,p;for(v=0;g>v;v++)if(i=u[v],"zIndex"in i)if(i.zIndex==h[c]){if(p.push(i.apply(r,a)),e)break;do if(c++,i=f[h[c]],i&&p.push(i.apply(r,a)),e)break;while(i)}else f[i.zIndex]=i;else if(p.push(i.apply(r,a)),e)break;return e=o,t=d,p.length?p:null};return l._events=u,l.listeners=function(t){var e,n,r,a,s,l,c,h,f=t.split(i),p=u,d=[p],v=[];for(a=0,s=f.length;s>a;a++){for(h=[],l=0,c=d.length;c>l;l++)for(p=d[l].n,n=[p[f[a]],p[o]],r=2;r--;)e=n[r],e&&(h.push(e),v=v.concat(e.f||[]));d=h}return v},l.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(i),r=u,o=0,s=n.length;s>o;o++)r=r.n,r=r.hasOwnProperty(n[o])&&r[n[o]]||(r[n[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;s>o;o++)if(r.f[o]==e)return a;return r.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},l.f=function(t){var e=[].slice.call(arguments,1);return function(){l.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},l.stop=function(){e=1},l.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},l.nts=function(){return t.split(i)},l.off=l.unbind=function(t,e){if(!t)return void(l._events=u={n:{}});var n,a,s,c,h,f,p,d=t.split(i),v=[u];for(c=0,h=d.length;h>c;c++)for(f=0;f<v.length;f+=s.length-2){if(s=[f,1],n=v[f].n,d[c]!=o)n[d[c]]&&s.push(n[d[c]]);else for(a in n)n[r](a)&&s.push(n[a]);v.splice.apply(v,s)}for(c=0,h=v.length;h>c;c++)for(n=v[c];n.n;){if(e){if(n.f){for(f=0,p=n.f.length;p>f;f++)if(n.f[f]==e){n.f.splice(f,1);break}!n.f.length&&delete n.f}for(a in n.n)if(n.n[r](a)&&n.n[a].f){var g=n.n[a].f;for(f=0,p=g.length;p>f;f++)if(g[f]==e){g.splice(f,1);break}!g.length&&delete n.n[a].f}}else{delete n.f;for(a in n.n)n.n[r](a)&&n.n[a].f&&delete n.n[a].f}n=n.n}},l.once=function(t,e){var n=function(){return l.unbind(t,n),e.apply(this,arguments)};return l.on(t,n)},l.version=n,l.toString=function(){return"You are running Eve "+n},l}),function(t,n){i=[r],!(o=function(t){return n(t)}.apply(e,i))}(this,function(t){function e(n){if(e.is(n,"function"))return _?n():t.on("raphael.DOMload",n);if(e.is(n,$))return e._engine.create[A](e,n.splice(0,3+e.is(n[0],H))).add(n);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var i=r.pop();return _?i.call(e._engine.create[A](e,r)):t.on("raphael.DOMload",function(){i.call(e._engine.create[A](e,r))})}return e._engine.create[A](e,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var r in t)t[C](r)&&(e[r]=n(t[r]));return e}function r(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function i(t,e,n){function i(){var o=Array.prototype.slice.call(arguments,0),a=o.join("␀"),s=i.cache=i.cache||{},u=i.count=i.count||[];return s[C](a)?(r(u,a),n?n(s[a]):s[a]):(u.length>=1e3&&delete s[u.shift()],u.push(a),s[a]=t[A](e,o),n?n(s[a]):s[a])}return i}function o(){return this.hex}function a(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function s(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n}function u(t,e,n,r,i,o,a,u,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var c=l/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,v=0;h>v;v++){var g=c*f[v]+c,y=s(g,t,n,i,a),m=s(g,e,r,o,u),_=y*y+m*m;d+=p[v]*N.sqrt(_)}return c*d}function l(t,e,n,r,i,o,a,s,l){if(!(0>l||u(t,e,n,r,i,o,a,s)<l)){var c,h=1,f=h/2,p=h-f,d=.01;for(c=u(t,e,n,r,i,o,a,s,p);U(c-l)>d;)f/=2,p+=(l>c?1:-1)*f,c=u(t,e,n,r,i,o,a,s,p);return p}}function c(t,e,n,r,i,o,a,s){if(!(D(t,n)<z(i,a)||z(t,n)>D(i,a)||D(e,r)<z(o,s)||z(e,r)>D(o,s))){var u=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),l=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var h=u/c,f=l/c,p=+h.toFixed(2),d=+f.toFixed(2);if(!(p<+z(t,n).toFixed(2)||p>+D(t,n).toFixed(2)||p<+z(i,a).toFixed(2)||p>+D(i,a).toFixed(2)||d<+z(e,r).toFixed(2)||d>+D(e,r).toFixed(2)||d<+z(o,s).toFixed(2)||d>+D(o,s).toFixed(2)))return{x:h,y:f}}}}function h(t,n,r){var i=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(i,o))return r?0:[];for(var a=u.apply(0,t),s=u.apply(0,n),l=D(~~(a/5),1),h=D(~~(s/5),1),f=[],p=[],d={},v=r?0:[],g=0;l+1>g;g++){var y=e.findDotsAtSegment.apply(e,t.concat(g/l));f.push({x:y.x,y:y.y,t:g/l})}for(g=0;h+1>g;g++)y=e.findDotsAtSegment.apply(e,n.concat(g/h)),p.push({x:y.x,y:y.y,t:g/h});for(g=0;l>g;g++)for(var m=0;h>m;m++){var _=f[g],b=f[g+1],x=p[m],w=p[m+1],k=U(b.x-_.x)<.001?"y":"x",C=U(w.x-x.x)<.001?"y":"x",T=c(_.x,_.y,b.x,b.y,x.x,x.y,w.x,w.y);if(T){if(d[T.x.toFixed(4)]==T.y.toFixed(4))continue;d[T.x.toFixed(4)]=T.y.toFixed(4);var j=_.t+U((T[k]-_[k])/(b[k]-_[k]))*(b.t-_.t),E=x.t+U((T[C]-x[C])/(w[C]-x[C]))*(w.t-x.t);j>=0&&1.001>=j&&E>=0&&1.001>=E&&(r?v++:v.push({x:T.x,y:T.y,t1:z(j,1),t2:z(E,1)}))}}return v}function f(t,n,r){t=e._path2curve(t),n=e._path2curve(n);for(var i,o,a,s,u,l,c,f,p,d,v=r?0:[],g=0,y=t.length;y>g;g++){var m=t[g];if("M"==m[0])i=u=m[1],o=l=m[2];else{"C"==m[0]?(p=[i,o].concat(m.slice(1)),i=p[6],o=p[7]):(p=[i,o,i,o,u,l,u,l],i=u,o=l);for(var _=0,b=n.length;b>_;_++){var x=n[_];if("M"==x[0])a=c=x[1],s=f=x[2];else{"C"==x[0]?(d=[a,s].concat(x.slice(1)),a=d[6],s=d[7]):(d=[a,s,a,s,c,f,c,f],a=c,s=f);var w=h(p,d,r);if(r)v+=w;else{for(var k=0,C=w.length;C>k;k++)w[k].segment1=g,w[k].segment2=_,w[k].bez1=p,w[k].bez2=d;v=v.concat(w)}}}}}return v}function p(t,e,n,r,i,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+O+this.y+O+this.width+" × "+this.height}function v(t,e,n,r,i,o){function a(t){return((h*t+c)*t+l)*t}function s(t,e){var n=u(t,e);return((d*n+p)*n+f)*n}function u(t,e){var n,r,i,o,s,u;for(i=t,u=0;8>u;u++){if(o=a(i)-t,U(o)<e)return i;if(s=(3*h*i+2*c)*i+l,U(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,n>i)return n;if(i>r)return r;for(;r>n;){if(o=a(i),U(o-t)<e)return i;t>o?n=i:r=i,i=(r-n)/2+n}return i}var l=3*e,c=3*(r-e)-l,h=1-l-c,f=3*n,p=3*(i-n)-f,d=1-f-p;return s(t,1/(200*o))}function g(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var i in t)t[C](i)&&(r[Z(i)]=t[i],n.push(Z(i)));n.sort(ct)}this.anim=r,this.top=n[n.length-1],this.percents=n}function y(n,r,i,o,a,s){i=Z(i);var u,l,c,h,f,d,g=n.ms,y={},m={},_={};if(o)for(w=0,k=oe.length;k>w;w++){var b=oe[w];if(b.el.id==r.id&&b.anim==n){b.percent!=i?(oe.splice(w,1),c=1):l=b,r.attr(b.totalOrigin);break}}else o=+m;for(var w=0,k=n.percents.length;k>w;w++){if(n.percents[w]==i||n.percents[w]>o*n.top){i=n.percents[w],f=n.percents[w-1]||0,g=g/n.top*(i-f),h=n.percents[w+1],u=n.anim[i];break}o&&r.attr(n.anim[n.percents[w]])}if(u){if(l)l.initstatus=o,l.start=new Date-l.ms*o;else{for(var T in u)if(u[C](T)&&(nt[C](T)||r.paper.customAttributes[C](T)))switch(y[T]=r.attr(T),null==y[T]&&(y[T]=et[T]),m[T]=u[T],nt[T]){case H:_[T]=(m[T]-y[T])/g;break;case"colour":y[T]=e.getRGB(y[T]);var j=e.getRGB(m[T]);_[T]={r:(j.r-y[T].r)/g,g:(j.g-y[T].g)/g,b:(j.b-y[T].b)/g};break;case"path":var E=Mt(y[T],m[T]),A=E[1];for(y[T]=E[0],_[T]=[],w=0,k=y[T].length;k>w;w++){_[T][w]=[0];for(var B=1,P=y[T][w].length;P>B;B++)_[T][w][B]=(A[w][B]-y[T][w][B])/g}break;case"transform":var O=r._,R=Dt(O[T],m[T]);if(R)for(y[T]=R.from,m[T]=R.to,_[T]=[],_[T].real=!0,w=0,k=y[T].length;k>w;w++)for(_[T][w]=[y[T][w][0]],B=1,P=y[T][w].length;P>B;B++)_[T][w][B]=(m[T][w][B]-y[T][w][B])/g;else{var L=r.matrix||new p,I={_:{transform:O.transform},getBBox:function(){return r.getBBox(1)}};y[T]=[L.a,L.b,L.c,L.d,L.e,L.f],It(I,m[T]),m[T]=I._.transform,_[T]=[(I.matrix.a-L.a)/g,(I.matrix.b-L.b)/g,(I.matrix.c-L.c)/g,(I.matrix.d-L.d)/g,(I.matrix.e-L.e)/g,(I.matrix.f-L.f)/g]}break;case"csv":var N=F(u[T])[M](x),D=F(y[T])[M](x);if("clip-rect"==T)for(y[T]=D,_[T]=[],w=D.length;w--;)_[T][w]=(N[w]-y[T][w])/g;m[T]=N;break;default:for(N=[][S](u[T]),D=[][S](y[T]),_[T]=[],w=r.paper.customAttributes[T].length;w--;)_[T][w]=((N[w]||0)-(D[w]||0))/g}var z=u.easing,U=e.easing_formulas[z];if(!U)if(U=F(z).match(Q),U&&5==U.length){var V=U;U=function(t){return v(t,+V[1],+V[2],+V[3],+V[4],g)}}else U=ht;if(d=u.start||n.start||+new Date,b={anim:n,percent:i,timestamp:d,start:d+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:U,from:y,diff:_,to:m,el:r,callback:u.callback,prev:f,next:h,repeat:s||n.times,origin:r.attr(),totalOrigin:a},oe.push(b),o&&!l&&!c&&(b.stop=!0,b.start=new Date-g*o,1==oe.length))return se();c&&(b.start=new Date-b.ms*o),1==oe.length&&ae(se)}t("raphael.anim.start."+r.id,r,n)}}function m(t){for(var e=0;e<oe.length;e++)oe[e].el.paper==t&&oe.splice(e--,1)}e.version="2.1.4",e.eve=t;var _,b,x=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,C="hasOwnProperty",T={doc:document,win:window},j={was:Object.prototype[C].call(T.win,"Raphael"),is:T.win.Raphael},E=function(){this.ca=this.customAttributes={}},A="apply",S="concat",B="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,P="",O=" ",F=String,M="split",R="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[M](O),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},I=F.prototype.toLowerCase,N=Math,D=N.max,z=N.min,U=N.abs,V=N.pow,q=N.PI,H="number",W="string",$="array",G=Object.prototype.toString,X=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Y={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=N.round,Z=parseFloat,J=parseInt,tt=F.prototype.toUpperCase,et=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=e._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},ot=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ut=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ct=function(t,e){return Z(t)-Z(e)},ht=function(t){return t},ft=e._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},pt=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},dt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},vt=e.mapPath=function(t,e){if(!e)return t;var n,r,i,o,a,s,u;for(t=Mt(t),i=0,a=t.length;a>i;i++)for(u=t[i],o=1,s=u.length;s>o;o+=2)n=e.x(u[o],u[o+1]),r=e.y(u[o],u[o+1]),u[o]=n,u[o+1]=r;return t};if(e._g=T,e.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var gt,yt=T.doc.createElement("div");if(yt.innerHTML='<v:shape adj="1"/>',gt=yt.firstChild,gt.style.behavior="url(#default#VML)",!gt||"object"!=typeof gt.adj)return e.type=P;yt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=E,e.fn=b=E.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(t,e){return e=I.call(e),"finite"==e?!Y[C](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||G.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,r,i,o,a){if(null==o){var s=t-r,u=n-i;return s||u?(180+180*N.atan2(-u,-s)/q+360)%360:0}return e.angle(t,n,o,a)-e.angle(r,i,o,a)},e.rad=function(t){return t%360*q/180},e.deg=function(t){return Math.round(180*t/q%360*1e3)/1e3},e.snapTo=function(t,n,r){if(r=e.is(r,"finite")?r:10,e.is(t,$)){for(var i=t.length;i--;)if(U(t[i]-n)<=r)return t[i]}else{t=+t;var o=n%t;if(r>o)return n-o;if(o>t-r)return n-o+t}return n},e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*N.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}),e.setWindow=function(n){t("raphael.setWindow",e,T.win,n),T.win=n,T.doc=T.win.document,e._engine.initWin&&e._engine.initWin(T.win)};var mt=function(t){if(e.vml){var n,r=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var a=n.createTextRange();mt=i(function(t){try{n.style.color=F(t).replace(r,P);var e=a.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var s=T.doc.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",T.doc.body.appendChild(s),mt=i(function(t){return s.style.color=t,T.doc.defaultView.getComputedStyle(s,P).getPropertyValue("color")})}return mt(t)},_t=function(){return"hsb("+[this.h,this.s,this.b]+")"},bt=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},wt=function(t,n,r){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r),null==n&&e.is(t,W)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}return(t>1||n>1||r>1)&&(t/=255,n/=255,r/=255),[t,n,r]},kt=function(t,n,r,i){t*=255,n*=255,r*=255;var o={r:t,g:n,b:r,hex:e.rgb(t,n,r),toString:xt};return e.is(i,"finite")&&(o.opacity=i),o};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=xt,t},e.hsb2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),t*=360;var i,o,a,s,u;return t=t%360/60,u=n*e,s=u*(1-U(t%2-1)),i=o=a=n-u,t=~~t,i+=[u,s,0,0,s,u][t],o+=[s,u,u,s,0,0][t],a+=[0,0,s,u,u,s][t],kt(i,o,a,r)},e.hsl2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var i,o,a,s,u;return t=t%360/60,u=2*e*(.5>n?n:1-n),s=u*(1-U(t%2-1)),i=o=a=n-u/2,t=~~t,i+=[u,s,0,0,s,u][t],o+=[s,u,u,s,0,0][t],a+=[0,0,s,u,u,s][t],kt(i,o,a,r)},e.rgb2hsb=function(t,e,n){n=wt(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a;return o=D(t,e,n),a=o-z(t,e,n),r=0==a?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:_t}},e.rgb2hsl=function(t,e,n){n=wt(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a,s,u;return a=D(t,e,n),s=z(t,e,n),u=a-s,r=0==u?null:a==t?(e-n)/u:a==e?(n-t)/u+2:(t-e)/u+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==u?0:.5>o?u/(2*o):u/(2-2*o),{h:r,s:i,l:o,toString:bt}},e._path2string=function(){return this.join(",").replace(ot,"$1")},e._preload=function(t,e){var n=T.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},n.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(n),n.src=t},e.getRGB=i(function(t){if(!t||(t=F(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(it[C](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=mt(t));var n,r,i,a,s,u,l=t.match(X);return l?(l[2]&&(i=J(l[2].substring(5),16),r=J(l[2].substring(3,5),16),n=J(l[2].substring(1,3),16)),l[3]&&(i=J((s=l[3].charAt(3))+s,16),r=J((s=l[3].charAt(2))+s,16),n=J((s=l[3].charAt(1))+s,16)),l[4]&&(u=l[4][M](rt),n=Z(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Z(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=Z(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(a=Z(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100)),l[5]?(u=l[5][M](rt),n=Z(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Z(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=Z(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(a=Z(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),e.hsb2rgb(n,r,i,a)):l[6]?(u=l[6][M](rt),n=Z(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=Z(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=Z(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(a=Z(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),e.hsl2rgb(n,r,i,a)):(l={r:n,g:r,b:i,toString:o},l.hex="#"+(16777216|i|r<<8|n<<16).toString(16).slice(1),e.is(a,"finite")&&(l.opacity=a),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},e),e.hsb=i(function(t,n,r){return e.hsb2rgb(t,n,r).hex}),e.hsl=i(function(t,n,r){return e.hsl2rgb(t,n,r).hex}),e.rgb=i(function(t,e,n){function r(t){return t+.5|0}return"#"+(16777216|r(n)|r(e)<<8|r(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=Ct(t);if(n.arr)return jt(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return e.is(t,$)&&e.is(t[0],$)&&(i=jt(t)),i.length||F(t).replace(at,function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(ut,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(i.push([e][S](o.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)i.push([e][S](o));else for(;o.length>=r[a]&&(i.push([e][S](o.splice(0,r[a]))),r[a]););}),i.toString=e._path2string,n.arr=jt(i),i},e.parseTransformString=i(function(t){if(!t)return null;var n=[];return e.is(t,$)&&e.is(t[0],$)&&(n=jt(t)),n.length||F(t).replace(st,function(t,e,r){var i=[];I.call(e),r.replace(ut,function(t,e){e&&i.push(+e)}),n.push([e][S](i))}),n.toString=e._path2string,n});var Ct=function(t){var e=Ct.ps=Ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[C](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};e.findDotsAtSegment=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=V(l,3),h=V(l,2),f=u*u,p=f*u,d=c*t+3*h*u*n+3*l*u*u*i+p*a,v=c*e+3*h*u*r+3*l*u*u*o+p*s,g=t+2*u*(n-t)+f*(i-2*n+t),y=e+2*u*(r-e)+f*(o-2*r+e),m=n+2*u*(i-n)+f*(a-2*i+n),_=r+2*u*(o-r)+f*(s-2*o+r),b=l*t+u*n,x=l*e+u*r,w=l*i+u*a,k=l*o+u*s,C=90-180*N.atan2(g-m,y-_)/q;
return(g>m||_>y)&&(C+=180),{x:d,y:v,m:{x:g,y:y},n:{x:m,y:_},start:{x:b,y:x},end:{x:w,y:k},alpha:C}},e.bezierBBox=function(t,n,r,i,o,a,s,u){e.is(t,"array")||(t=[t,n,r,i,o,a,s,u]);var l=Ft.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var r=e.isPointInsideBBox;return r(n,t.x,t.y)||r(n,t.x2,t.y)||r(n,t.x,t.y2)||r(n,t.x2,t.y2)||r(t,n.x,n.y)||r(t,n.x2,n.y)||r(t,n.x,n.y2)||r(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,n,r){var i=e.pathBBox(t);return e.isPointInsideBBox(i,n,r)&&f(t,[["M",n,r],["H",i.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Tt=e.pathBBox=function(t){var e=Ct(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Mt(t);for(var r,i=0,o=0,a=[],s=[],u=0,l=t.length;l>u;u++)if(r=t[u],"M"==r[0])i=r[1],o=r[2],a.push(i),s.push(o);else{var c=Ft(i,o,r[1],r[2],r[3],r[4],r[5],r[6]);a=a[S](c.min.x,c.max.x),s=s[S](c.min.y,c.max.y),i=r[5],o=r[6]}var h=z[A](0,a),f=z[A](0,s),p=D[A](0,a),d=D[A](0,s),v=p-h,g=d-f,y={x:h,y:f,x2:p,y2:d,width:v,height:g,cx:h+v/2,cy:f+g/2};return e.bbox=n(y),y},jt=function(t){var r=n(t);return r.toString=e._path2string,r},Et=e._pathToRelative=function(t){var n=Ct(t);if(n.rel)return jt(n.rel);e.is(t,$)&&e.is(t&&t[0],$)||(t=e.parsePathString(t));var r=[],i=0,o=0,a=0,s=0,u=0;"M"==t[0][0]&&(i=t[0][1],o=t[0][2],a=i,s=o,u++,r.push(["M",i,o]));for(var l=u,c=t.length;c>l;l++){var h=r[l]=[],f=t[l];if(f[0]!=I.call(f[0]))switch(h[0]=I.call(f[0]),h[0]){case"a":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+(f[6]-i).toFixed(3),h[7]=+(f[7]-o).toFixed(3);break;case"v":h[1]=+(f[1]-o).toFixed(3);break;case"m":a=f[1],s=f[2];default:for(var p=1,d=f.length;d>p;p++)h[p]=+(f[p]-(p%2?i:o)).toFixed(3)}else{h=r[l]=[],"m"==f[0]&&(a=f[1]+i,s=f[2]+o);for(var v=0,g=f.length;g>v;v++)r[l][v]=f[v]}var y=r[l].length;switch(r[l][0]){case"z":i=a,o=s;break;case"h":i+=+r[l][y-1];break;case"v":o+=+r[l][y-1];break;default:i+=+r[l][y-2],o+=+r[l][y-1]}}return r.toString=e._path2string,n.rel=jt(r),r},At=e._pathToAbsolute=function(t){var n=Ct(t);if(n.abs)return jt(n.abs);if(e.is(t,$)&&e.is(t&&t[0],$)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r=[],i=0,o=0,s=0,u=0,l=0;"M"==t[0][0]&&(i=+t[0][1],o=+t[0][2],s=i,u=o,l++,r[0]=["M",i,o]);for(var c,h,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=l,d=t.length;d>p;p++){if(r.push(c=[]),h=t[p],h[0]!=tt.call(h[0]))switch(c[0]=tt.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+i),c[7]=+(h[7]+o);break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+i;break;case"R":for(var v=[i,o][S](h.slice(1)),g=2,y=v.length;y>g;g++)v[g]=+v[g]+i,v[++g]=+v[g]+o;r.pop(),r=r[S](a(v,f));break;case"M":s=+h[1]+i,u=+h[2]+o;default:for(g=1,y=h.length;y>g;g++)c[g]=+h[g]+(g%2?i:o)}else if("R"==h[0])v=[i,o][S](h.slice(1)),r.pop(),r=r[S](a(v,f)),c=["R"][S](h.slice(-2));else for(var m=0,_=h.length;_>m;m++)c[m]=h[m];switch(c[0]){case"Z":i=s,o=u;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":s=c[c.length-2],u=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return r.toString=e._path2string,n.abs=jt(r),r},St=function(t,e,n,r){return[t,e,n,r,n,r]},Bt=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},Pt=function(t,e,n,r,o,a,s,u,l,c){var h,f=120*q/180,p=q/180*(+o||0),d=[],v=i(function(t,e,n){var r=t*N.cos(n)-e*N.sin(n),i=t*N.sin(n)+e*N.cos(n);return{x:r,y:i}});if(c)C=c[0],T=c[1],w=c[2],k=c[3];else{h=v(t,e,-p),t=h.x,e=h.y,h=v(u,l,-p),u=h.x,l=h.y;var g=(N.cos(q/180*o),N.sin(q/180*o),(t-u)/2),y=(e-l)/2,m=g*g/(n*n)+y*y/(r*r);m>1&&(m=N.sqrt(m),n*=m,r*=m);var _=n*n,b=r*r,x=(a==s?-1:1)*N.sqrt(U((_*b-_*y*y-b*g*g)/(_*y*y+b*g*g))),w=x*n*y/r+(t+u)/2,k=x*-r*g/n+(e+l)/2,C=N.asin(((e-k)/r).toFixed(9)),T=N.asin(((l-k)/r).toFixed(9));C=w>t?q-C:C,T=w>u?q-T:T,0>C&&(C=2*q+C),0>T&&(T=2*q+T),s&&C>T&&(C-=2*q),!s&&T>C&&(T-=2*q)}var j=T-C;if(U(j)>f){var E=T,A=u,B=l;T=C+f*(s&&T>C?1:-1),u=w+n*N.cos(T),l=k+r*N.sin(T),d=Pt(u,l,n,r,o,0,s,A,B,[T,E,w,k])}j=T-C;var P=N.cos(C),O=N.sin(C),F=N.cos(T),R=N.sin(T),L=N.tan(j/4),I=4/3*n*L,D=4/3*r*L,z=[t,e],V=[t+I*O,e-D*P],H=[u+I*R,l-D*F],W=[u,l];if(V[0]=2*z[0]-V[0],V[1]=2*z[1]-V[1],c)return[V,H,W][S](d);d=[V,H,W][S](d).join()[M](",");for(var $=[],G=0,X=d.length;X>G;G++)$[G]=G%2?v(d[G-1],d[G],p).y:v(d[G],d[G+1],p).x;return $},Ot=function(t,e,n,r,i,o,a,s,u){var l=1-u;return{x:V(l,3)*t+3*V(l,2)*u*n+3*l*u*u*i+V(u,3)*a,y:V(l,3)*e+3*V(l,2)*u*r+3*l*u*u*o+V(u,3)*s}},Ft=i(function(t,e,n,r,i,o,a,s){var u,l=i-2*n+t-(a-2*i+n),c=2*(n-t)-2*(i-n),h=t-n,f=(-c+N.sqrt(c*c-4*l*h))/2/l,p=(-c-N.sqrt(c*c-4*l*h))/2/l,d=[e,s],v=[t,a];return U(f)>"1e12"&&(f=.5),U(p)>"1e12"&&(p=.5),f>0&&1>f&&(u=Ot(t,e,n,r,i,o,a,s,f),v.push(u.x),d.push(u.y)),p>0&&1>p&&(u=Ot(t,e,n,r,i,o,a,s,p),v.push(u.x),d.push(u.y)),l=o-2*r+e-(s-2*o+r),c=2*(r-e)-2*(o-r),h=e-r,f=(-c+N.sqrt(c*c-4*l*h))/2/l,p=(-c-N.sqrt(c*c-4*l*h))/2/l,U(f)>"1e12"&&(f=.5),U(p)>"1e12"&&(p=.5),f>0&&1>f&&(u=Ot(t,e,n,r,i,o,a,s,f),v.push(u.x),d.push(u.y)),p>0&&1>p&&(u=Ot(t,e,n,r,i,o,a,s,p),v.push(u.x),d.push(u.y)),{min:{x:z[A](0,v),y:z[A](0,d)},max:{x:D[A](0,v),y:D[A](0,d)}}}),Mt=e._path2curve=i(function(t,e){var n=!e&&Ct(t);if(!e&&n.curve)return jt(n.curve);for(var r=At(t),i=e&&At(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(t,e,n){var r,i,o={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in o)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][S](Pt[A](0,[e.x,e.y][S](t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i][S](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][S](Bt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][S](Bt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][S](St(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][S](St(e.x,e.y,t[1],e.y));break;case"V":t=["C"][S](St(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][S](St(e.x,e.y,e.X,e.Y))}return t}),u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",i&&(h[e]="A"),t.splice(e++,0,["C"][S](n.splice(0,6)));t.splice(e,1),v=D(r.length,i&&i.length||0)}},l=function(t,e,n,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],v=D(r.length,i&&i.length||0))},c=[],h=[],f="",p="",d=0,v=D(r.length,i&&i.length||0);v>d;d++){r[d]&&(f=r[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),r[d]=s(r[d],o,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),u(r,d),i&&(i[d]&&(f=i[d][0]),"C"!=f&&(h[d]=f,d&&(p=h[d-1])),i[d]=s(i[d],a,p),"A"!=h[d]&&"C"==f&&(h[d]="C"),u(i,d)),l(r,i,o,a,d),l(i,r,a,o,d);var g=r[d],y=i&&i[d],m=g.length,_=i&&y.length;o.x=g[m-2],o.y=g[m-1],o.bx=Z(g[m-4])||o.x,o.by=Z(g[m-3])||o.y,a.bx=i&&(Z(y[_-4])||a.x),a.by=i&&(Z(y[_-3])||a.y),a.x=i&&y[_-2],a.y=i&&y[_-1]}return i||(n.curve=jt(r)),i?[r,i]:r},null,jt),Rt=(e._parseDots=i(function(t){for(var n=[],r=0,i=t.length;i>r;r++){var o={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(a[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),n.push(o)}for(r=1,i=n.length-1;i>r;r++)if(!n[r].offset){for(var s=Z(n[r-1].offset||0),u=0,l=r+1;i>l;l++)if(n[l].offset){u=n[l].offset;break}u||(u=100,l=i),u=Z(u);for(var c=(u-s)/(l-r+1);l>r;r++)s+=c,n[r].offset=s+"%"}return n}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Lt=(e._tofront=function(t,e){e.top!==t&&(Rt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Rt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Rt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Rt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=Tt(t),r={_:{transform:P},getBBox:function(){return n}};return It(r,e),r.matrix}),It=(e.transformPath=function(t,e){return vt(t,Lt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=F(n).replace(/\.{3}|\u2026/g,t._.transform||P);var r=e.parseTransformString(n),i=0,o=0,a=0,s=1,u=1,l=t._,c=new p;if(l.transform=r||[],r)for(var h=0,f=r.length;f>h;h++){var d,v,g,y,m,_=r[h],b=_.length,x=F(_[0]).toLowerCase(),w=_[0]!=x,k=w?c.invert():0;"t"==x&&3==b?w?(d=k.x(0,0),v=k.y(0,0),g=k.x(_[1],_[2]),y=k.y(_[1],_[2]),c.translate(g-d,y-v)):c.translate(_[1],_[2]):"r"==x?2==b?(m=m||t.getBBox(1),c.rotate(_[1],m.x+m.width/2,m.y+m.height/2),i+=_[1]):4==b&&(w?(g=k.x(_[2],_[3]),y=k.y(_[2],_[3]),c.rotate(_[1],g,y)):c.rotate(_[1],_[2],_[3]),i+=_[1]):"s"==x?2==b||3==b?(m=m||t.getBBox(1),c.scale(_[1],_[b-1],m.x+m.width/2,m.y+m.height/2),s*=_[1],u*=_[b-1]):5==b&&(w?(g=k.x(_[3],_[4]),y=k.y(_[3],_[4]),c.scale(_[1],_[2],g,y)):c.scale(_[1],_[2],_[3],_[4]),s*=_[1],u*=_[2]):"m"==x&&7==b&&c.add(_[1],_[2],_[3],_[4],_[5],_[6]),l.dirtyT=1,t.matrix=c}t.matrix=c,l.sx=s,l.sy=u,l.deg=i,l.dx=o=c.e,l.dy=a=c.f,1==s&&1==u&&!i&&l.bbox?(l.bbox.x+=+o,l.bbox.y+=+a):l.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Dt=e._equaliseTransform=function(t,n){n=F(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var r,i,o,a,s=D(t.length,n.length),u=[],l=[],c=0;s>c;c++){if(o=t[c]||Nt(n[c]),a=n[c]||Nt(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(u[c]=[],l[c]=[],r=0,i=D(o.length,a.length);i>r;r++)r in o&&(u[c][r]=o[r]),r in a&&(l[c][r]=a[r])}return{from:u,to:l}};e._getContainer=function(t,n,r,i){var o;return o=null!=i||e.is(t,"object")?t:T.doc.getElementById(t),null!=o?o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:r}:{container:1,x:t,y:n,width:r,height:i}:void 0},e.pathToRelative=Et,e._engine={},e.path2curve=Mt,e.matrix=function(t,e,n,r,i,o){return new p(t,e,n,r,i,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=N.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,r,i,o){var a,s,u,l,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,i],[e,r,o],[0,0,1]];for(t&&t instanceof p&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(l=0,u=0;3>u;u++)l+=h[a][u]*f[u][s];c[a][s]=l}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},t.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var i=+N.cos(t).toFixed(9),o=+N.sin(t).toFixed(9);this.add(i,o,-o,i,n,r),this.add(1,0,0,1,-n,-r)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[F.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=N.sqrt(n(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=N.sqrt(n(i[1])),r(i[1]),t.shear/=t.scaley;var o=-i[0][1],a=i[1][1];return 0>a?(t.rotate=e.deg(N.acos(a)),0>o&&(t.rotate=360-t.rotate)):t.rotate=e.deg(N.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[M]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:P)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:P)+(e.rotate?"r"+[e.rotate,0,0]:P)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);for(var zt=function(){this.returnValue=!1},Ut=function(){return this.originalEvent.preventDefault()},Vt=function(){this.cancelBubble=!0},qt=function(){return this.originalEvent.stopPropagation()},Ht=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,n=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Wt=function(){return T.doc.addEventListener?function(t,e,n,r){var i=function(t){var e=Ht(t);return n.call(r,t,e.x,e.y)};if(t.addEventListener(e,i,!1),B&&L[e]){var o=function(e){for(var i=Ht(e),o=e,a=0,s=e.targetTouches&&e.targetTouches.length;s>a;a++)if(e.targetTouches[a].target==t){e=e.targetTouches[a],e.originalEvent=o,e.preventDefault=Ut,e.stopPropagation=qt;break}return n.call(r,e,i.x,i.y)};t.addEventListener(L[e],o,!1)}return function(){return t.removeEventListener(e,i,!1),B&&L[e]&&t.removeEventListener(L[e],o,!1),!0}}:T.doc.attachEvent?function(t,e,n,r){var i=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,i=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+i,a=t.clientY+e;return t.preventDefault=t.preventDefault||zt,t.stopPropagation=t.stopPropagation||Vt,n.call(r,t,o,a)};t.attachEvent("on"+e,i);var o=function(){return t.detachEvent("on"+e,i),!0};return o}:void 0}(),$t=[],Gt=function(e){for(var n,r=e.clientX,i=e.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,a=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,s=$t.length;s--;){if(n=$t[s],B&&e.touches){for(var u,l=e.touches.length;l--;)if(u=e.touches[l],u.identifier==n.el._drag.id){r=u.clientX,i=u.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,h=n.el.node,f=h.nextSibling,p=h.parentNode,d=h.style.display;T.win.opera&&p.removeChild(h),h.style.display="none",c=n.el.paper.getElementByPoint(r,i),h.style.display=d,T.win.opera&&(f?p.insertBefore(h,f):p.appendChild(h)),c&&t("raphael.drag.over."+n.el.id,n.el,c),r+=a,i+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,e)}},Xt=function(n){e.unmousemove(Gt).unmouseup(Xt);for(var r,i=$t.length;i--;)r=$t[i],r.el._drag={},t("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);$t=[]},Yt=e.el={},Qt=R.length;Qt--;)!function(t){e[t]=Yt[t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Wt(this.shape||this.node||T.doc,t,n,r||this)})),this},e["un"+t]=Yt["un"+t]=function(n){for(var r=this.events||[],i=r.length;i--;)r[i].name!=t||!e.is(n,"undefined")&&r[i].f!=n||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}}(R[Qt]);Yt.data=function(n,r){var i=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[C](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,i[n],n),i[n]}return i[n]=r,t("raphael.data.set."+this.id,this,r,n),this},Yt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Yt.getData=function(){return n(lt[this.id]||{})},Yt.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},Yt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Kt=[];Yt.drag=function(n,r,i,o,a,s){function u(u){(u.originalEvent||u).preventDefault();var l=u.clientX,c=u.clientY,h=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,f=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=u.identifier,B&&u.touches)for(var p,d=u.touches.length;d--;)if(p=u.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){l=p.clientX,c=p.clientY;break}this._drag.x=l+f,this._drag.y=c+h,!$t.length&&e.mousemove(Gt).mouseup(Xt),$t.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&t.on("raphael.drag.start."+this.id,r),n&&t.on("raphael.drag.move."+this.id,n),i&&t.on("raphael.drag.end."+this.id,i),t("raphael.drag.start."+this.id,a||o||this,u.clientX+f,u.clientY+h,u)}return this._drag={},Kt.push({el:this,start:u}),this.mousedown(u),this},Yt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Yt.undrag=function(){for(var n=Kt.length;n--;)Kt[n].el==this&&(this.unmousedown(Kt[n].start),Kt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Kt.length&&e.unmousemove(Gt).unmouseup(Xt),$t=[]},b.circle=function(t,n,r){var i=e._engine.circle(this,t||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},b.rect=function(t,n,r,i,o){var a=e._engine.rect(this,t||0,n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},b.ellipse=function(t,n,r,i){var o=e._engine.ellipse(this,t||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(o),o},b.path=function(t){t&&!e.is(t,W)&&!e.is(t[0],$)&&(t+=P);var n=e._engine.path(e.format[A](e,arguments),this);return this.__set__&&this.__set__.push(n),n},b.image=function(t,n,r,i,o){var a=e._engine.image(this,t||"about:blank",n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},b.text=function(t,n,r){var i=e._engine.text(this,t||0,n||0,F(r));return this.__set__&&this.__set__.push(i),i},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new le(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},b.setViewBox=function(t,n,r,i,o){return e._engine.setViewBox.call(this,t,n,r,i,o)},b.top=b.bottom=null,b.raphael=e;var Zt=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=e.top+(T.win.pageYOffset||i.scrollTop||r.scrollTop)-o,u=e.left+(T.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:u}};b.getElementByPoint=function(t,e){var n=this,r=n.canvas,i=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==i.tagName){var o=Zt(r),a=r.createSVGRect();a.x=t-o.x,a.y=e-o.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},b.getElementsByBBox=function(t){var n=this.set();return this.forEach(function(r){e.isBBoxIntersect(r.getBBox(),t)&&n.push(r)}),n},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var n=this.bottom;n;){if(t.call(e,n)===!1)return this;n=n.next}return this},b.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},Yt.isPointInside=function(t,n){var r=this.realPath=dt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=e.transformPath(r,this.attr("transform"))),e.isPointInsidePath(r,t,n)},Yt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=dt[this.type](this),e.bboxwt=Tt(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=dt[this.type](this)),e.bbox=Tt(vt(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Yt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Yt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),o=this.realPath||dt[this.type](this);o=this.matrix?vt(o,this.matrix):o;for(var a=1;n+1>a;a++)i.push(r.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*a).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Jt=function(t,n,r,i,o,a,s,c,h){return null==h?u(t,n,r,i,o,a,s,c):e.findDotsAtSegment(t,n,r,i,o,a,s,c,l(t,n,r,i,o,a,s,c,h))},te=function(t,n){return function(r,i,o){r=Mt(r);for(var a,s,u,l,c,h="",f={},p=0,d=0,v=r.length;v>d;d++){if(u=r[d],"M"==u[0])a=+u[1],s=+u[2];else{if(l=Jt(a,s,u[1],u[2],u[3],u[4],u[5],u[6]),p+l>i){if(n&&!f.start){if(c=Jt(a,s,u[1],u[2],u[3],u[4],u[5],u[6],i-p),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return h;f.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,u[5],u[6]].join(),p+=l,a=+u[5],s=+u[6];continue}if(!t&&!n)return c=Jt(a,s,u[1],u[2],u[3],u[4],u[5],u[6],i-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=l,a=+u[5],s=+u[6]}h+=u.shift()+u}return f.end=h,c=t?p:n?f:e.findDotsAtSegment(a,s,u[0],u[1],u[2],u[3],u[4],u[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},ee=te(1),ne=te(),re=te(0,1);e.getTotalLength=ee,e.getPointAtLength=ne,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return re(t,e).end;var r=re(t,n,1);return e?re(r,e).end:r},Yt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():ee(t)},Yt.getPointAtLength=function(t){var e=this.getPath();if(e)return ne(e,t)},Yt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Yt.getSubpath=function(t,n){var r=this.getPath();if(r)return e.getSubpath(r,t,n)};var ie=e.easing_formulas={linear:function(t){return t},"<":function(t){return V(t,1.7)},">":function(t){return V(t,.48)},"<>":function(t){var e=.48-t/1.04,n=N.sqrt(.1734+e*e),r=n-e,i=V(U(r),1/3)*(0>r?-1:1),o=-n-e,a=V(U(o),1/3)*(0>o?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:V(2,-10*t)*N.sin(2*(t-.075)*q/.3)+1},bounce:function(t){var e,n=7.5625,r=2.75;return 1/r>t?e=n*t*t:2/r>t?(t-=1.5/r,e=n*t*t+.75):2.5/r>t?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e}};ie.easeIn=ie["ease-in"]=ie["<"],ie.easeOut=ie["ease-out"]=ie[">"],ie.easeInOut=ie["ease-in-out"]=ie["<>"],ie["back-in"]=ie.backIn,ie["back-out"]=ie.backOut;var oe=[],ae=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},se=function(){for(var n=+new Date,r=0;r<oe.length;r++){var i=oe[r];if(!i.el.removed&&!i.paused){var o,a,s=n-i.start,u=i.ms,l=i.easing,c=i.from,h=i.diff,f=i.to,p=(i.t,i.el),d={},v={};if(i.initstatus?(s=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*u,i.status=i.initstatus,delete i.initstatus,i.stop&&oe.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(s/u))/i.anim.top,!(0>s))if(u>s){var g=l(s/u);for(var m in c)if(c[C](m)){switch(nt[m]){case H:o=+c[m]+g*u*h[m];break;case"colour":o="rgb("+[ue(K(c[m].r+g*u*h[m].r)),ue(K(c[m].g+g*u*h[m].g)),ue(K(c[m].b+g*u*h[m].b))].join(",")+")";break;case"path":o=[];for(var _=0,b=c[m].length;b>_;_++){o[_]=[c[m][_][0]];for(var x=1,w=c[m][_].length;w>x;x++)o[_][x]=+c[m][_][x]+g*u*h[m][_][x];o[_]=o[_].join(O)}o=o.join(O);break;case"transform":if(h[m].real)for(o=[],_=0,b=c[m].length;b>_;_++)for(o[_]=[c[m][_][0]],x=1,w=c[m][_].length;w>x;x++)o[_][x]=c[m][_][x]+g*u*h[m][_][x];else{var k=function(t){return+c[m][t]+g*u*h[m][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==m)for(o=[],_=4;_--;)o[_]=+c[m][_]+g*u*h[m][_];break;default:var T=[][S](c[m]);for(o=[],_=p.paper.customAttributes[m].length;_--;)o[_]=+T[_]+g*u*h[m][_]}d[m]=o}p.attr(d),function(e,n,r){setTimeout(function(){t("raphael.anim.frame."+e,n,r)})}(p.id,p,i.anim)}else{if(function(n,r,i){setTimeout(function(){t("raphael.anim.frame."+r.id,r,i),t("raphael.anim.finish."+r.id,r,i),e.is(n,"function")&&n.call(r)})}(i.callback,p,i.anim),p.attr(f),oe.splice(r--,1),i.repeat>1&&!i.next){for(a in f)f[C](a)&&(v[a]=i.totalOrigin[a]);i.el.attr(v),y(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&y(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}oe.length&&ae(se)},ue=function(t){return t>255?255:0>t?0:t};Yt.animateWith=function(t,n,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var u=r instanceof g?r:e.animation(r,i,o,a);y(u,s,u.percents[0],null,s.attr());for(var l=0,c=oe.length;c>l;l++)if(oe[l].anim==n&&oe[l].el==t){oe[c-1].start=oe[l].start;break}return s},Yt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=N.floor(D(t,0))||1,e},e.animation=function(t,n,r,i){if(t instanceof g)return t;(e.is(r,"function")||!r)&&(i=i||r||null,r=null),t=Object(t),n=+n||0;var o,a,s={};for(a in t)t[C](a)&&Z(a)!=a&&Z(a)+"%"!=a&&(o=!0,s[a]=t[a]);if(o)return r&&(s.easing=r),i&&(s.callback=i),new g({100:s},n);if(i){var u=0;for(var l in t){var c=J(l);t[C](l)&&c>u&&(u=c)}u+="%",!t[u].callback&&(t[u].callback=i)}return new g(t,n)},Yt.animate=function(t,n,r,i){var o=this;if(o.removed)return i&&i.call(o),o;var a=t instanceof g?t:e.animation(t,n,r,i);return y(a,o,a.percents[0],null,o.attr()),o},Yt.setTime=function(t,e){return t&&null!=e&&this.status(t,z(e,t.ms)/t.ms),this},Yt.status=function(t,e){var n,r,i=[],o=0;if(null!=e)return y(t,this,-1,z(e,1)),this;for(n=oe.length;n>o;o++)if(r=oe[o],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},Yt.pause=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||t("raphael.anim.pause."+this.id,this,oe[n].anim)!==!1&&(oe[n].paused=!0);return this},Yt.resume=function(e){for(var n=0;n<oe.length;n++)if(oe[n].el.id==this.id&&(!e||oe[n].anim==e)){var r=oe[n];t("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status))}return this},Yt.stop=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||t("raphael.anim.stop."+this.id,this,oe[n].anim)!==!1&&oe.splice(n--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Yt.toString=function(){return"Raphaël’s object"};var le=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)!t[e]||t[e].constructor!=Yt.constructor&&t[e].constructor!=le||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ce=le.prototype;ce.push=function(){for(var t,e,n=0,r=arguments.length;r>n;n++)t=arguments[n],!t||t.constructor!=Yt.constructor&&t.constructor!=le||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ce.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ce.forEach=function(t,e){for(var n=0,r=this.items.length;r>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};for(var he in Yt)Yt[C](he)&&(ce[he]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][A](n,e)})}}(he));return ce.attr=function(t,n){if(t&&e.is(t,$)&&e.is(t[0],"object"))for(var r=0,i=t.length;i>r;r++)this.items[r].attr(t[r]);else for(var o=0,a=this.items.length;a>o;o++)this.items[o].attr(t,n);return this},ce.clear=function(){for(;this.length;)this.pop()},ce.splice=function(t,e,n){t=0>t?D(this.length+t,0):t,e=D(0,z(this.length-t,e));var r,i=[],o=[],a=[];for(r=2;r<arguments.length;r++)a.push(arguments[r]);for(r=0;e>r;r++)o.push(this[t+r]);for(;r<this.length-t;r++)i.push(this[t+r]);var s=a.length;for(r=0;r<s+i.length;r++)this.items[t+r]=this[t+r]=s>r?a[r]:i[r-s];for(r=this.items.length=this.length-=e-s;this[r];)delete this[r++];return new le(o)},ce.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0},ce.animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var o,a,s=this.items.length,u=s,l=this;if(!s)return this;i&&(a=function(){!--s&&i.call(l)}),r=e.is(r,W)?r:a;var c=e.animation(t,n,r,a);for(o=this.items[--u].animate(c);u--;)this.items[u]&&!this.items[u].removed&&this.items[u].animateWith(o,c,c),this.items[u]&&!this.items[u].removed||s--;return this},ce.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ce.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return t=z[A](0,t),e=z[A](0,e),n=D[A](0,n),r=D[A](0,r),{x:t,y:e,x2:n,y2:r,width:n-t,height:r-e}},ce.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},ce.toString=function(){return"Raphaël‘s set"},ce.glow=function(t){var e=this.paper.set();return this.forEach(function(n,r){var i=n.glow(t);null!=i&&i.forEach(function(t,n){e.push(t)})}),e},ce.isPointInside=function(t,e){var n=!1;return this.forEach(function(r){return r.isPointInside(t,e)?(n=!0,!1):void 0}),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[C](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=J(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[C](i)){var o=t.glyphs[i];if(e.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[C](a)&&(e.glyphs[i].k[a]=o.k[a])}}return t},b.getFont=function(t,n,r,i){if(i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o=e.fonts[t];if(!o){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,P)+"(\\s|$)","i");for(var s in e.fonts)if(e.fonts[C](s)&&a.test(s)){o=e.fonts[s];break}}var u;if(o)for(var l=0,c=o.length;c>l&&(u=o[l],u.face["font-weight"]!=n||u.face["font-style"]!=r&&u.face["font-style"]||u.face["font-stretch"]!=i);l++);return u}},b.print=function(t,n,r,i,o,a,s,u){a=a||"middle",s=D(z(s||0,1),-1),u=D(z(u||1,3),1);var l,c=F(r)[M](P),h=0,f=0,p=P;if(e.is(i,"string")&&(i=this.getFont(i)),i){l=(o||16)/i.face["units-per-em"];for(var d=i.face.bbox[M](x),v=+d[0],g=d[3]-d[1],y=0,m=+d[1]+("baseline"==a?g+ +i.face.descent:g/2),_=0,b=c.length;b>_;_++){if("\n"==c[_])h=0,k=0,f=0,y+=g*u;else{var w=f&&i.glyphs[c[_-1]]||{},k=i.glyphs[c[_]];h+=f?(w.w||i.w)+(w.k&&w.k[c[_]]||0)+i.w*s:0,
f=1}k&&k.d&&(p+=e.transformPath(k.d,["t",h*l,y*l,"s",l,l,v,m,"t",(t-v)/l,(n-m)/l]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var n,r=this.set(),i=0,o=t.length;o>i;i++)n=t[i]||{},w[C](n.type)&&r.push(this[n.type]().attr(n));return r},e.format=function(t,n){var r=e.is(n,$)?[0][S](n):arguments;return t&&e.is(t,W)&&r.length-1&&(t=t.replace(k,function(t,e){return null==r[++e]?P:r[e]})),t||P},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return String(e).replace(t,function(t,e){return n(t,e,r)})}}(),e.ninja=function(){return j.was?T.win.Raphael=j.is:delete Raphael,e},e.st=ce,t.on("raphael.DOMload",function(){_=!0}),function(t,n,r){function i(){/in/.test(t.readyState)?setTimeout(i,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(n,r=function(){t.removeEventListener(n,r,!1),t.readyState="complete"},!1),t.readyState="loading"),i()}(document,"DOMContentLoaded"),e}),function(t,n){i=[o],!(a=function(t){return n(t)}.apply(e,i))}(this,function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,u=o.pow,l=/[, ]+/,c=t.eve,h="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},v={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(r,i){if(i){"string"==typeof r&&(r=g(r));for(var o in i)i[e](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(p,o.substring(6),n(i[o])):r.setAttribute(o,n(i[o])))}else r=t._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},y=function(e,i){var l="linear",c=e.id+i,f=.5,p=.5,d=e.node,v=e.paper,y=d.style,m=t._g.doc.getElementById(c);if(!m){if(i=n(i).replace(t._radial_gradient,function(t,e,n){if(l="radial",e&&n){f=r(e),p=r(n);var i=2*(p>.5)-1;u(f-.5,2)+u(p-.5,2)>.25&&(p=o.sqrt(.25-u(f-.5,2))*i+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*i)}return h}),i=i.split(/\s*\-\s*/),"linear"==l){var _=i.shift();if(_=-r(_),isNaN(_))return null;var b=[0,0,o.cos(t.rad(_)),o.sin(t.rad(_))],x=1/(a(s(b[2]),s(b[3]))||1);b[2]*=x,b[3]*=x,b[2]<0&&(b[0]=-b[2],b[2]=0),b[3]<0&&(b[1]=-b[3],b[3]=0)}var w=t._parseDots(i);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(v.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){m=g(l+"Gradient",{id:c}),e.gradient=m,g(m,"radial"==l?{fx:f,fy:p}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:e.matrix.invert()}),v.defs.appendChild(m);for(var k=0,C=w.length;C>k;k++)m.appendChild(g("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff","stop-opacity":isFinite(w[k].opacity)?w[k].opacity:1}))}}return g(d,{fill:"url('"+document.location.origin+document.location.pathname+"#"+c+"')",opacity:1,"fill-opacity":1}),y.fill=h,y.opacity=1,y.fillOpacity=1,1},m=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},_=function(r,i,o){if("path"==r.type){for(var a,s,u,l,c,f=n(i).toLowerCase().split("-"),p=r.paper,y=o?"end":"start",m=r.node,_=r.attrs,b=_["stroke-width"],x=f.length,w="classic",k=3,C=3,T=5;x--;)switch(f[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[x];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,T+=2,u=1,l=o?4:1,c={fill:"none",stroke:_.stroke}):(l=u=k/2,c={fill:_.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&v[r._.arrows.endPath]--,r._.arrows.endMarker&&v[r._.arrows.endMarker]--):(r._.arrows.startPath&&v[r._.arrows.startPath]--,r._.arrows.startMarker&&v[r._.arrows.startMarker]--):r._.arrows={},"none"!=w){var j="raphael-marker-"+w,E="raphael-marker-"+y+w+k+C+"-obj"+r.id;t._g.doc.getElementById(j)?v[j]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:d[w],id:j})),v[j]=1);var A,S=t._g.doc.getElementById(E);S?(v[E]++,A=S.getElementsByTagName("use")[0]):(S=g(g("marker"),{id:E,markerHeight:C,markerWidth:k,orient:"auto",refX:l,refY:C/2}),A=g(g("use"),{"xlink:href":"#"+j,transform:(o?"rotate(180 "+k/2+" "+C/2+") ":h)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),S.appendChild(A),p.defs.appendChild(S),v[E]=1),g(A,c);var B=u*("diamond"!=w&&"oval"!=w);o?(a=r._.arrows.startdx*b||0,s=t.getTotalLength(_.path)-B*b):(a=B*b,s=t.getTotalLength(_.path)-(r._.arrows.enddx*b||0)),c={},c["marker-"+y]="url(#"+E+")",(s||a)&&(c.d=t.getSubpath(_.path,a,s)),g(m,c),r._.arrows[y+"Path"]=j,r._.arrows[y+"Marker"]=E,r._.arrows[y+"dx"]=B,r._.arrows[y+"Type"]=w,r._.arrows[y+"String"]=i}else o?(a=r._.arrows.startdx*b||0,s=t.getTotalLength(_.path)-a):(a=0,s=t.getTotalLength(_.path)-(r._.arrows.enddx*b||0)),r._.arrows[y+"Path"]&&g(m,{d:t.getSubpath(_.path,a,s)}),delete r._.arrows[y+"Path"],delete r._.arrows[y+"Marker"],delete r._.arrows[y+"dx"],delete r._.arrows[y+"Type"],delete r._.arrows[y+"String"];for(c in v)if(v[e](c)&&!v[c]){var P=t._g.doc.getElementById(c);P&&P.parentNode.removeChild(P)}}},b={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,e,r){if(e=b[n(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*i+(s%2?1:-1)*o;g(t.node,{"stroke-dasharray":a.join(",")})}else g(t.node,{"stroke-dasharray":"none"})},w=function(r,o){var u=r.node,c=r.attrs,f=u.style.visibility;u.style.visibility="hidden";for(var d in o)if(o[e](d)){if(!t._availableAttrs[e](d))continue;var v=o[d];switch(c[d]=v,d){case"blur":r.blur(v);break;case"title":var b=u.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=v;else{b=g("title");var w=t._g.doc.createTextNode(v);b.appendChild(w),u.appendChild(b)}break;case"href":case"target":var k=u.parentNode;if("a"!=k.tagName.toLowerCase()){var T=g("a");k.insertBefore(T,u),T.appendChild(u),k=T}"target"==d?k.setAttributeNS(p,"show","blank"==v?"new":v):k.setAttributeNS(p,d,v);break;case"cursor":u.style.cursor=v;break;case"transform":r.transform(v);break;case"arrow-start":_(r,v);break;case"arrow-end":_(r,v,1);break;case"clip-rect":var j=n(v).split(l);if(4==j.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var E=g("clipPath"),A=g("rect");E.id=t.createUUID(),g(A,{x:j[0],y:j[1],width:j[2],height:j[3]}),E.appendChild(A),r.paper.defs.appendChild(E),g(u,{"clip-path":"url(#"+E.id+")"}),r.clip=A}if(!v){var S=u.getAttribute("clip-path");if(S){var B=t._g.doc.getElementById(S.replace(/(^url\(#|\)$)/g,h));B&&B.parentNode.removeChild(B),g(u,{"clip-path":h}),delete r.clip}}break;case"path":"path"==r.type&&(g(u,{d:v?c.path=t._pathToAbsolute(v):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&_(r,r._.arrows.startString),"endString"in r._.arrows&&_(r,r._.arrows.endString,1)));break;case"width":if(u.setAttribute(d,v),r._.dirty=1,!c.fx)break;d="x",v=c.x;case"x":c.fx&&(v=-c.x-(c.width||0));case"rx":if("rx"==d&&"rect"==r.type)break;case"cx":u.setAttribute(d,v),r.pattern&&m(r),r._.dirty=1;break;case"height":if(u.setAttribute(d,v),r._.dirty=1,!c.fy)break;d="y",v=c.y;case"y":c.fy&&(v=-c.y-(c.height||0));case"ry":if("ry"==d&&"rect"==r.type)break;case"cy":u.setAttribute(d,v),r.pattern&&m(r),r._.dirty=1;break;case"r":"rect"==r.type?g(u,{rx:v,ry:v}):u.setAttribute(d,v),r._.dirty=1;break;case"src":"image"==r.type&&u.setAttributeNS(p,"href",v);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(v/=a(s(r._.sx),s(r._.sy))||1),u.setAttribute(d,v),c["stroke-dasharray"]&&x(r,c["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&_(r,r._.arrows.startString),"endString"in r._.arrows&&_(r,r._.arrows.endString,1));break;case"stroke-dasharray":x(r,v,o);break;case"fill":var P=n(v).match(t._ISURL);if(P){E=g("pattern");var O=g("image");E.id=t.createUUID(),g(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(O,{x:0,y:0,"xlink:href":P[1]}),E.appendChild(O),function(e){t._preload(P[1],function(){var t=this.offsetWidth,n=this.offsetHeight;g(e,{width:t,height:n}),g(O,{width:t,height:n})})}(E),r.paper.defs.appendChild(E),g(u,{fill:"url(#"+E.id+")"}),r.pattern=E,r.pattern&&m(r);break}var F=t.getRGB(v);if(F.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(v).charAt())&&y(r,v)){if("opacity"in c||"fill-opacity"in c){var M=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(M){var R=M.getElementsByTagName("stop");g(R[R.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=v,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&g(u,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&g(u,{"fill-opacity":c["fill-opacity"]});F[e]("opacity")&&g(u,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=t.getRGB(v),u.setAttribute(d,F.hex),"stroke"==d&&F[e]("opacity")&&g(u,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==d&&r._.arrows&&("startString"in r._.arrows&&_(r,r._.arrows.startString),"endString"in r._.arrows&&_(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(v).charAt())&&y(r,v);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&g(u,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(c.gradient){M=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,h)),M&&(R=M.getElementsByTagName("stop"),g(R[R.length-1],{"stop-opacity":v}));break}default:"font-size"==d&&(v=i(v,10)+"px");var L=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});u.style[L]=v,r._.dirty=1,u.setAttribute(d,v)}}C(r,o),u.style.visibility=f},k=1.2,C=function(r,o){if("text"==r.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var a=r.attrs,s=r.node,u=s.firstChild?i(t._g.doc.defaultView.getComputedStyle(s.firstChild,h).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var l,c=n(o.text).split("\n"),f=[],p=0,d=c.length;d>p;p++)l=g("tspan"),p&&g(l,{dy:u*k,x:a.x}),l.appendChild(t._g.doc.createTextNode(c[p])),s.appendChild(l),f[p]=l}else for(f=s.getElementsByTagName("tspan"),p=0,d=f.length;d>p;p++)p?g(f[p],{dy:u*k,x:a.x}):g(f[0],{dy:0});g(s,{x:a.x,y:a.y}),r._.dirty=1;var v=r._getBBox(),y=a.y-(v.y+v.height/2);y&&t.is(y,"finite")&&g(f[0],{dy:y})}},T=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},j=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},E=t.el;j.prototype=E,E.constructor=j,t._engine.path=function(t,e){var n=g("path");e.canvas&&e.canvas.appendChild(n);var r=new j(n,e);return r.type="path",w(r,{fill:"none",stroke:"#000",path:t}),r},E.rotate=function(t,e,i){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var o=this.getBBox(1);e=o.x+o.width/2,i=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},E.scale=function(t,e,i,o){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=r(t[1]),i=r(t[2]),o=r(t[3])),t=r(t[0]),null==e&&(e=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,i,o]])),this},E.translate=function(t,e){return this.removed?this:(t=n(t).split(l),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},E.transform=function(n){var r=this._;if(null==n)return r.transform;if(t._extractTransform(this,n),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&m(this),this.node&&g(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return r.transform=this.matrix.toTransformString(),this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var e=T(this.node);if(!this.removed&&e.parentNode){var n=this.paper;n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData();for(var r in this)this[r]="function"==typeof this[r]?t._removedFactory(r):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var r={};try{r=this.node.getBBox()}catch(t){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(e.display="none")}return t&&this.hide(),r},E.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(l),s={},u=0,h=a.length;h>u;u++)n=a[u],n in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return h-1?s:s[a[0]]}if(null==r&&t.is(n,"array")){for(s={},u=0,h=n.length;h>u;u++)s[n[u]]=this.attr(n[u]);return s}if(null!=r){var f={};f[n]=r}else null!=n&&t.is(n,"object")&&(f=n);for(var p in f)c("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var v in d)d[e](v)&&(f[v]=d[v])}return w(this,f),this},E.toFront=function(){if(this.removed)return this;var e=T(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},E.toBack=function(){if(this.removed)return this;var e=T(this.node),n=e.parentNode;return n.insertBefore(e,n.firstChild),t._toback(this,this.paper),this.paper,this},E.insertAfter=function(e){if(this.removed||!e)return this;var n=T(this.node),r=T(e.node||e[e.length-1].node);return r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var n=T(this.node),r=T(e.node||e[0].node);return r.parentNode.insertBefore(n,r),t._insertbefore(this,e,this.paper),this},E.blur=function(e){var n=this;if(0!==+e){var r=g("filter"),i=g("feGaussianBlur");n.attrs.blur=e,r.id=t.createUUID(),g(i,{stdDeviation:+e||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,g(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,r){var i=g("circle");t.canvas&&t.canvas.appendChild(i);var o=new j(i,t);return o.attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},o.type="circle",g(i,o.attrs),o},t._engine.rect=function(t,e,n,r,i,o){var a=g("rect");t.canvas&&t.canvas.appendChild(a);var s=new j(a,t);return s.attrs={x:e,y:n,width:r,height:i,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",g(a,s.attrs),s},t._engine.ellipse=function(t,e,n,r,i){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var a=new j(o,t);return a.attrs={cx:e,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",g(o,a.attrs),a},t._engine.image=function(t,e,n,r,i,o){var a=g("image");g(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(a);var s=new j(a,t);return s.attrs={x:n,y:r,width:i,height:o,src:e},s.type="image",s},t._engine.text=function(e,n,r,i){var o=g("text");e.canvas&&e.canvas.appendChild(o);var a=new j(o,e);return a.attrs={x:n,y:r,"text-anchor":"middle",text:i,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,r=e.x,i=e.y,o=e.width,a=e.height;if(!n)throw new Error("SVG container not found.");var s,u=g("svg"),l="overflow:hidden;";return r=r||0,i=i||0,o=o||512,a=a||342,g(u,{height:a,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(u.style.cssText=l+"position:absolute;left:"+r+"px;top:"+i+"px",t._g.doc.body.appendChild(u),s=1):(u.style.cssText=l+"position:relative",n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)),n=new t._Paper,n.width=o,n.height=a,n.canvas=u,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,r,i){c("raphael.setViewBox",this,this._viewBox,[t,e,n,r,i]);var o,s,u=this.getSize(),l=a(n/u.width,r/u.height),h=this.top,p=i?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=l,o=t+f+e+f+n+f+r),g(this.canvas,{viewBox:o,preserveAspectRatio:p});l&&h;)s="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":s}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,r,!!i],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,i=-t.f%1;(r||i)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),i&&(this._top=(this._top+i)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var A=t.st;for(var S in E)E[e](S)&&!A[e](S)&&(A[S]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(S))}}),function(t,n){i=[o],!(s=function(t){return n(t)}.apply(e,i))}(this,function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,r=parseFloat,i=Math,o=i.round,a=i.max,s=i.min,u=i.abs,l="fill",c=/[, ]+/,h=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,y=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,_="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,x={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var r=/[ahqstv]/gi,i=t._pathToAbsolute;if(n(e).match(r)&&(i=t._path2curve),r=/[clmz]/g,i==t._pathToAbsolute&&!n(e).match(r)){var a=n(e).replace(g,function(t,e,n){var r=[],i="m"==e.toLowerCase(),a=v[e];return n.replace(m,function(t){i&&2==r.length&&(a+=r+v["m"==e?"l":"L"],r=[]),r.push(o(t*b))}),a+r});return a}var s,u,l=i(e);a=[];for(var c=0,h=l.length;h>c;c++){s=l[c],u=l[c][0].toLowerCase(),"z"==u&&(u="x");for(var f=1,y=s.length;y>f;f++)u+=o(s[f]*b)+(f!=y-1?",":d);a.push(u)}return a.join(p)},C=function(e,n,r){var i=t.matrix();return i.rotate(-e,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},T=function(t,e,n,r,i,o){var a=t._,s=t.matrix,c=a.fillpos,h=t.node,f=h.style,d=1,v="",g=b/e,y=b/n;if(f.visibility="hidden",e&&n){if(h.coordsize=u(g)+p+u(y),f.rotation=o*(0>e*n?-1:1),o){var m=C(o,r,i);r=m.dx,i=m.dy}if(0>e&&(v+="x"),0>n&&(v+=" y")&&(d=-1),f.flip=v,h.coordorigin=r*-g+p+i*-y,c||a.fillsize){var _=h.getElementsByTagName(l);_=_&&_[0],h.removeChild(_),c&&(m=C(o,s.x(c[0],c[1]),s.y(c[0],c[1])),_.position=m.dx*d+p+m.dy*d),a.fillsize&&(_.size=a.fillsize[0]*u(e)+p+a.fillsize[1]*u(n)),h.appendChild(_)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var j=function(t,e,r){for(var i=n(e).toLowerCase().split("-"),o=r?"end":"start",a=i.length,s="classic",u="medium",l="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":l=i[a];break;case"long":case"short":u=i[a]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=s,c[o+"arrowlength"]=u,c[o+"arrowwidth"]=l},E=function(i,u){i.attrs=i.attrs||{};var h=i.node,f=i.attrs,v=h.style,g=x[i.type]&&(u.x!=f.x||u.y!=f.y||u.width!=f.width||u.height!=f.height||u.cx!=f.cx||u.cy!=f.cy||u.rx!=f.rx||u.ry!=f.ry||u.r!=f.r),y=w[i.type]&&(f.cx!=u.cx||f.cy!=u.cy||f.r!=u.r||f.rx!=u.rx||f.ry!=u.ry),m=i;for(var _ in u)u[e](_)&&(f[_]=u[_]);if(g&&(f.path=t._getPath[i.type](i),i._.dirty=1),u.href&&(h.href=u.href),u.title&&(h.title=u.title),u.target&&(h.target=u.target),u.cursor&&(v.cursor=u.cursor),"blur"in u&&i.blur(u.blur),(u.path&&"path"==i.type||g)&&(h.path=k(~n(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[f.x,f.y],i._.fillsize=[f.width,f.height],T(i,1,1,0,0,0))),"transform"in u&&i.transform(u.transform),y){var C=+f.cx,E=+f.cy,S=+f.rx||+f.r||0,B=+f.ry||+f.r||0;h.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((C-S)*b),o((E-B)*b),o((C+S)*b),o((E+B)*b),o(C*b)),i._.dirty=1}if("clip-rect"in u){var O=n(u["clip-rect"]).split(c);if(4==O.length){O[2]=+O[2]+ +O[0],O[3]=+O[3]+ +O[1];var F=h.clipRect||t._g.doc.createElement("div"),M=F.style;M.clip=t.format("rect({1}px {2}px {3}px {0}px)",O),h.clipRect||(M.position="absolute",M.top=0,M.left=0,M.width=i.paper.width+"px",M.height=i.paper.height+"px",h.parentNode.insertBefore(F,h),F.appendChild(h),h.clipRect=F)}u["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(i.textpath){var R=i.textpath.style;u.font&&(R.font=u.font),u["font-family"]&&(R.fontFamily='"'+u["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),u["font-size"]&&(R.fontSize=u["font-size"]),u["font-weight"]&&(R.fontWeight=u["font-weight"]),u["font-style"]&&(R.fontStyle=u["font-style"])}if("arrow-start"in u&&j(m,u["arrow-start"]),"arrow-end"in u&&j(m,u["arrow-end"],1),null!=u.opacity||null!=u["stroke-width"]||null!=u.fill||null!=u.src||null!=u.stroke||null!=u["stroke-width"]||null!=u["stroke-opacity"]||null!=u["fill-opacity"]||null!=u["stroke-dasharray"]||null!=u["stroke-miterlimit"]||null!=u["stroke-linejoin"]||null!=u["stroke-linecap"]){var L=h.getElementsByTagName(l),I=!1;if(L=L&&L[0],!L&&(I=L=P(l)),"image"==i.type&&u.src&&(L.src=u.src),u.fill&&(L.on=!0),(null==L.on||"none"==u.fill||null===u.fill)&&(L.on=!1),L.on&&u.fill){var N=n(u.fill).match(t._ISURL);if(N){L.parentNode==h&&h.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var D=i.getBBox(1);L.position=D.x+p+D.y,i._.fillpos=[D.x,D.y],t._preload(N[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=t.getRGB(u.fill).hex,L.src=d,L.type="solid",t.getRGB(u.fill).error&&(m.type in{circle:1,ellipse:1}||"r"!=n(u.fill).charAt())&&A(m,u.fill,L)&&(f.fill="none",f.gradient=u.fill,L.rotate=!1)}if("fill-opacity"in u||"opacity"in u){var z=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(u.fill).o+1||2)-1);z=s(a(z,0),1),L.opacity=z,L.src&&(L.color="none")}h.appendChild(L);var U=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],V=!1;!U&&(V=U=P("stroke")),(u.stroke&&"none"!=u.stroke||u["stroke-width"]||null!=u["stroke-opacity"]||u["stroke-dasharray"]||u["stroke-miterlimit"]||u["stroke-linejoin"]||u["stroke-linecap"])&&(U.on=!0),("none"==u.stroke||null===u.stroke||null==U.on||0==u.stroke||0==u["stroke-width"])&&(U.on=!1);var q=t.getRGB(u.stroke);U.on&&u.stroke&&(U.color=q.hex),z=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+q.o+1||2)-1);var H=.75*(r(u["stroke-width"])||1);if(z=s(a(z,0),1),null==u["stroke-width"]&&(H=f["stroke-width"]),u["stroke-width"]&&(U.weight=H),H&&1>H&&(z*=H)&&(U.weight=1),U.opacity=z,u["stroke-linejoin"]&&(U.joinstyle=u["stroke-linejoin"]||"miter"),U.miterlimit=u["stroke-miterlimit"]||8,u["stroke-linecap"]&&(U.endcap="butt"==u["stroke-linecap"]?"flat":"square"==u["stroke-linecap"]?"square":"round"),"stroke-dasharray"in u){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};U.dashstyle=W[e](u["stroke-dasharray"])?W[u["stroke-dasharray"]]:d}V&&h.appendChild(U)}if("text"==m.type){m.paper.canvas.style.display=d;var $=m.paper.span,G=100,X=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);v=$.style,f.font&&(v.font=f.font),f["font-family"]&&(v.fontFamily=f["font-family"]),f["font-weight"]&&(v.fontWeight=f["font-weight"]),f["font-style"]&&(v.fontStyle=f["font-style"]),X=r(f["font-size"]||X&&X[0])||10,v.fontSize=X*G+"px",m.textpath.string&&($.innerHTML=n(m.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=$.getBoundingClientRect();m.W=f.w=(Y.right-Y.left)/G,m.H=f.h=(Y.bottom-Y.top)/G,m.X=f.x,m.Y=f.y+m.H/2,("x"in u||"y"in u)&&(m.path.v=t.format("m{0},{1}l{2},{1}",o(f.x*b),o(f.y*b),o(f.x*b)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Z=Q.length;Z>K;K++)if(Q[K]in u){m._.dirty=1;break}switch(f["text-anchor"]){case"start":m.textpath.style["v-text-align"]="left",m.bbx=m.W/2;break;case"end":m.textpath.style["v-text-align"]="right",m.bbx=-m.W/2;break;default:m.textpath.style["v-text-align"]="center",m.bbx=0}m.textpath.style["v-text-kern"]=!0}},A=function(e,o,a){e.attrs=e.attrs||{};var s=(e.attrs,Math.pow),u="linear",l=".5 .5";if(e.attrs.gradient=o,o=n(o).replace(t._radial_gradient,function(t,e,n){return u="radial",e&&n&&(e=r(e),n=r(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),l=e+p+n),d}),o=o.split(/\s*\-\s*/),"linear"==u){var c=o.shift();if(c=-r(c),isNaN(c))return null}var h=t._parseDots(o);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(a),a.on=!0,a.method="none",a.color=h[0].color,a.color2=h[h.length-1].color;for(var f=[],v=0,g=h.length;g>v;v++)h[v].offset&&f.push(h[v].offset+p+h[v].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==u?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=l,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),e.appendChild(a)}return 1},S=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},B=t.el;S.prototype=B,B.constructor=S,B.transform=function(e){if(null==e)return this._.transform;var r,i=this.paper._viewBoxShift,o=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:d;i&&(r=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,o+e);var a,s=this.matrix.clone(),u=this.skew,l=this.node,c=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),h||c||"image"==this.type)if(u.matrix="1 0 0 1",u.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){l.style.filter=s.toFilter();var f=this.getBBox(),v=this.getBBox(1),g=f.x-v.x,y=f.y-v.y;l.coordorigin=g*-b+p+y*-b,T(this,1,1,g,y,0)}else l.style.filter=d,T(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else l.style.filter=d,u.matrix=n(s),u.offset=s.offset();return null!==r&&(this._.transform=r,t._extractTransform(this,r)),this},B.rotate=function(t,e,i){if(this.removed)return this;if(null!=t){if(t=n(t).split(c),t.length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var o=this.getBBox(1);e=o.x+o.width/2,i=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this}},B.translate=function(t,e){return this.removed?this:(t=n(t).split(c),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},B.scale=function(t,e,i,o){if(this.removed)return this;if(t=n(t).split(c),t.length-1&&(e=r(t[1]),i=r(t[2]),o=r(t[3]),isNaN(i)&&(i=null),isNaN(o)&&(o=null)),t=r(t[0]),null==e&&(e=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,i,o]])),this._.dirtyT=1,this},B.hide=function(){return!this.removed&&(this.node.style.display="none"),this},B.show=function(){return!this.removed&&(this.node.style.display=d),this},B.auxGetBBox=t.el.getBBox,B.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},B._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},B.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},B.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if(n==l&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(c),s={},u=0,f=a.length;f>u;u++)n=a[u],n in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[a[0]]}if(this.attrs&&null==r&&t.is(n,"array")){for(s={},u=0,f=n.length;f>u;u++)s[n[u]]=this.attr(n[u]);return s}var p;null!=r&&(p={},p[n]=r),null==r&&t.is(n,"object")&&(p=n);for(var d in p)h("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var v=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var g in v)v[e](g)&&(p[g]=v[g])}p.text&&"text"==this.type&&(this.textpath.string=p.text),E(this,p)}return this},B.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},B.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),
t._toback(this,this.paper)),this)},B.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},B.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},B.blur=function(e){var n=this.node.runtimeStyle,r=n.filter;return r=r.replace(y,d),0!==+e?(this.attrs.blur=e,n.filter=r+p+f+".Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=P("shape");n.style.cssText=_,n.coordsize=b+p+b,n.coordorigin=e.coordorigin;var r=new S(n,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),r.type="path",r.path=[],r.Path=d,E(r,i),e.canvas.appendChild(n);var o=P("skew");return o.on=!0,n.appendChild(o),r.skew=o,r.transform(d),r},t._engine.rect=function(e,n,r,i,o,a){var s=t._rectPath(n,r,i,o,a),u=e.path(s),l=u.attrs;return u.X=l.x=n,u.Y=l.y=r,u.W=l.width=i,u.H=l.height=o,l.r=a,l.path=s,u.type="rect",u},t._engine.ellipse=function(t,e,n,r,i){var o=t.path();return o.attrs,o.X=e-r,o.Y=n-i,o.W=2*r,o.H=2*i,o.type="ellipse",E(o,{cx:e,cy:n,rx:r,ry:i}),o},t._engine.circle=function(t,e,n,r){var i=t.path();return i.attrs,i.X=e-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",E(i,{cx:e,cy:n,r:r}),i},t._engine.image=function(e,n,r,i,o,a){var s=t._rectPath(r,i,o,a),u=e.path(s).attr({stroke:"none"}),c=u.attrs,h=u.node,f=h.getElementsByTagName(l)[0];return c.src=n,u.X=c.x=r,u.Y=c.y=i,u.W=c.width=o,u.H=c.height=a,c.path=s,u.type="image",f.parentNode==h&&h.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",u._.fillpos=[r,i],u._.fillsize=[o,a],h.appendChild(f),T(u,1,1,0,0,0),u},t._engine.text=function(e,r,i,a){var s=P("shape"),u=P("path"),l=P("textpath");r=r||0,i=i||0,a=a||"",u.v=t.format("m{0},{1}l{2},{1}",o(r*b),o(i*b),o(r*b)+1),u.textpathok=!0,l.string=n(a),l.on=!0,s.style.cssText=_,s.coordsize=b+p+b,s.coordorigin="0 0";var c=new S(s,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};c.shape=s,c.path=u,c.textpath=l,c.type="text",c.attrs.text=n(a),c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,E(c,h),s.appendChild(l),s.appendChild(u),e.canvas.appendChild(s);var f=P("skew");return f.on=!0,s.appendChild(f),c.skew=f,c.transform(d),c},t._engine.setSize=function(e,n){var r=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),r.width=e,r.height=n,r.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,r,i,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,r,i,o]);var a,s,u=this.getSize(),l=u.width,c=u.height;return o&&(a=c/i,s=l/r,l>r*a&&(e-=(l-r*a)/2/a),c>i*s&&(n-=(c-i*s)/2/s)),this._viewBox=[e,n,r,i,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:u},this.forEach(function(t){t.transform("...")}),this};var P;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){P=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,r=e.height,i=e.width,o=e.x,a=e.y;if(!n)throw new Error("VML container not found.");var s=new t._Paper,u=s.canvas=t._g.doc.createElement("div"),l=u.style;return o=o||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=1e3*b+p+1e3*b,s.coordorigin="0 0",s.span=t._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",u.appendChild(s.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==n?(t._g.doc.body.appendChild(u),l.left=o+"px",l.top=a+"px",l.position="absolute"):n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u),s.renderfix=function(){},s},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var O=t.st;for(var F in B)B[e](F)&&!O[e](F)&&(O[F]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(F))}}),function(n,r){i=[o,a,s],u=function(t){return n.Raphael=r(t)}.apply(e,i),!(void 0!==u&&(t.exports=u))}(this,function(t){return t.ninja()})},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function u(t){var e=new FileReader;return e.readAsText(t),a(e)}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(h.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=c(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function p(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},l.call(h.prototype),l.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];d.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=h,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=h.prototype.isPrototypeOf(t)&&!e?t:new h(t,e);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:p(a),url:i()},e="response"in a?a.response:a.responseText;n(new d(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){t.exports=n}])});
//# sourceMappingURL=babbage-core.min.js.map